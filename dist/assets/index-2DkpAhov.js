function rp(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var l=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return e[a]}})}),n}var Q0={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function v3(){if(xy)return Cc;xy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Cc.Fragment=t,Cc.jsx=n,Cc.jsxs=n,Cc}var wy;function y3(){return wy||(wy=1,Q0.exports=v3()),Q0.exports}var D=y3(),J0={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function _3(){if(by)return un;by=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function O(se){return se===null||typeof se!="object"?null:(se=E&&se[E]||se["@@iterator"],typeof se=="function"?se:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function k(se,ue,pe){this.props=se,this.context=ue,this.refs=N,this.updater=pe||C}k.prototype.isReactComponent={},k.prototype.setState=function(se,ue){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,ue,"setState")},k.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function F(){}F.prototype=k.prototype;function P(se,ue,pe){this.props=se,this.context=ue,this.refs=N,this.updater=pe||C}var B=P.prototype=new F;B.constructor=P,R(B,k.prototype),B.isPureReactComponent=!0;var W=Array.isArray,q={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function V(se,ue,pe,Ie,Ae,Re){return pe=Re.ref,{$$typeof:e,type:se,key:ue,ref:pe!==void 0?pe:null,props:Re}}function ne(se,ue){return V(se.type,ue,void 0,void 0,void 0,se.props)}function G(se){return typeof se=="object"&&se!==null&&se.$$typeof===e}function J(se){var ue={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(pe){return ue[pe]})}var Q=/\/+/g;function H(se,ue){return typeof se=="object"&&se!==null&&se.key!=null?J(""+se.key):ue.toString(36)}function ee(){}function z(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(ee,ee):(se.status="pending",se.then(function(ue){se.status==="pending"&&(se.status="fulfilled",se.value=ue)},function(ue){se.status==="pending"&&(se.status="rejected",se.reason=ue)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function Z(se,ue,pe,Ie,Ae){var Re=typeof se;(Re==="undefined"||Re==="boolean")&&(se=null);var Le=!1;if(se===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(se.$$typeof){case e:case t:Le=!0;break;case b:return Le=se._init,Z(Le(se._payload),ue,pe,Ie,Ae)}}if(Le)return Ae=Ae(se),Le=Ie===""?"."+H(se,0):Ie,W(Ae)?(pe="",Le!=null&&(pe=Le.replace(Q,"$&/")+"/"),Z(Ae,ue,pe,"",function(ft){return ft})):Ae!=null&&(G(Ae)&&(Ae=ne(Ae,pe+(Ae.key==null||se&&se.key===Ae.key?"":(""+Ae.key).replace(Q,"$&/")+"/")+Le)),ue.push(Ae)),1;Le=0;var gt=Ie===""?".":Ie+":";if(W(se))for(var Ze=0;Ze<se.length;Ze++)Ie=se[Ze],Re=gt+H(Ie,Ze),Le+=Z(Ie,ue,pe,Re,Ae);else if(Ze=O(se),typeof Ze=="function")for(se=Ze.call(se),Ze=0;!(Ie=se.next()).done;)Ie=Ie.value,Re=gt+H(Ie,Ze++),Le+=Z(Ie,ue,pe,Re,Ae);else if(Re==="object"){if(typeof se.then=="function")return Z(z(se),ue,pe,Ie,Ae);throw ue=String(se),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ye(se,ue,pe){if(se==null)return se;var Ie=[],Ae=0;return Z(se,Ie,"","",function(Re){return ue.call(pe,Re,Ae++)}),Ie}function he(se){if(se._status===-1){var ue=se._result;ue=ue(),ue.then(function(pe){(se._status===0||se._status===-1)&&(se._status=1,se._result=pe)},function(pe){(se._status===0||se._status===-1)&&(se._status=2,se._result=pe)}),se._status===-1&&(se._status=0,se._result=ue)}if(se._status===1)return se._result.default;throw se._result}var ge=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function fe(){}return un.Children={map:ye,forEach:function(se,ue,pe){ye(se,function(){ue.apply(this,arguments)},pe)},count:function(se){var ue=0;return ye(se,function(){ue++}),ue},toArray:function(se){return ye(se,function(ue){return ue})||[]},only:function(se){if(!G(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},un.Component=k,un.Fragment=n,un.Profiler=l,un.PureComponent=P,un.StrictMode=a,un.Suspense=p,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,un.act=function(){throw Error("act(...) is not supported in production builds of React.")},un.cache=function(se){return function(){return se.apply(null,arguments)}},un.cloneElement=function(se,ue,pe){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var Ie=R({},se.props),Ae=se.key,Re=void 0;if(ue!=null)for(Le in ue.ref!==void 0&&(Re=void 0),ue.key!==void 0&&(Ae=""+ue.key),ue)!Y.call(ue,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ue.ref===void 0||(Ie[Le]=ue[Le]);var Le=arguments.length-2;if(Le===1)Ie.children=pe;else if(1<Le){for(var gt=Array(Le),Ze=0;Ze<Le;Ze++)gt[Ze]=arguments[Ze+2];Ie.children=gt}return V(se.type,Ae,void 0,void 0,Re,Ie)},un.createContext=function(se){return se={$$typeof:d,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:c,_context:se},se},un.createElement=function(se,ue,pe){var Ie,Ae={},Re=null;if(ue!=null)for(Ie in ue.key!==void 0&&(Re=""+ue.key),ue)Y.call(ue,Ie)&&Ie!=="key"&&Ie!=="__self"&&Ie!=="__source"&&(Ae[Ie]=ue[Ie]);var Le=arguments.length-2;if(Le===1)Ae.children=pe;else if(1<Le){for(var gt=Array(Le),Ze=0;Ze<Le;Ze++)gt[Ze]=arguments[Ze+2];Ae.children=gt}if(se&&se.defaultProps)for(Ie in Le=se.defaultProps,Le)Ae[Ie]===void 0&&(Ae[Ie]=Le[Ie]);return V(se,Re,void 0,void 0,null,Ae)},un.createRef=function(){return{current:null}},un.forwardRef=function(se){return{$$typeof:y,render:se}},un.isValidElement=G,un.lazy=function(se){return{$$typeof:b,_payload:{_status:-1,_result:se},_init:he}},un.memo=function(se,ue){return{$$typeof:g,type:se,compare:ue===void 0?null:ue}},un.startTransition=function(se){var ue=q.T,pe={};q.T=pe;try{var Ie=se(),Ae=q.S;Ae!==null&&Ae(pe,Ie),typeof Ie=="object"&&Ie!==null&&typeof Ie.then=="function"&&Ie.then(fe,ge)}catch(Re){ge(Re)}finally{q.T=ue}},un.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},un.use=function(se){return q.H.use(se)},un.useActionState=function(se,ue,pe){return q.H.useActionState(se,ue,pe)},un.useCallback=function(se,ue){return q.H.useCallback(se,ue)},un.useContext=function(se){return q.H.useContext(se)},un.useDebugValue=function(){},un.useDeferredValue=function(se,ue){return q.H.useDeferredValue(se,ue)},un.useEffect=function(se,ue){return q.H.useEffect(se,ue)},un.useId=function(){return q.H.useId()},un.useImperativeHandle=function(se,ue,pe){return q.H.useImperativeHandle(se,ue,pe)},un.useInsertionEffect=function(se,ue){return q.H.useInsertionEffect(se,ue)},un.useLayoutEffect=function(se,ue){return q.H.useLayoutEffect(se,ue)},un.useMemo=function(se,ue){return q.H.useMemo(se,ue)},un.useOptimistic=function(se,ue){return q.H.useOptimistic(se,ue)},un.useReducer=function(se,ue,pe){return q.H.useReducer(se,ue,pe)},un.useRef=function(se){return q.H.useRef(se)},un.useState=function(se){return q.H.useState(se)},un.useSyncExternalStore=function(se,ue,pe){return q.H.useSyncExternalStore(se,ue,pe)},un.useTransition=function(){return q.H.useTransition()},un.version="19.0.0",un}var Ey;function ui(){return Ey||(Ey=1,J0.exports=_3()),J0.exports}var K=ui();const Ct=Vo(K),zh=rp({__proto__:null,default:Ct},[K]);var e1={exports:{}},Ac={},t1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function x3(){return Sy||(Sy=1,function(e){function t(ye,he){var ge=ye.length;ye.push(he);e:for(;0<ge;){var fe=ge-1>>>1,se=ye[fe];if(0<l(se,he))ye[fe]=he,ye[ge]=se,ge=fe;else break e}}function n(ye){return ye.length===0?null:ye[0]}function a(ye){if(ye.length===0)return null;var he=ye[0],ge=ye.pop();if(ge!==he){ye[0]=ge;e:for(var fe=0,se=ye.length,ue=se>>>1;fe<ue;){var pe=2*(fe+1)-1,Ie=ye[pe],Ae=pe+1,Re=ye[Ae];if(0>l(Ie,ge))Ae<se&&0>l(Re,Ie)?(ye[fe]=Re,ye[Ae]=ge,fe=Ae):(ye[fe]=Ie,ye[pe]=ge,fe=pe);else if(Ae<se&&0>l(Re,ge))ye[fe]=Re,ye[Ae]=ge,fe=Ae;else break e}}return he}function l(ye,he){var ge=ye.sortIndex-he.sortIndex;return ge!==0?ge:ye.id-he.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();e.unstable_now=function(){return d.now()-y}}var p=[],g=[],b=1,E=null,O=3,C=!1,R=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(ye){for(var he=n(g);he!==null;){if(he.callback===null)a(g);else if(he.startTime<=ye)a(g),he.sortIndex=he.expirationTime,t(p,he);else break;he=n(g)}}function W(ye){if(N=!1,B(ye),!R)if(n(p)!==null)R=!0,z();else{var he=n(g);he!==null&&Z(W,he.startTime-ye)}}var q=!1,Y=-1,V=5,ne=-1;function G(){return!(e.unstable_now()-ne<V)}function J(){if(q){var ye=e.unstable_now();ne=ye;var he=!0;try{e:{R=!1,N&&(N=!1,F(Y),Y=-1),C=!0;var ge=O;try{t:{for(B(ye),E=n(p);E!==null&&!(E.expirationTime>ye&&G());){var fe=E.callback;if(typeof fe=="function"){E.callback=null,O=E.priorityLevel;var se=fe(E.expirationTime<=ye);if(ye=e.unstable_now(),typeof se=="function"){E.callback=se,B(ye),he=!0;break t}E===n(p)&&a(p),B(ye)}else a(p);E=n(p)}if(E!==null)he=!0;else{var ue=n(g);ue!==null&&Z(W,ue.startTime-ye),he=!1}}break e}finally{E=null,O=ge,C=!1}he=void 0}}finally{he?Q():q=!1}}}var Q;if(typeof P=="function")Q=function(){P(J)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=J,Q=function(){ee.postMessage(null)}}else Q=function(){k(J,0)};function z(){q||(q=!0,Q())}function Z(ye,he){Y=k(function(){ye(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ye){ye.callback=null},e.unstable_continueExecution=function(){R||C||(R=!0,z())},e.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ye?Math.floor(1e3/ye):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(ye){switch(O){case 1:case 2:case 3:var he=3;break;default:he=O}var ge=O;O=he;try{return ye()}finally{O=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ye,he){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var ge=O;O=ye;try{return he()}finally{O=ge}},e.unstable_scheduleCallback=function(ye,he,ge){var fe=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?fe+ge:fe):ge=fe,ye){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ge+se,ye={id:b++,callback:he,priorityLevel:ye,startTime:ge,expirationTime:se,sortIndex:-1},ge>fe?(ye.sortIndex=ge,t(g,ye),n(p)===null&&ye===n(g)&&(N?(F(Y),Y=-1):N=!0,Z(W,ge-fe))):(ye.sortIndex=se,t(p,ye),R||C||(R=!0,z())),ye},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(ye){var he=O;return function(){var ge=O;O=he;try{return ye.apply(this,arguments)}finally{O=ge}}}}(n1)),n1}var Cy;function w3(){return Cy||(Cy=1,t1.exports=x3()),t1.exports}var r1={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function b3(){if(Ay)return wi;Ay=1;var e=ui();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,g,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:g,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wi.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,b)},wi.flushSync=function(p){var g=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=b,a.d.f()}},wi.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},wi.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},wi.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,E=y(b,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:O,fetchPriority:C}):b==="script"&&a.d.X(p,{crossOrigin:E,integrity:O,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wi.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=y(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},wi.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,E=y(b,g.crossOrigin);a.d.L(p,b,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wi.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=y(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},wi.requestFormReset=function(p){a.d.r(p)},wi.unstable_batchedUpdates=function(p,g){return p(g)},wi.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},wi.useFormStatus=function(){return d.H.useHostTransitionStatus()},wi.version="19.0.0",wi}var Ty;function rd(){if(Ty)return r1.exports;Ty=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),r1.exports=b3(),r1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function E3(){if(Oy)return Ac;Oy=1;var e=w3(),t=ui(),n=rd();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case y:return"Portal";case b:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case R:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return s=r.displayName||null,s!==null?s:ne(r.type)||"Memo";case P:s=r._payload,r=r._init;try{return ne(r(s))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,Q,H;function ee(r){if(Q===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);Q=s&&s[1]||"",H=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+r+H}var z=!1;function Z(r,s){if(!r||z)return"";z=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Ke){var Ve=Ke}Reflect.construct(r,[],at)}else{try{at.call()}catch(Ke){Ve=Ke}r.call(at.prototype)}}else{try{throw Error()}catch(Ke){Ve=Ke}(at=r())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Ke){if(Ke&&Ve&&typeof Ke.stack=="string")return[Ke.stack,Ve.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=x.DetermineComponentFrameRoot(),te=M[0],ce=M[1];if(te&&ce){var xe=te.split(`
`),Oe=ce.split(`
`);for(T=x=0;x<xe.length&&!xe[x].includes("DetermineComponentFrameRoot");)x++;for(;T<Oe.length&&!Oe[T].includes("DetermineComponentFrameRoot");)T++;if(x===xe.length||T===Oe.length)for(x=xe.length-1,T=Oe.length-1;1<=x&&0<=T&&xe[x]!==Oe[T];)T--;for(;1<=x&&0<=T;x--,T--)if(xe[x]!==Oe[T]){if(x!==1||T!==1)do if(x--,T--,0>T||xe[x]!==Oe[T]){var Qe=`
`+xe[x].replace(" at new "," at ");return r.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",r.displayName)),Qe}while(1<=x&&0<=T);break}}}finally{z=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?ee(h):""}function ye(r){switch(r.tag){case 26:case 27:case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function he(r){try{var s="";do s+=ye(r),r=r.return;while(r);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ge(r){var s=r,h=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(h=s.return),r=s.return;while(r)}return s.tag===3?h:null}function fe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function se(r){if(ge(r)!==r)throw Error(a(188))}function ue(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(a(188));return s!==r?null:r}for(var h=r,x=s;;){var T=h.return;if(T===null)break;var M=T.alternate;if(M===null){if(x=T.return,x!==null){h=x;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===h)return se(T),r;if(M===x)return se(T),s;M=M.sibling}throw Error(a(188))}if(h.return!==x.return)h=T,x=M;else{for(var te=!1,ce=T.child;ce;){if(ce===h){te=!0,h=T,x=M;break}if(ce===x){te=!0,x=T,h=M;break}ce=ce.sibling}if(!te){for(ce=M.child;ce;){if(ce===h){te=!0,h=M,x=T;break}if(ce===x){te=!0,x=M,h=T;break}ce=ce.sibling}if(!te)throw Error(a(189))}}if(h.alternate!==x)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?r:s}function pe(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=pe(r),s!==null)return s;r=r.sibling}return null}var Ie=Array.isArray,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Le=[],gt=-1;function Ze(r){return{current:r}}function ft(r){0>gt||(r.current=Le[gt],Le[gt]=null,gt--)}function wt(r,s){gt++,Le[gt]=r.current,r.current=s}var Mt=Ze(null),Yt=Ze(null),Tt=Ze(null),re=Ze(null);function Ye(r,s){switch(wt(Tt,s),wt(Yt,r),wt(Mt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Xv(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Xv(r),s=$v(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ft(Mt),wt(Mt,s)}function Ue(){ft(Mt),ft(Yt),ft(Tt)}function _e(r){r.memoizedState!==null&&wt(re,r);var s=Mt.current,h=$v(s,r.type);s!==h&&(wt(Yt,r),wt(Mt,h))}function de(r){Yt.current===r&&(ft(Mt),ft(Yt)),re.current===r&&(ft(re),xc._currentValue=Re)}var Ee=Object.prototype.hasOwnProperty,Je=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,je=e.unstable_shouldYield,ct=e.unstable_requestPaint,lt=e.unstable_now,ut=e.unstable_getCurrentPriorityLevel,yt=e.unstable_ImmediatePriority,dn=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,nn=e.unstable_LowPriority,fi=e.unstable_IdlePriority,nr=e.log,Yi=e.unstable_setDisableYieldValue,Nt=null,rt=null;function Ln(r){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Nt,r,void 0,(r.current.flags&128)===128)}catch{}}function Ft(r){if(typeof nr=="function"&&Yi(r),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Nt,r)}catch{}}var Gt=Math.clz32?Math.clz32:ma,ki=Math.log,Pi=Math.LN2;function ma(r){return r>>>=0,r===0?32:31-(ki(r)/Pi|0)|0}var Zt=128,rr=4194304;function Fr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function pa(r,s){var h=r.pendingLanes;if(h===0)return 0;var x=0,T=r.suspendedLanes,M=r.pingedLanes,te=r.warmLanes;r=r.finishedLanes!==0;var ce=h&134217727;return ce!==0?(h=ce&~T,h!==0?x=Fr(h):(M&=ce,M!==0?x=Fr(M):r||(te=ce&~te,te!==0&&(x=Fr(te))))):(ce=h&~T,ce!==0?x=Fr(ce):M!==0?x=Fr(M):r||(te=h&~te,te!==0&&(x=Fr(te)))),x===0?0:s!==0&&s!==x&&(s&T)===0&&(T=x&-x,te=s&-s,T>=te||T===32&&(te&4194176)!==0)?s:x}function Sr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Xa(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(){var r=Zt;return Zt<<=1,(Zt&4194176)===0&&(Zt=128),r}function yi(){var r=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),r}function Bi(r){for(var s=[],h=0;31>h;h++)s.push(r);return s}function Lr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Se(r,s,h,x,T,M){var te=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var ce=r.entanglements,xe=r.expirationTimes,Oe=r.hiddenUpdates;for(h=te&~h;0<h;){var Qe=31-Gt(h),at=1<<Qe;ce[Qe]=0,xe[Qe]=-1;var Ve=Oe[Qe];if(Ve!==null)for(Oe[Qe]=null,Qe=0;Qe<Ve.length;Qe++){var Ke=Ve[Qe];Ke!==null&&(Ke.lane&=-536870913)}h&=~at}x!==0&&Ne(r,x,0),M!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=M&~(te&~s))}function Ne(r,s,h){r.pendingLanes|=s,r.suspendedLanes&=~s;var x=31-Gt(s);r.entangledLanes|=s,r.entanglements[x]=r.entanglements[x]|1073741824|h&4194218}function He(r,s){var h=r.entangledLanes|=s;for(r=r.entanglements;h;){var x=31-Gt(h),T=1<<x;T&s|r[x]&s&&(r[x]|=s),h&=~T}}function Xe(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ge(){var r=Ae.p;return r!==0?r:(r=window.event,r===void 0?32:my(r.type))}function xt(r,s){var h=Ae.p;try{return Ae.p=r,s()}finally{Ae.p=h}}var $e=Math.random().toString(36).slice(2),dt="__reactFiber$"+$e,pt="__reactProps$"+$e,ht="__reactContainer$"+$e,bt="__reactEvents$"+$e,Bt="__reactListeners$"+$e,$t="__reactHandles$"+$e,In="__reactResources$"+$e,En="__reactMarker$"+$e;function mn(r){delete r[dt],delete r[pt],delete r[bt],delete r[Bt],delete r[$t]}function en(r){var s=r[dt];if(s)return s;for(var h=r.parentNode;h;){if(s=h[ht]||h[dt]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(r=Jv(r);r!==null;){if(h=r[dt])return h;r=Jv(r)}return s}r=h,h=r.parentNode}return null}function Rn(r){if(r=r[dt]||r[ht]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function vn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function or(r){var s=r[In];return s||(s=r[In]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function hn(r){r[En]=!0}var ga=new Set,et={};function Hr(r,s){Sn(r,s),Sn(r+"Capture",s)}function Sn(r,s){for(et[r]=s,r=0;r<s.length;r++)ga.add(s[r])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dt={},Kt={};function qt(r){return Ee.call(Kt,r)?!0:Ee.call(Dt,r)?!1:rn.test(r)?Kt[r]=!0:(Dt[r]=!0,!1)}function Ot(r,s,h){if(qt(s))if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var x=s.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+h)}}function pn(r,s,h){if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+h)}}function Cr(r,s,h,x){if(x===null)r.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(s,h,""+x)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $r(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yo(r){var s=$r(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),x=""+r[s];if(!r.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,M=h.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return T.call(this)},set:function(te){x=""+te,M.call(this,te)}}),Object.defineProperty(r,s,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(te){x=""+te},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Et(r){r._valueTracker||(r._valueTracker=Yo(r))}function Nn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var h=s.getValue(),x="";return r&&(x=$r(r)?r.checked?"true":"false":r.value),r=x,r!==h?(s.setValue(r),!0):!1}function $a(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xi=/[\n"\\]/g;function jt(r){return r.replace(Xi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gr(r,s,h,x,T,M,te,ce){r.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?r.type=te:r.removeAttribute("type"),s!=null?te==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+on(s)):r.value!==""+on(s)&&(r.value=""+on(s)):te!=="submit"&&te!=="reset"||r.removeAttribute("value"),s!=null?me(r,te,on(s)):h!=null?me(r,te,on(h)):x!=null&&r.removeAttribute("value"),T==null&&M!=null&&(r.defaultChecked=!!M),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?r.name=""+on(ce):r.removeAttribute("name")}function Be(r,s,h,x,T,M,te,ce){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(r.type=M),s!=null||h!=null){if(!(M!=="submit"&&M!=="reset"||s!=null))return;h=h!=null?""+on(h):"",s=s!=null?""+on(s):h,ce||s===r.value||(r.value=s),r.defaultValue=s}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,r.checked=ce?r.checked:!!x,r.defaultChecked=!!x,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(r.name=te)}function me(r,s,h){s==="number"&&$a(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function mt(r,s,h,x){if(r=r.options,s){s={};for(var T=0;T<h.length;T++)s["$"+h[T]]=!0;for(h=0;h<r.length;h++)T=s.hasOwnProperty("$"+r[h].value),r[h].selected!==T&&(r[h].selected=T),T&&x&&(r[h].defaultSelected=!0)}else{for(h=""+on(h),s=null,T=0;T<r.length;T++){if(r[T].value===h){r[T].selected=!0,x&&(r[T].defaultSelected=!0);return}s!==null||r[T].disabled||(s=r[T])}s!==null&&(s.selected=!0)}}function zn(r,s,h){if(s!=null&&(s=""+on(s),s!==r.value&&(r.value=s),h==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=h!=null?""+on(h):""}function Ar(r,s,h,x){if(s==null){if(x!=null){if(h!=null)throw Error(a(92));if(Ie(x)){if(1<x.length)throw Error(a(93));x=x[0]}h=x}h==null&&(h=""),s=h}h=on(s),r.defaultValue=h,x=r.textContent,x===h&&x!==""&&x!==null&&(r.value=x)}function ji(r,s){if(s){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=s;return}}r.textContent=s}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tr(r,s,h){var x=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":x?r.setProperty(s,h):typeof h!="number"||h===0||As.has(s)?s==="float"?r.cssFloat=h:r[s]=(""+h).trim():r[s]=h+"px"}function Rt(r,s,h){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||s!=null&&s.hasOwnProperty(x)||(x.indexOf("--")===0?r.setProperty(x,""):x==="float"?r.cssFloat="":r[x]="");for(var T in s)x=s[T],s.hasOwnProperty(T)&&h[T]!==x&&Tr(r,T,x)}else for(var M in s)s.hasOwnProperty(M)&&Tr(r,M,s[M])}function kn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(r){return Xo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var $i=null;function Ka(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ya=null,Gn=null;function Ht(r){var s=Rn(r);if(s&&(r=s.stateNode)){var h=r[pt]||null;e:switch(r=s.stateNode,s.type){case"input":if(gr(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+jt(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var x=h[s];if(x!==r&&x.form===r.form){var T=x[pt]||null;if(!T)throw Error(a(90));gr(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(s=0;s<h.length;s++)x=h[s],x.form===r.form&&Nn(x)}break e;case"textarea":zn(r,h.value,h.defaultValue);break e;case"select":s=h.value,s!=null&&mt(r,!!h.multiple,s,!1)}}}var hr=!1;function vt(r,s,h){if(hr)return r(s,h);hr=!0;try{var x=r(s);return x}finally{if(hr=!1,(ya!==null||Gn!==null)&&(Uf(),ya&&(s=ya,r=Gn,Gn=ya=null,Ht(s),r)))for(s=0;s<r.length;s++)Ht(r[s])}}function Qa(r,s){var h=r.stateNode;if(h===null)return null;var x=h[pt]||null;if(x===null)return null;h=x[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(r=r.type,x=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!x;break e;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(a(231,s,typeof h));return h}var Wt=!1;if(ir)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Wt=!1}var zi=null,Ei=null,La=null;function _i(){if(La)return La;var r,s=Ei,h=s.length,x,T="value"in zi?zi.value:zi.textContent,M=T.length;for(r=0;r<h&&s[r]===T[r];r++);var te=h-r;for(x=1;x<=te&&s[h-x]===T[M-x];x++);return La=T.slice(r,1<x?1-x:void 0)}function lr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function ka(){return!1}function dr(r){function s(h,x,T,M,te){this._reactName=h,this._targetInst=T,this.type=x,this.nativeEvent=M,this.target=te,this.currentTarget=null;for(var ce in r)r.hasOwnProperty(ce)&&(h=r[ce],this[ce]=h?h(M):M[ce]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Kr:ka,this.isPropagationStopped=ka,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),s}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=dr(_a),Si=J({},_a,{view:0,detail:0}),Qr=dr(Si),Os,ln,Ja,Jr=J({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ja&&(Ja&&r.type==="mousemove"?(Os=r.screenX-Ja.screenX,ln=r.screenY-Ja.screenY):ln=Os=0,Ja=r),Os)},movementY:function(r){return"movementY"in r?r.movementY:ln}}),es=dr(Jr),Ul=J({},Jr,{dataTransfer:0}),Mn=dr(Ul),eo=J({},Si,{relatedTarget:0}),ts=dr(eo),Qi=J({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=dr(Qi),qe=J({},_a,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xt=dr(qe),Or=J({},_a,{data:0}),ei=dr(Or),Fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xa[r])?!!s[r]:!1}function ns(){return Vl}var ar=J({},Si,{key:function(r){if(r.key){var s=Fl[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=lr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(r){return r.type==="keypress"?lr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$o=dr(ar),Yn=J({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=dr(Yn),Pa=J({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Pn=dr(Pa),kt=J({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=dr(kt),Bn=J({},Jr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=dr(Bn),Ji=J({},_a,{newState:0,oldState:0}),Ba=dr(Ji),Ui=[9,13,27,32],ea=ir&&"CompositionEvent"in window,Ir=null;ir&&"documentMode"in document&&(Ir=document.documentMode);var to=ir&&"TextEvent"in window&&!Ir,no=ir&&(!ea||Ir&&8<Ir&&11>=Ir),Ko=" ",ro=!1;function ta(r,s){switch(r){case"keyup":return Ui.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var is=!1;function as(r,s){switch(r){case"compositionend":return io(s);case"keypress":return s.which!==32?null:(ro=!0,Ko);case"textInput":return r=s.data,r===Ko&&ro?null:r;default:return null}}function Zu(r,s){if(is)return r==="compositionend"||!ea&&ta(r,s)?(r=_i(),La=Ei=zi=null,is=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return no&&s.locale!=="ko"?null:s.data;default:return null}}var vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fi(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!vr[r.type]:s==="textarea"}function hi(r,s,h,x){ya?Gn?Gn.push(x):Gn=[x]:ya=x,s=Wf(s,"onChange"),0<s.length&&(h=new Ki("onChange","change",null,h,x),r.push({event:h,listeners:s}))}var ti=null,ni=null;function ss(r){qv(r,0)}function os(r){var s=vn(r);if(Nn(s))return r}function ls(r,s){if(r==="change")return s}var ao=!1;if(ir){var Vr;if(ir){var Qo="oninput"in document;if(!Qo){var Ci=document.createElement("div");Ci.setAttribute("oninput","return;"),Qo=typeof Ci.oninput=="function"}Vr=Qo}else Vr=!1;ao=Vr&&(!document.documentMode||9<document.documentMode)}function na(){ti&&(ti.detachEvent("onpropertychange",yn),ni=ti=null)}function yn(r){if(r.propertyName==="value"&&os(ni)){var s=[];hi(s,ni,r,Ka(r)),vt(ss,s)}}function us(r,s,h){r==="focusin"?(na(),ti=s,ni=h,ti.attachEvent("onpropertychange",yn)):r==="focusout"&&na()}function ie(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return os(ni)}function i(r,s){if(r==="click")return os(s)}function o(r,s){if(r==="input"||r==="change")return os(s)}function f(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var m=typeof Object.is=="function"?Object.is:f;function v(r,s){if(m(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var h=Object.keys(r),x=Object.keys(s);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var T=h[x];if(!Ee.call(s,T)||!m(r[T],s[T]))return!1}return!0}function w(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function S(r,s){var h=w(r);r=0;for(var x;h;){if(h.nodeType===3){if(x=r+h.textContent.length,r<=s&&x>=s)return{node:h,offset:s-r};r=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=w(h)}}function I(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?I(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function j(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=$a(r.document);s instanceof r.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)r=s.contentWindow;else break;s=$a(r.document)}return s}function $(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ae(r,s){var h=j(s);s=r.focusedElem;var x=r.selectionRange;if(h!==s&&s&&s.ownerDocument&&I(s.ownerDocument.documentElement,s)){if(x!==null&&$(s)){if(r=x.start,h=x.end,h===void 0&&(h=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(h,s.value.length);else if(h=(r=s.ownerDocument||document)&&r.defaultView||window,h.getSelection){h=h.getSelection();var T=s.textContent.length,M=Math.min(x.start,T);x=x.end===void 0?M:Math.min(x.end,T),!h.extend&&M>x&&(T=x,x=M,M=T),T=S(s,M);var te=S(s,x);T&&te&&(h.rangeCount!==1||h.anchorNode!==T.node||h.anchorOffset!==T.offset||h.focusNode!==te.node||h.focusOffset!==te.offset)&&(r=r.createRange(),r.setStart(T.node,T.offset),h.removeAllRanges(),M>x?(h.addRange(r),h.extend(te.node,te.offset)):(r.setEnd(te.node,te.offset),h.addRange(r)))}}for(r=[],h=s;h=h.parentNode;)h.nodeType===1&&r.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)h=r[s],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var le=ir&&"documentMode"in document&&11>=document.documentMode,ve=null,be=null,Ce=null,Pe=!1;function Fe(r,s,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pe||ve==null||ve!==$a(x)||(x=ve,"selectionStart"in x&&$(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ce&&v(Ce,x)||(Ce=x,x=Wf(be,"onSelect"),0<x.length&&(s=new Ki("onSelect","select",null,s,h),r.push({event:s,listeners:x}),s.target=ve)))}function st(r,s){var h={};return h[r.toLowerCase()]=s.toLowerCase(),h["Webkit"+r]="webkit"+s,h["Moz"+r]="moz"+s,h}var ot={animationend:st("Animation","AnimationEnd"),animationiteration:st("Animation","AnimationIteration"),animationstart:st("Animation","AnimationStart"),transitionrun:st("Transition","TransitionRun"),transitionstart:st("Transition","TransitionStart"),transitioncancel:st("Transition","TransitionCancel"),transitionend:st("Transition","TransitionEnd")},it={},an={};ir&&(an=document.createElement("div").style,"AnimationEvent"in window||(delete ot.animationend.animation,delete ot.animationiteration.animation,delete ot.animationstart.animation),"TransitionEvent"in window||delete ot.transitionend.transition);function zt(r){if(it[r])return it[r];if(!ot[r])return r;var s=ot[r],h;for(h in s)if(s.hasOwnProperty(h)&&h in an)return it[r]=s[h];return r}var Hn=zt("animationend"),qr=zt("animationiteration"),Wr=zt("animationstart"),Tn=zt("transitionrun"),Nr=zt("transitionstart"),ri=zt("transitioncancel"),ja=zt("transitionend"),Ai=new Map,ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(r,s){Ai.set(r,s),Hr(s,[r])}var Ti=[],Is=0,Yu=0;function Hi(){for(var r=Is,s=Yu=Is=0;s<r;){var h=Ti[s];Ti[s++]=null;var x=Ti[s];Ti[s++]=null;var T=Ti[s];Ti[s++]=null;var M=Ti[s];if(Ti[s++]=null,x!==null&&T!==null){var te=x.pending;te===null?T.next=T:(T.next=te.next,te.next=T),x.pending=T}M!==0&&hf(h,T,M)}}function Jo(r,s,h,x){Ti[Is++]=r,Ti[Is++]=s,Ti[Is++]=h,Ti[Is++]=x,Yu|=x,r.lanes|=x,r=r.alternate,r!==null&&(r.lanes|=x)}function Wl(r,s,h,x){return Jo(r,s,h,x),Ns(r)}function Vi(r,s){return Jo(r,null,null,s),Ns(r)}function hf(r,s,h){r.lanes|=h;var x=r.alternate;x!==null&&(x.lanes|=h);for(var T=!1,M=r.return;M!==null;)M.childLanes|=h,x=M.alternate,x!==null&&(x.childLanes|=h),M.tag===22&&(r=M.stateNode,r===null||r._visibility&1||(T=!0)),r=M,M=M.return;T&&s!==null&&r.tag===3&&(M=r.stateNode,T=31-Gt(h),M=M.hiddenUpdates,r=M[T],r===null?M[T]=[s]:r.push(s),s.lane=h|536870912)}function Ns(r){if(50<dc)throw dc=0,b0=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ba={},Xu=new WeakMap;function Oi(r,s){if(typeof r=="object"&&r!==null){var h=Xu.get(r);return h!==void 0?h:(s={value:r,source:s,stack:he(s)},Xu.set(r,s),s)}return{value:r,source:s,stack:he(s)}}var so=[],Rs=0,el=null,tl=0,Ii=[],Ni=0,Ms=null,Ea=1,Sa="";function Ds(r,s){so[Rs++]=tl,so[Rs++]=el,el=r,tl=s}function u(r,s,h){Ii[Ni++]=Ea,Ii[Ni++]=Sa,Ii[Ni++]=Ms,Ms=r;var x=Ea;r=Sa;var T=32-Gt(x)-1;x&=~(1<<T),h+=1;var M=32-Gt(s)+T;if(30<M){var te=T-T%5;M=(x&(1<<te)-1).toString(32),x>>=te,T-=te,Ea=1<<32-Gt(s)+T|h<<T|x,Sa=M+r}else Ea=1<<M|h<<T|x,Sa=r}function _(r){r.return!==null&&(Ds(r,1),u(r,1,0))}function A(r){for(;r===el;)el=so[--Rs],so[Rs]=null,tl=so[--Rs],so[Rs]=null;for(;r===Ms;)Ms=Ii[--Ni],Ii[Ni]=null,Sa=Ii[--Ni],Ii[Ni]=null,Ea=Ii[--Ni],Ii[Ni]=null}var U=null,X=null,oe=!1,we=null,Me=!1,We=Error(a(519));function tt(r){var s=Error(a(418,""));throw ur(Oi(s,r)),We}function _t(r){var s=r.stateNode,h=r.type,x=r.memoizedProps;switch(s[dt]=r,s[pt]=x,h){case"dialog":An("cancel",s),An("close",s);break;case"iframe":case"object":case"embed":An("load",s);break;case"video":case"audio":for(h=0;h<pc.length;h++)An(pc[h],s);break;case"source":An("error",s);break;case"img":case"image":case"link":An("error",s),An("load",s);break;case"details":An("toggle",s);break;case"input":An("invalid",s),Be(s,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Et(s);break;case"select":An("invalid",s);break;case"textarea":An("invalid",s),Ar(s,x.value,x.defaultValue,x.children),Et(s)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||x.suppressHydrationWarning===!0||Yv(s.textContent,h)?(x.popover!=null&&(An("beforetoggle",s),An("toggle",s)),x.onScroll!=null&&An("scroll",s),x.onScrollEnd!=null&&An("scrollend",s),x.onClick!=null&&(s.onclick=Gf),s=!0):s=!1,s||tt(r)}function Ut(r){for(U=r.return;U;)switch(U.tag){case 3:case 27:Me=!0;return;case 5:case 13:Me=!1;return;default:U=U.return}}function Qt(r){if(r!==U)return!1;if(!oe)return Ut(r),oe=!0,!1;var s=!1,h;if((h=r.tag!==3&&r.tag!==27)&&((h=r.tag===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||z0(r.type,r.memoizedProps)),h=!h),h&&(s=!0),s&&X&&tt(r),Ut(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(h=r.data,h==="/$"){if(s===0){X=Ua(r.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++;r=r.nextSibling}X=null}}else X=U?Ua(r.stateNode.nextSibling):null;return!0}function Rr(){X=U=null,oe=!1}function ur(r){we===null?we=[r]:we.push(r)}var ii=Error(a(460)),di=Error(a(474)),cs={then:function(){}};function df(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Gl(){}function mf(r,s,h){switch(h=r[h],h===void 0?r.push(s):h!==s&&(s.then(Gl,Gl),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===ii?Error(a(483)):r;default:if(typeof s.status=="string")s.then(Gl,Gl);else{if(r=Qn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(x){if(s.status==="pending"){var T=s;T.status="fulfilled",T.value=x}},function(x){if(s.status==="pending"){var T=s;T.status="rejected",T.reason=x}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===ii?Error(a(483)):r}throw oo=s,ii}}var oo=null;function pf(){if(oo===null)throw Error(a(459));var r=oo;return oo=null,r}var Ls=null,Kn=0;function ks(r){var s=Kn;return Kn+=1,Ls===null&&(Ls=[]),mf(Ls,r,s)}function nl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Zl(r,s){throw s.$$typeof===c?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function gf(r){var s=r._init;return s(r._payload)}function Yl(r){function s(De,Te){if(r){var ze=De.deletions;ze===null?(De.deletions=[Te],De.flags|=16):ze.push(Te)}}function h(De,Te){if(!r)return null;for(;Te!==null;)s(De,Te),Te=Te.sibling;return null}function x(De){for(var Te=new Map;De!==null;)De.key!==null?Te.set(De.key,De):Te.set(De.index,De),De=De.sibling;return Te}function T(De,Te){return De=xo(De,Te),De.index=0,De.sibling=null,De}function M(De,Te,ze){return De.index=ze,r?(ze=De.alternate,ze!==null?(ze=ze.index,ze<Te?(De.flags|=33554434,Te):ze):(De.flags|=33554434,Te)):(De.flags|=1048576,Te)}function te(De){return r&&De.alternate===null&&(De.flags|=33554434),De}function ce(De,Te,ze,nt){return Te===null||Te.tag!==6?(Te=m0(ze,De.mode,nt),Te.return=De,Te):(Te=T(Te,ze),Te.return=De,Te)}function xe(De,Te,ze,nt){var At=ze.type;return At===p?Qe(De,Te,ze.props.children,nt,ze.key):Te!==null&&(Te.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===P&&gf(At)===Te.type)?(Te=T(Te,ze.props),nl(Te,ze),Te.return=De,Te):(Te=kf(ze.type,ze.key,ze.props,null,De.mode,nt),nl(Te,ze),Te.return=De,Te)}function Oe(De,Te,ze,nt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==ze.containerInfo||Te.stateNode.implementation!==ze.implementation?(Te=p0(ze,De.mode,nt),Te.return=De,Te):(Te=T(Te,ze.children||[]),Te.return=De,Te)}function Qe(De,Te,ze,nt,At){return Te===null||Te.tag!==7?(Te=fl(ze,De.mode,nt,At),Te.return=De,Te):(Te=T(Te,ze),Te.return=De,Te)}function at(De,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=m0(""+Te,De.mode,ze),Te.return=De,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case d:return ze=kf(Te.type,Te.key,Te.props,null,De.mode,ze),nl(ze,Te),ze.return=De,ze;case y:return Te=p0(Te,De.mode,ze),Te.return=De,Te;case P:var nt=Te._init;return Te=nt(Te._payload),at(De,Te,ze)}if(Ie(Te)||Y(Te))return Te=fl(Te,De.mode,ze,null),Te.return=De,Te;if(typeof Te.then=="function")return at(De,ks(Te),ze);if(Te.$$typeof===C)return at(De,Mf(De,Te),ze);Zl(De,Te)}return null}function Ve(De,Te,ze,nt){var At=Te!==null?Te.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return At!==null?null:ce(De,Te,""+ze,nt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case d:return ze.key===At?xe(De,Te,ze,nt):null;case y:return ze.key===At?Oe(De,Te,ze,nt):null;case P:return At=ze._init,ze=At(ze._payload),Ve(De,Te,ze,nt)}if(Ie(ze)||Y(ze))return At!==null?null:Qe(De,Te,ze,nt,null);if(typeof ze.then=="function")return Ve(De,Te,ks(ze),nt);if(ze.$$typeof===C)return Ve(De,Te,Mf(De,ze),nt);Zl(De,ze)}return null}function Ke(De,Te,ze,nt,At){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return De=De.get(ze)||null,ce(Te,De,""+nt,At);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case d:return De=De.get(nt.key===null?ze:nt.key)||null,xe(Te,De,nt,At);case y:return De=De.get(nt.key===null?ze:nt.key)||null,Oe(Te,De,nt,At);case P:var _n=nt._init;return nt=_n(nt._payload),Ke(De,Te,ze,nt,At)}if(Ie(nt)||Y(nt))return De=De.get(ze)||null,Qe(Te,De,nt,At,null);if(typeof nt.then=="function")return Ke(De,Te,ze,ks(nt),At);if(nt.$$typeof===C)return Ke(De,Te,ze,Mf(Te,nt),At);Zl(Te,nt)}return null}function Lt(De,Te,ze,nt){for(var At=null,_n=null,Pt=Te,Vt=Te=0,oi=null;Pt!==null&&Vt<ze.length;Vt++){Pt.index>Vt?(oi=Pt,Pt=null):oi=Pt.sibling;var Dn=Ve(De,Pt,ze[Vt],nt);if(Dn===null){Pt===null&&(Pt=oi);break}r&&Pt&&Dn.alternate===null&&s(De,Pt),Te=M(Dn,Te,Vt),_n===null?At=Dn:_n.sibling=Dn,_n=Dn,Pt=oi}if(Vt===ze.length)return h(De,Pt),oe&&Ds(De,Vt),At;if(Pt===null){for(;Vt<ze.length;Vt++)Pt=at(De,ze[Vt],nt),Pt!==null&&(Te=M(Pt,Te,Vt),_n===null?At=Pt:_n.sibling=Pt,_n=Pt);return oe&&Ds(De,Vt),At}for(Pt=x(Pt);Vt<ze.length;Vt++)oi=Ke(Pt,De,Vt,ze[Vt],nt),oi!==null&&(r&&oi.alternate!==null&&Pt.delete(oi.key===null?Vt:oi.key),Te=M(oi,Te,Vt),_n===null?At=oi:_n.sibling=oi,_n=oi);return r&&Pt.forEach(function(To){return s(De,To)}),oe&&Ds(De,Vt),At}function Jt(De,Te,ze,nt){if(ze==null)throw Error(a(151));for(var At=null,_n=null,Pt=Te,Vt=Te=0,oi=null,Dn=ze.next();Pt!==null&&!Dn.done;Vt++,Dn=ze.next()){Pt.index>Vt?(oi=Pt,Pt=null):oi=Pt.sibling;var To=Ve(De,Pt,Dn.value,nt);if(To===null){Pt===null&&(Pt=oi);break}r&&Pt&&To.alternate===null&&s(De,Pt),Te=M(To,Te,Vt),_n===null?At=To:_n.sibling=To,_n=To,Pt=oi}if(Dn.done)return h(De,Pt),oe&&Ds(De,Vt),At;if(Pt===null){for(;!Dn.done;Vt++,Dn=ze.next())Dn=at(De,Dn.value,nt),Dn!==null&&(Te=M(Dn,Te,Vt),_n===null?At=Dn:_n.sibling=Dn,_n=Dn);return oe&&Ds(De,Vt),At}for(Pt=x(Pt);!Dn.done;Vt++,Dn=ze.next())Dn=Ke(Pt,De,Vt,Dn.value,nt),Dn!==null&&(r&&Dn.alternate!==null&&Pt.delete(Dn.key===null?Vt:Dn.key),Te=M(Dn,Te,Vt),_n===null?At=Dn:_n.sibling=Dn,_n=Dn);return r&&Pt.forEach(function(g3){return s(De,g3)}),oe&&Ds(De,Vt),At}function xr(De,Te,ze,nt){if(typeof ze=="object"&&ze!==null&&ze.type===p&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case d:e:{for(var At=ze.key;Te!==null;){if(Te.key===At){if(At=ze.type,At===p){if(Te.tag===7){h(De,Te.sibling),nt=T(Te,ze.props.children),nt.return=De,De=nt;break e}}else if(Te.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===P&&gf(At)===Te.type){h(De,Te.sibling),nt=T(Te,ze.props),nl(nt,ze),nt.return=De,De=nt;break e}h(De,Te);break}else s(De,Te);Te=Te.sibling}ze.type===p?(nt=fl(ze.props.children,De.mode,nt,ze.key),nt.return=De,De=nt):(nt=kf(ze.type,ze.key,ze.props,null,De.mode,nt),nl(nt,ze),nt.return=De,De=nt)}return te(De);case y:e:{for(At=ze.key;Te!==null;){if(Te.key===At)if(Te.tag===4&&Te.stateNode.containerInfo===ze.containerInfo&&Te.stateNode.implementation===ze.implementation){h(De,Te.sibling),nt=T(Te,ze.children||[]),nt.return=De,De=nt;break e}else{h(De,Te);break}else s(De,Te);Te=Te.sibling}nt=p0(ze,De.mode,nt),nt.return=De,De=nt}return te(De);case P:return At=ze._init,ze=At(ze._payload),xr(De,Te,ze,nt)}if(Ie(ze))return Lt(De,Te,ze,nt);if(Y(ze)){if(At=Y(ze),typeof At!="function")throw Error(a(150));return ze=At.call(ze),Jt(De,Te,ze,nt)}if(typeof ze.then=="function")return xr(De,Te,ks(ze),nt);if(ze.$$typeof===C)return xr(De,Te,Mf(De,ze),nt);Zl(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Te!==null&&Te.tag===6?(h(De,Te.sibling),nt=T(Te,ze),nt.return=De,De=nt):(h(De,Te),nt=m0(ze,De.mode,nt),nt.return=De,De=nt),te(De)):h(De,Te)}return function(De,Te,ze,nt){try{Kn=0;var At=xr(De,Te,ze,nt);return Ls=null,At}catch(Pt){if(Pt===ii)throw Pt;var _n=Oa(29,Pt,null,De.mode);return _n.lanes=nt,_n.return=De,_n}finally{}}}var fs=Yl(!0),vf=Yl(!1),Xl=Ze(null),yf=Ze(0);function Yp(r,s){r=Gs,wt(yf,r),wt(Xl,s),Gs=r|s.baseLanes}function wd(){wt(yf,Gs),wt(Xl,Xl.current)}function bd(){Gs=yf.current,ft(Xl),ft(yf)}var Ca=Ze(null),hs=null;function lo(r){var s=r.alternate;wt(Gr,Gr.current&1),wt(Ca,r),hs===null&&(s===null||Xl.current!==null||s.memoizedState!==null)&&(hs=r)}function Xp(r){if(r.tag===22){if(wt(Gr,Gr.current),wt(Ca,r),hs===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(hs=r)}}else uo()}function uo(){wt(Gr,Gr.current),wt(Ca,Ca.current)}function Ps(r){ft(Ca),hs===r&&(hs=null),ft(Gr)}var Gr=Ze(0);function _f(r){for(var s=r;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(h,x){r.push(x)}};this.abort=function(){s.aborted=!0,r.forEach(function(h){return h()})}},iS=e.unstable_scheduleCallback,aS=e.unstable_NormalPriority,Zr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new rS,data:new Map,refCount:0}}function $u(r){r.refCount--,r.refCount===0&&iS(aS,function(){r.controller.abort()})}var Ku=null,Sd=0,$l=0,Kl=null;function sS(r,s){if(Ku===null){var h=Ku=[];Sd=0,$l=N0(),Kl={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Sd++,s.then($p,$p),s}function $p(){if(--Sd===0&&Ku!==null){Kl!==null&&(Kl.status="fulfilled");var r=Ku;Ku=null,$l=0,Kl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oS(r,s){var h=[],x={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return r.then(function(){x.status="fulfilled",x.value=s;for(var T=0;T<h.length;T++)(0,h[T])(s)},function(T){for(x.status="rejected",x.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),x}var Kp=G.S;G.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&sS(r,s),Kp!==null&&Kp(r,s)};var rl=Ze(null);function Cd(){var r=rl.current;return r!==null?r:Qn.pooledCache}function xf(r,s){s===null?wt(rl,rl.current):wt(rl,s.pool)}function Qp(){var r=Cd();return r===null?null:{parent:Zr._currentValue,pool:r}}var co=0,gn=null,Vn=null,Pr=null,wf=!1,Ql=!1,il=!1,bf=0,Qu=0,Jl=null,lS=0;function Mr(){throw Error(a(321))}function Ad(r,s){if(s===null)return!1;for(var h=0;h<s.length&&h<r.length;h++)if(!m(r[h],s[h]))return!1;return!0}function Td(r,s,h,x,T,M){return co=M,gn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=r===null||r.memoizedState===null?al:fo,il=!1,M=h(x,T),il=!1,Ql&&(M=eg(s,h,x,T)),Jp(r),M}function Jp(r){G.H=ds;var s=Vn!==null&&Vn.next!==null;if(co=0,Pr=Vn=gn=null,wf=!1,Qu=0,Jl=null,s)throw Error(a(300));r===null||ai||(r=r.dependencies,r!==null&&Rf(r)&&(ai=!0))}function eg(r,s,h,x){gn=r;var T=0;do{if(Ql&&(Jl=null),Qu=0,Ql=!1,25<=T)throw Error(a(301));if(T+=1,Pr=Vn=null,r.updateQueue!=null){var M=r.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}G.H=sl,M=s(h,x)}while(Ql);return M}function uS(){var r=G.H,s=r.useState()[0];return s=typeof s.then=="function"?Ju(s):s,r=r.useState()[0],(Vn!==null?Vn.memoizedState:null)!==r&&(gn.flags|=1024),s}function Od(){var r=bf!==0;return bf=0,r}function Id(r,s,h){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h}function Nd(r){if(wf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wf=!1}co=0,Pr=Vn=gn=null,Ql=!1,Qu=bf=0,Jl=null}function qi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?gn.memoizedState=Pr=r:Pr=Pr.next=r,Pr}function Br(){if(Vn===null){var r=gn.alternate;r=r!==null?r.memoizedState:null}else r=Vn.next;var s=Pr===null?gn.memoizedState:Pr.next;if(s!==null)Pr=s,Vn=r;else{if(r===null)throw gn.alternate===null?Error(a(467)):Error(a(310));Vn=r,r={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Pr===null?gn.memoizedState=Pr=r:Pr=Pr.next=r}return Pr}var Ef;Ef=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ju(r){var s=Qu;return Qu+=1,Jl===null&&(Jl=[]),r=mf(Jl,r,s),s=gn,(Pr===null?s.memoizedState:Pr.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?al:fo),r}function Sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ju(r);if(r.$$typeof===C)return xi(r)}throw Error(a(438,String(r)))}function Rd(r){var s=null,h=gn.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var x=gn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(s={data:x.data.map(function(T){return T.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=Ef(),gn.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(r),x=0;x<r;x++)h[x]=W;return s.index++,h}function Bs(r,s){return typeof s=="function"?s(r):s}function Cf(r){var s=Br();return Md(s,Vn,r)}function Md(r,s,h){var x=r.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=h;var T=r.baseQueue,M=x.pending;if(M!==null){if(T!==null){var te=T.next;T.next=M.next,M.next=te}s.baseQueue=T=M,x.pending=null}if(M=r.baseState,T===null)r.memoizedState=M;else{s=T.next;var ce=te=null,xe=null,Oe=s,Qe=!1;do{var at=Oe.lane&-536870913;if(at!==Oe.lane?(On&at)===at:(co&at)===at){var Ve=Oe.revertLane;if(Ve===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),at===$l&&(Qe=!0);else if((co&Ve)===Ve){Oe=Oe.next,Ve===$l&&(Qe=!0);continue}else at={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},xe===null?(ce=xe=at,te=M):xe=xe.next=at,gn.lanes|=Ve,wo|=Ve;at=Oe.action,il&&h(M,at),M=Oe.hasEagerState?Oe.eagerState:h(M,at)}else Ve={lane:at,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},xe===null?(ce=xe=Ve,te=M):xe=xe.next=Ve,gn.lanes|=at,wo|=at;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(xe===null?te=M:xe.next=ce,!m(M,r.memoizedState)&&(ai=!0,Qe&&(h=Kl,h!==null)))throw h;r.memoizedState=M,r.baseState=te,r.baseQueue=xe,x.lastRenderedState=M}return T===null&&(x.lanes=0),[r.memoizedState,x.dispatch]}function Dd(r){var s=Br(),h=s.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=r;var x=h.dispatch,T=h.pending,M=s.memoizedState;if(T!==null){h.pending=null;var te=T=T.next;do M=r(M,te.action),te=te.next;while(te!==T);m(M,s.memoizedState)||(ai=!0),s.memoizedState=M,s.baseQueue===null&&(s.baseState=M),h.lastRenderedState=M}return[M,x]}function tg(r,s,h){var x=gn,T=Br(),M=oe;if(M){if(h===void 0)throw Error(a(407));h=h()}else h=s();var te=!m((Vn||T).memoizedState,h);if(te&&(T.memoizedState=h,ai=!0),T=T.queue,Pd(ig.bind(null,x,T,r),[r]),T.getSnapshot!==s||te||Pr!==null&&Pr.memoizedState.tag&1){if(x.flags|=2048,eu(9,rg.bind(null,x,T,h,s),{destroy:void 0},null),Qn===null)throw Error(a(349));M||(co&60)!==0||ng(x,s,h)}return h}function ng(r,s,h){r.flags|=16384,r={getSnapshot:s,value:h},s=gn.updateQueue,s===null?(s=Ef(),gn.updateQueue=s,s.stores=[r]):(h=s.stores,h===null?s.stores=[r]:h.push(r))}function rg(r,s,h,x){s.value=h,s.getSnapshot=x,ag(s)&&sg(r)}function ig(r,s,h){return h(function(){ag(s)&&sg(r)})}function ag(r){var s=r.getSnapshot;r=r.value;try{var h=s();return!m(r,h)}catch{return!0}}function sg(r){var s=Vi(r,2);s!==null&&Ri(s,r,2)}function Ld(r){var s=qi();if(typeof r=="function"){var h=r;if(r=h(),il){Ft(!0);try{h()}finally{Ft(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:r},s}function og(r,s,h,x){return r.baseState=h,Md(r,Vn,typeof x=="function"?x:Bs)}function cS(r,s,h,x,T){if(Of(r))throw Error(a(485));if(r=s.action,r!==null){var M={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){M.listeners.push(te)}};G.T!==null?h(!0):M.isTransition=!1,x(M),h=s.pending,h===null?(M.next=s.pending=M,lg(s,M)):(M.next=h.next,s.pending=h.next=M)}}function lg(r,s){var h=s.action,x=s.payload,T=r.state;if(s.isTransition){var M=G.T,te={};G.T=te;try{var ce=h(T,x),xe=G.S;xe!==null&&xe(te,ce),ug(r,s,ce)}catch(Oe){kd(r,s,Oe)}finally{G.T=M}}else try{M=h(T,x),ug(r,s,M)}catch(Oe){kd(r,s,Oe)}}function ug(r,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){cg(r,s,x)},function(x){return kd(r,s,x)}):cg(r,s,h)}function cg(r,s,h){s.status="fulfilled",s.value=h,fg(s),r.state=h,s=r.pending,s!==null&&(h=s.next,h===s?r.pending=null:(h=h.next,s.next=h,lg(r,h)))}function kd(r,s,h){var x=r.pending;if(r.pending=null,x!==null){x=x.next;do s.status="rejected",s.reason=h,fg(s),s=s.next;while(s!==x)}r.action=null}function fg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function hg(r,s){return s}function dg(r,s){if(oe){var h=Qn.formState;if(h!==null){e:{var x=gn;if(oe){if(X){t:{for(var T=X,M=Me;T.nodeType!==8;){if(!M){T=null;break t}if(T=Ua(T.nextSibling),T===null){T=null;break t}}M=T.data,T=M==="F!"||M==="F"?T:null}if(T){X=Ua(T.nextSibling),x=T.data==="F!";break e}}tt(x)}x=!1}x&&(s=h[0])}}return h=qi(),h.memoizedState=h.baseState=s,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:s},h.queue=x,h=Rg.bind(null,gn,x),x.dispatch=h,x=Ld(!1),M=Fd.bind(null,gn,!1,x.queue),x=qi(),T={state:s,dispatch:null,action:r,pending:null},x.queue=T,h=cS.bind(null,gn,T,M,h),T.dispatch=h,x.memoizedState=r,[s,h,!1]}function mg(r){var s=Br();return pg(s,Vn,r)}function pg(r,s,h){s=Md(r,s,hg)[0],r=Cf(Bs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ju(s):s;var x=Br(),T=x.queue,M=T.dispatch;return h!==x.memoizedState&&(gn.flags|=2048,eu(9,fS.bind(null,T,h),{destroy:void 0},null)),[s,M,r]}function fS(r,s){r.action=s}function gg(r){var s=Br(),h=Vn;if(h!==null)return pg(s,h,r);Br(),s=s.memoizedState,h=Br();var x=h.queue.dispatch;return h.memoizedState=r,[s,x,!1]}function eu(r,s,h,x){return r={tag:r,create:s,inst:h,deps:x,next:null},s=gn.updateQueue,s===null&&(s=Ef(),gn.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=r.next=r:(x=h.next,h.next=r,r.next=x,s.lastEffect=r),r}function vg(){return Br().memoizedState}function Af(r,s,h,x){var T=qi();gn.flags|=r,T.memoizedState=eu(1|s,h,{destroy:void 0},x===void 0?null:x)}function Tf(r,s,h,x){var T=Br();x=x===void 0?null:x;var M=T.memoizedState.inst;Vn!==null&&x!==null&&Ad(x,Vn.memoizedState.deps)?T.memoizedState=eu(s,h,M,x):(gn.flags|=r,T.memoizedState=eu(1|s,h,M,x))}function yg(r,s){Af(8390656,8,r,s)}function Pd(r,s){Tf(2048,8,r,s)}function _g(r,s){return Tf(4,2,r,s)}function xg(r,s){return Tf(4,4,r,s)}function wg(r,s){if(typeof s=="function"){r=r();var h=s(r);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function bg(r,s,h){h=h!=null?h.concat([r]):null,Tf(4,4,wg.bind(null,s,r),h)}function Bd(){}function Eg(r,s){var h=Br();s=s===void 0?null:s;var x=h.memoizedState;return s!==null&&Ad(s,x[1])?x[0]:(h.memoizedState=[r,s],r)}function Sg(r,s){var h=Br();s=s===void 0?null:s;var x=h.memoizedState;if(s!==null&&Ad(s,x[1]))return x[0];if(x=r(),il){Ft(!0);try{r()}finally{Ft(!1)}}return h.memoizedState=[x,s],x}function jd(r,s,h){return h===void 0||(co&1073741824)!==0?r.memoizedState=s:(r.memoizedState=h,r=Av(),gn.lanes|=r,wo|=r,h)}function Cg(r,s,h,x){return m(h,s)?h:Xl.current!==null?(r=jd(r,h,x),m(r,s)||(ai=!0),r):(co&42)===0?(ai=!0,r.memoizedState=h):(r=Av(),gn.lanes|=r,wo|=r,s)}function Ag(r,s,h,x,T){var M=Ae.p;Ae.p=M!==0&&8>M?M:8;var te=G.T,ce={};G.T=ce,Fd(r,!1,s,h);try{var xe=T(),Oe=G.S;if(Oe!==null&&Oe(ce,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Qe=oS(xe,x);ec(r,s,Qe,sa(r))}else ec(r,s,x,sa(r))}catch(at){ec(r,s,{then:function(){},status:"rejected",reason:at},sa())}finally{Ae.p=M,G.T=te}}function hS(){}function zd(r,s,h,x){if(r.tag!==5)throw Error(a(476));var T=Tg(r).queue;Ag(r,T,s,Re,h===null?hS:function(){return Og(r),h(x)})}function Tg(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:Re},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:h},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Og(r){var s=Tg(r).next.queue;ec(r,s,{},sa())}function Ud(){return xi(xc)}function Ig(){return Br().memoizedState}function Ng(){return Br().memoizedState}function dS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var h=sa();r=po(h);var x=go(s,r,h);x!==null&&(Ri(x,s,h),rc(x,s,h)),s={cache:Ed()},r.payload=s;return}s=s.return}}function mS(r,s,h){var x=sa();h={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Of(r)?Mg(s,h):(h=Wl(r,s,h,x),h!==null&&(Ri(h,r,x),Dg(h,s,x)))}function Rg(r,s,h){var x=sa();ec(r,s,h,x)}function ec(r,s,h,x){var T={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Of(r))Mg(s,T);else{var M=r.alternate;if(r.lanes===0&&(M===null||M.lanes===0)&&(M=s.lastRenderedReducer,M!==null))try{var te=s.lastRenderedState,ce=M(te,h);if(T.hasEagerState=!0,T.eagerState=ce,m(ce,te))return Jo(r,s,T,0),Qn===null&&Hi(),!1}catch{}finally{}if(h=Wl(r,s,T,x),h!==null)return Ri(h,r,x),Dg(h,s,x),!0}return!1}function Fd(r,s,h,x){if(x={lane:2,revertLane:N0(),action:x,hasEagerState:!1,eagerState:null,next:null},Of(r)){if(s)throw Error(a(479))}else s=Wl(r,h,x,2),s!==null&&Ri(s,r,2)}function Of(r){var s=r.alternate;return r===gn||s!==null&&s===gn}function Mg(r,s){Ql=wf=!0;var h=r.pending;h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s}function Dg(r,s,h){if((h&4194176)!==0){var x=s.lanes;x&=r.pendingLanes,h|=x,s.lanes=h,He(r,h)}}var ds={readContext:xi,use:Sf,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useLayoutEffect:Mr,useInsertionEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useSyncExternalStore:Mr,useId:Mr};ds.useCacheRefresh=Mr,ds.useMemoCache=Mr,ds.useHostTransitionStatus=Mr,ds.useFormState=Mr,ds.useActionState=Mr,ds.useOptimistic=Mr;var al={readContext:xi,use:Sf,useCallback:function(r,s){return qi().memoizedState=[r,s===void 0?null:s],r},useContext:xi,useEffect:yg,useImperativeHandle:function(r,s,h){h=h!=null?h.concat([r]):null,Af(4194308,4,wg.bind(null,s,r),h)},useLayoutEffect:function(r,s){return Af(4194308,4,r,s)},useInsertionEffect:function(r,s){Af(4,2,r,s)},useMemo:function(r,s){var h=qi();s=s===void 0?null:s;var x=r();if(il){Ft(!0);try{r()}finally{Ft(!1)}}return h.memoizedState=[x,s],x},useReducer:function(r,s,h){var x=qi();if(h!==void 0){var T=h(s);if(il){Ft(!0);try{h(s)}finally{Ft(!1)}}}else T=s;return x.memoizedState=x.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},x.queue=r,r=r.dispatch=mS.bind(null,gn,r),[x.memoizedState,r]},useRef:function(r){var s=qi();return r={current:r},s.memoizedState=r},useState:function(r){r=Ld(r);var s=r.queue,h=Rg.bind(null,gn,s);return s.dispatch=h,[r.memoizedState,h]},useDebugValue:Bd,useDeferredValue:function(r,s){var h=qi();return jd(h,r,s)},useTransition:function(){var r=Ld(!1);return r=Ag.bind(null,gn,r.queue,!0,!1),qi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,h){var x=gn,T=qi();if(oe){if(h===void 0)throw Error(a(407));h=h()}else{if(h=s(),Qn===null)throw Error(a(349));(On&60)!==0||ng(x,s,h)}T.memoizedState=h;var M={value:h,getSnapshot:s};return T.queue=M,yg(ig.bind(null,x,M,r),[r]),x.flags|=2048,eu(9,rg.bind(null,x,M,h,s),{destroy:void 0},null),h},useId:function(){var r=qi(),s=Qn.identifierPrefix;if(oe){var h=Sa,x=Ea;h=(x&~(1<<32-Gt(x)-1)).toString(32)+h,s=":"+s+"R"+h,h=bf++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=lS++,s=":"+s+"r"+h.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return qi().memoizedState=dS.bind(null,gn)}};al.useMemoCache=Rd,al.useHostTransitionStatus=Ud,al.useFormState=dg,al.useActionState=dg,al.useOptimistic=function(r){var s=qi();s.memoizedState=s.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Fd.bind(null,gn,!0,h),h.dispatch=s,[r,s]};var fo={readContext:xi,use:Sf,useCallback:Eg,useContext:xi,useEffect:Pd,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Sg,useReducer:Cf,useRef:vg,useState:function(){return Cf(Bs)},useDebugValue:Bd,useDeferredValue:function(r,s){var h=Br();return Cg(h,Vn.memoizedState,r,s)},useTransition:function(){var r=Cf(Bs)[0],s=Br().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:tg,useId:Ig};fo.useCacheRefresh=Ng,fo.useMemoCache=Rd,fo.useHostTransitionStatus=Ud,fo.useFormState=mg,fo.useActionState=mg,fo.useOptimistic=function(r,s){var h=Br();return og(h,Vn,r,s)};var sl={readContext:xi,use:Sf,useCallback:Eg,useContext:xi,useEffect:Pd,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Sg,useReducer:Dd,useRef:vg,useState:function(){return Dd(Bs)},useDebugValue:Bd,useDeferredValue:function(r,s){var h=Br();return Vn===null?jd(h,r,s):Cg(h,Vn.memoizedState,r,s)},useTransition:function(){var r=Dd(Bs)[0],s=Br().memoizedState;return[typeof r=="boolean"?r:Ju(r),s]},useSyncExternalStore:tg,useId:Ig};sl.useCacheRefresh=Ng,sl.useMemoCache=Rd,sl.useHostTransitionStatus=Ud,sl.useFormState=gg,sl.useActionState=gg,sl.useOptimistic=function(r,s){var h=Br();return Vn!==null?og(h,Vn,r,s):(h.baseState=r,[r,h.queue.dispatch])};function Hd(r,s,h,x){s=r.memoizedState,h=h(x,s),h=h==null?s:J({},s,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var Vd={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,h){r=r._reactInternals;var x=sa(),T=po(x);T.payload=s,h!=null&&(T.callback=h),s=go(r,T,x),s!==null&&(Ri(s,r,x),rc(s,r,x))},enqueueReplaceState:function(r,s,h){r=r._reactInternals;var x=sa(),T=po(x);T.tag=1,T.payload=s,h!=null&&(T.callback=h),s=go(r,T,x),s!==null&&(Ri(s,r,x),rc(s,r,x))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var h=sa(),x=po(h);x.tag=2,s!=null&&(x.callback=s),s=go(r,x,h),s!==null&&(Ri(s,r,h),rc(s,r,h))}};function Lg(r,s,h,x,T,M,te){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(x,M,te):s.prototype&&s.prototype.isPureReactComponent?!v(h,x)||!v(T,M):!0}function kg(r,s,h,x){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,x),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,x),s.state!==r&&Vd.enqueueReplaceState(s,s.state,null)}function ol(r,s){var h=s;if("ref"in s){h={};for(var x in s)x!=="ref"&&(h[x]=s[x])}if(r=r.defaultProps){h===s&&(h=J({},h));for(var T in r)h[T]===void 0&&(h[T]=r[T])}return h}var If=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Pg(r){If(r)}function Bg(r){console.error(r)}function jg(r){If(r)}function Nf(r,s){try{var h=r.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(x){setTimeout(function(){throw x})}}function zg(r,s,h){try{var x=r.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function qd(r,s,h){return h=po(h),h.tag=3,h.payload={element:null},h.callback=function(){Nf(r,s)},h}function Ug(r){return r=po(r),r.tag=3,r}function Fg(r,s,h,x){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var M=x.value;r.payload=function(){return T(M)},r.callback=function(){zg(s,h,x)}}var te=h.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(r.callback=function(){zg(s,h,x),typeof T!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var ce=x.stack;this.componentDidCatch(x.value,{componentStack:ce!==null?ce:""})})}function pS(r,s,h,x,T){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(s=h.alternate,s!==null&&nc(s,h,T,!0),h=Ca.current,h!==null){switch(h.tag){case 13:return hs===null?C0():h.alternate===null&&_r===0&&(_r=3),h.flags&=-257,h.flags|=65536,h.lanes=T,x===cs?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([x]):s.add(x),T0(r,x,T)),!1;case 22:return h.flags|=65536,x===cs?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([x]):h.add(x)),T0(r,x,T)),!1}throw Error(a(435,h.tag))}return T0(r,x,T),C0(),!1}if(oe)return s=Ca.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=T,x!==We&&(r=Error(a(422),{cause:x}),ur(Oi(r,h)))):(x!==We&&(s=Error(a(423),{cause:x}),ur(Oi(s,h))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,x=Oi(x,h),T=qd(r.stateNode,x,T),a0(r,T),_r!==4&&(_r=2)),!1;var M=Error(a(520),{cause:x});if(M=Oi(M,h),fc===null?fc=[M]:fc.push(M),_r!==4&&(_r=2),s===null)return!0;x=Oi(x,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,r=T&-T,h.lanes|=r,r=qd(h.stateNode,x,r),a0(h,r),!1;case 1:if(s=h.type,M=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(bo===null||!bo.has(M))))return h.flags|=65536,T&=-T,h.lanes|=T,T=Ug(T),Fg(T,r,h,x),a0(h,T),!1}h=h.return}while(h!==null);return!1}var Hg=Error(a(461)),ai=!1;function mi(r,s,h,x){s.child=r===null?vf(s,null,h,x):fs(s,r.child,h,x)}function Vg(r,s,h,x,T){h=h.render;var M=s.ref;if("ref"in x){var te={};for(var ce in x)ce!=="ref"&&(te[ce]=x[ce])}else te=x;return ul(s),x=Td(r,s,h,te,M,T),ce=Od(),r!==null&&!ai?(Id(r,s,T),js(r,s,T)):(oe&&ce&&_(s),s.flags|=1,mi(r,s,x,T),s.child)}function qg(r,s,h,x,T){if(r===null){var M=h.type;return typeof M=="function"&&!d0(M)&&M.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=M,Wg(r,s,M,x,T)):(r=kf(h.type,null,x,s,s.mode,T),r.ref=s.ref,r.return=s,s.child=r)}if(M=r.child,!Jd(r,T)){var te=M.memoizedProps;if(h=h.compare,h=h!==null?h:v,h(te,x)&&r.ref===s.ref)return js(r,s,T)}return s.flags|=1,r=xo(M,x),r.ref=s.ref,r.return=s,s.child=r}function Wg(r,s,h,x,T){if(r!==null){var M=r.memoizedProps;if(v(M,x)&&r.ref===s.ref)if(ai=!1,s.pendingProps=x=M,Jd(r,T))(r.flags&131072)!==0&&(ai=!0);else return s.lanes=r.lanes,js(r,s,T)}return Wd(r,s,h,x,T)}function Gg(r,s,h){var x=s.pendingProps,T=x.children,M=(s.stateNode._pendingVisibility&2)!==0,te=r!==null?r.memoizedState:null;if(tc(r,s),x.mode==="hidden"||M){if((s.flags&128)!==0){if(x=te!==null?te.baseLanes|h:h,r!==null){for(T=s.child=r.child,M=0;T!==null;)M=M|T.lanes|T.childLanes,T=T.sibling;s.childLanes=M&~x}else s.childLanes=0,s.child=null;return Zg(r,s,x,h)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xf(s,te!==null?te.cachePool:null),te!==null?Yp(s,te):wd(),Xp(s);else return s.lanes=s.childLanes=536870912,Zg(r,s,te!==null?te.baseLanes|h:h,h)}else te!==null?(xf(s,te.cachePool),Yp(s,te),uo(),s.memoizedState=null):(r!==null&&xf(s,null),wd(),uo());return mi(r,s,T,h),s.child}function Zg(r,s,h,x){var T=Cd();return T=T===null?null:{parent:Zr._currentValue,pool:T},s.memoizedState={baseLanes:h,cachePool:T},r!==null&&xf(s,null),wd(),Xp(s),r!==null&&nc(r,s,x,!0),null}function tc(r,s){var h=s.ref;if(h===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(a(284));(r===null||r.ref!==h)&&(s.flags|=2097664)}}function Wd(r,s,h,x,T){return ul(s),h=Td(r,s,h,x,void 0,T),x=Od(),r!==null&&!ai?(Id(r,s,T),js(r,s,T)):(oe&&x&&_(s),s.flags|=1,mi(r,s,h,T),s.child)}function Yg(r,s,h,x,T,M){return ul(s),s.updateQueue=null,h=eg(s,x,h,T),Jp(r),x=Od(),r!==null&&!ai?(Id(r,s,M),js(r,s,M)):(oe&&x&&_(s),s.flags|=1,mi(r,s,h,M),s.child)}function Xg(r,s,h,x,T){if(ul(s),s.stateNode===null){var M=ba,te=h.contextType;typeof te=="object"&&te!==null&&(M=xi(te)),M=new h(x,M),s.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Vd,s.stateNode=M,M._reactInternals=s,M=s.stateNode,M.props=x,M.state=s.memoizedState,M.refs={},r0(s),te=h.contextType,M.context=typeof te=="object"&&te!==null?xi(te):ba,M.state=s.memoizedState,te=h.getDerivedStateFromProps,typeof te=="function"&&(Hd(s,h,te,x),M.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(te=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),te!==M.state&&Vd.enqueueReplaceState(M,M.state,null),ac(s,x,M,T),ic(),M.state=s.memoizedState),typeof M.componentDidMount=="function"&&(s.flags|=4194308),x=!0}else if(r===null){M=s.stateNode;var ce=s.memoizedProps,xe=ol(h,ce);M.props=xe;var Oe=M.context,Qe=h.contextType;te=ba,typeof Qe=="object"&&Qe!==null&&(te=xi(Qe));var at=h.getDerivedStateFromProps;Qe=typeof at=="function"||typeof M.getSnapshotBeforeUpdate=="function",ce=s.pendingProps!==ce,Qe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ce||Oe!==te)&&kg(s,M,x,te),mo=!1;var Ve=s.memoizedState;M.state=Ve,ac(s,x,M,T),ic(),Oe=s.memoizedState,ce||Ve!==Oe||mo?(typeof at=="function"&&(Hd(s,h,at,x),Oe=s.memoizedState),(xe=mo||Lg(s,h,xe,x,Ve,Oe,te))?(Qe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(s.flags|=4194308)):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=x,s.memoizedState=Oe),M.props=x,M.state=Oe,M.context=te,x=xe):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),x=!1)}else{M=s.stateNode,i0(r,s),te=s.memoizedProps,Qe=ol(h,te),M.props=Qe,at=s.pendingProps,Ve=M.context,Oe=h.contextType,xe=ba,typeof Oe=="object"&&Oe!==null&&(xe=xi(Oe)),ce=h.getDerivedStateFromProps,(Oe=typeof ce=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(te!==at||Ve!==xe)&&kg(s,M,x,xe),mo=!1,Ve=s.memoizedState,M.state=Ve,ac(s,x,M,T),ic();var Ke=s.memoizedState;te!==at||Ve!==Ke||mo||r!==null&&r.dependencies!==null&&Rf(r.dependencies)?(typeof ce=="function"&&(Hd(s,h,ce,x),Ke=s.memoizedState),(Qe=mo||Lg(s,h,Qe,x,Ve,Ke,xe)||r!==null&&r.dependencies!==null&&Rf(r.dependencies))?(Oe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,Ke,xe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,Ke,xe)),typeof M.componentDidUpdate=="function"&&(s.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof M.componentDidUpdate!="function"||te===r.memoizedProps&&Ve===r.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&Ve===r.memoizedState||(s.flags|=1024),s.memoizedProps=x,s.memoizedState=Ke),M.props=x,M.state=Ke,M.context=xe,x=Qe):(typeof M.componentDidUpdate!="function"||te===r.memoizedProps&&Ve===r.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&Ve===r.memoizedState||(s.flags|=1024),x=!1)}return M=x,tc(r,s),x=(s.flags&128)!==0,M||x?(M=s.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:M.render(),s.flags|=1,r!==null&&x?(s.child=fs(s,r.child,null,T),s.child=fs(s,null,h,T)):mi(r,s,h,T),s.memoizedState=M.state,r=s.child):r=js(r,s,T),r}function $g(r,s,h,x){return Rr(),s.flags|=256,mi(r,s,h,x),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Zd(r){return{baseLanes:r,cachePool:Qp()}}function Yd(r,s,h){return r=r!==null?r.childLanes&~h:0,s&&(r|=Ia),r}function Kg(r,s,h){var x=s.pendingProps,T=!1,M=(s.flags&128)!==0,te;if((te=M)||(te=r!==null&&r.memoizedState===null?!1:(Gr.current&2)!==0),te&&(T=!0,s.flags&=-129),te=(s.flags&32)!==0,s.flags&=-33,r===null){if(oe){if(T?lo(s):uo(),oe){var ce=X,xe;if(xe=ce){e:{for(xe=ce,ce=Me;xe.nodeType!==8;){if(!ce){ce=null;break e}if(xe=Ua(xe.nextSibling),xe===null){ce=null;break e}}ce=xe}ce!==null?(s.memoizedState={dehydrated:ce,treeContext:Ms!==null?{id:Ea,overflow:Sa}:null,retryLane:536870912},xe=Oa(18,null,null,0),xe.stateNode=ce,xe.return=s,s.child=xe,U=s,X=null,xe=!0):xe=!1}xe||tt(s)}if(ce=s.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return ce.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ps(s)}return ce=x.children,x=x.fallback,T?(uo(),T=s.mode,ce=$d({mode:"hidden",children:ce},T),x=fl(x,T,h,null),ce.return=s,x.return=s,ce.sibling=x,s.child=ce,T=s.child,T.memoizedState=Zd(h),T.childLanes=Yd(r,te,h),s.memoizedState=Gd,x):(lo(s),Xd(s,ce))}if(xe=r.memoizedState,xe!==null&&(ce=xe.dehydrated,ce!==null)){if(M)s.flags&256?(lo(s),s.flags&=-257,s=Kd(r,s,h)):s.memoizedState!==null?(uo(),s.child=r.child,s.flags|=128,s=null):(uo(),T=x.fallback,ce=s.mode,x=$d({mode:"visible",children:x.children},ce),T=fl(T,ce,h,null),T.flags|=2,x.return=s,T.return=s,x.sibling=T,s.child=x,fs(s,r.child,null,h),x=s.child,x.memoizedState=Zd(h),x.childLanes=Yd(r,te,h),s.memoizedState=Gd,s=T);else if(lo(s),ce.data==="$!"){if(te=ce.nextSibling&&ce.nextSibling.dataset,te)var Oe=te.dgst;te=Oe,x=Error(a(419)),x.stack="",x.digest=te,ur({value:x,source:null,stack:null}),s=Kd(r,s,h)}else if(ai||nc(r,s,h,!1),te=(h&r.childLanes)!==0,ai||te){if(te=Qn,te!==null){if(x=h&-h,(x&42)!==0)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=(x&(te.suspendedLanes|h))!==0?0:x,x!==0&&x!==xe.retryLane)throw xe.retryLane=x,Vi(r,x),Ri(te,r,x),Hg}ce.data==="$?"||C0(),s=Kd(r,s,h)}else ce.data==="$?"?(s.flags|=128,s.child=r.child,s=NS.bind(null,r),ce._reactRetry=s,s=null):(r=xe.treeContext,X=Ua(ce.nextSibling),U=s,oe=!0,we=null,Me=!1,r!==null&&(Ii[Ni++]=Ea,Ii[Ni++]=Sa,Ii[Ni++]=Ms,Ea=r.id,Sa=r.overflow,Ms=s),s=Xd(s,x.children),s.flags|=4096);return s}return T?(uo(),T=x.fallback,ce=s.mode,xe=r.child,Oe=xe.sibling,x=xo(xe,{mode:"hidden",children:x.children}),x.subtreeFlags=xe.subtreeFlags&31457280,Oe!==null?T=xo(Oe,T):(T=fl(T,ce,h,null),T.flags|=2),T.return=s,x.return=s,x.sibling=T,s.child=x,x=T,T=s.child,ce=r.child.memoizedState,ce===null?ce=Zd(h):(xe=ce.cachePool,xe!==null?(Oe=Zr._currentValue,xe=xe.parent!==Oe?{parent:Oe,pool:Oe}:xe):xe=Qp(),ce={baseLanes:ce.baseLanes|h,cachePool:xe}),T.memoizedState=ce,T.childLanes=Yd(r,te,h),s.memoizedState=Gd,x):(lo(s),h=r.child,r=h.sibling,h=xo(h,{mode:"visible",children:x.children}),h.return=s,h.sibling=null,r!==null&&(te=s.deletions,te===null?(s.deletions=[r],s.flags|=16):te.push(r)),s.child=h,s.memoizedState=null,h)}function Xd(r,s){return s=$d({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function $d(r,s){return Ev(r,s,0,null)}function Kd(r,s,h){return fs(s,r.child,null,h),r=Xd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Qg(r,s,h){r.lanes|=s;var x=r.alternate;x!==null&&(x.lanes|=s),t0(r.return,s,h)}function Qd(r,s,h,x,T){var M=r.memoizedState;M===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:T}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=h,M.tailMode=T)}function Jg(r,s,h){var x=s.pendingProps,T=x.revealOrder,M=x.tail;if(mi(r,s,x.children,h),x=Gr.current,(x&2)!==0)x=x&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qg(r,h,s);else if(r.tag===19)Qg(r,h,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}x&=1}switch(wt(Gr,x),T){case"forwards":for(h=s.child,T=null;h!==null;)r=h.alternate,r!==null&&_f(r)===null&&(T=h),h=h.sibling;h=T,h===null?(T=s.child,s.child=null):(T=h.sibling,h.sibling=null),Qd(s,!1,T,h,M);break;case"backwards":for(h=null,T=s.child,s.child=null;T!==null;){if(r=T.alternate,r!==null&&_f(r)===null){s.child=T;break}r=T.sibling,T.sibling=h,h=T,T=r}Qd(s,!0,h,null,M);break;case"together":Qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function js(r,s,h){if(r!==null&&(s.dependencies=r.dependencies),wo|=s.lanes,(h&s.childLanes)===0)if(r!==null){if(nc(r,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,h=xo(r,r.pendingProps),s.child=h,h.return=s;r.sibling!==null;)r=r.sibling,h=h.sibling=xo(r,r.pendingProps),h.return=s;h.sibling=null}return s.child}function Jd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Rf(r)))}function gS(r,s,h){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),ho(s,Zr,r.memoizedState.cache),Rr();break;case 27:case 5:_e(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:ho(s,s.type,s.memoizedProps.value);break;case 13:var x=s.memoizedState;if(x!==null)return x.dehydrated!==null?(lo(s),s.flags|=128,null):(h&s.child.childLanes)!==0?Kg(r,s,h):(lo(s),r=js(r,s,h),r!==null?r.sibling:null);lo(s);break;case 19:var T=(r.flags&128)!==0;if(x=(h&s.childLanes)!==0,x||(nc(r,s,h,!1),x=(h&s.childLanes)!==0),T){if(x)return Jg(r,s,h);s.flags|=128}if(T=s.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),wt(Gr,Gr.current),x)break;return null;case 22:case 23:return s.lanes=0,Gg(r,s,h);case 24:ho(s,Zr,r.memoizedState.cache)}return js(r,s,h)}function ev(r,s,h){if(r!==null)if(r.memoizedProps!==s.pendingProps)ai=!0;else{if(!Jd(r,h)&&(s.flags&128)===0)return ai=!1,gS(r,s,h);ai=(r.flags&131072)!==0}else ai=!1,oe&&(s.flags&1048576)!==0&&u(s,tl,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var x=s.elementType,T=x._init;if(x=T(x._payload),s.type=x,typeof x=="function")d0(x)?(r=ol(x,r),s.tag=1,s=Xg(null,s,x,r,h)):(s.tag=0,s=Wd(null,s,x,r,h));else{if(x!=null){if(T=x.$$typeof,T===R){s.tag=11,s=Vg(null,s,x,r,h);break e}else if(T===F){s.tag=14,s=qg(null,s,x,r,h);break e}}throw s=ne(x)||x,Error(a(306,s,""))}}return s;case 0:return Wd(r,s,s.type,s.pendingProps,h);case 1:return x=s.type,T=ol(x,s.pendingProps),Xg(r,s,x,T,h);case 3:e:{if(Ye(s,s.stateNode.containerInfo),r===null)throw Error(a(387));var M=s.pendingProps;T=s.memoizedState,x=T.element,i0(r,s),ac(s,M,null,h);var te=s.memoizedState;if(M=te.cache,ho(s,Zr,M),M!==T.cache&&n0(s,[Zr],h,!0),ic(),M=te.element,T.isDehydrated)if(T={element:M,isDehydrated:!1,cache:te.cache},s.updateQueue.baseState=T,s.memoizedState=T,s.flags&256){s=$g(r,s,M,h);break e}else if(M!==x){x=Oi(Error(a(424)),s),ur(x),s=$g(r,s,M,h);break e}else for(X=Ua(s.stateNode.containerInfo.firstChild),U=s,oe=!0,we=null,Me=!0,h=vf(s,null,M,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Rr(),M===x){s=js(r,s,h);break e}mi(r,s,M,h)}s=s.child}return s;case 26:return tc(r,s),r===null?(h=ry(s.type,null,s.pendingProps,null))?s.memoizedState=h:oe||(h=s.type,r=s.pendingProps,x=Zf(Tt.current).createElement(h),x[dt]=s,x[pt]=r,pi(x,h,r),hn(x),s.stateNode=x):s.memoizedState=ry(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return _e(s),r===null&&oe&&(x=s.stateNode=ey(s.type,s.pendingProps,Tt.current),U=s,Me=!0,X=Ua(x.firstChild)),x=s.pendingProps.children,r!==null||oe?mi(r,s,x,h):s.child=fs(s,null,x,h),tc(r,s),s.child;case 5:return r===null&&oe&&((T=x=X)&&(x=GS(x,s.type,s.pendingProps,Me),x!==null?(s.stateNode=x,U=s,X=Ua(x.firstChild),Me=!1,T=!0):T=!1),T||tt(s)),_e(s),T=s.type,M=s.pendingProps,te=r!==null?r.memoizedProps:null,x=M.children,z0(T,M)?x=null:te!==null&&z0(T,te)&&(s.flags|=32),s.memoizedState!==null&&(T=Td(r,s,uS,null,null,h),xc._currentValue=T),tc(r,s),mi(r,s,x,h),s.child;case 6:return r===null&&oe&&((r=h=X)&&(h=ZS(h,s.pendingProps,Me),h!==null?(s.stateNode=h,U=s,X=null,r=!0):r=!1),r||tt(s)),null;case 13:return Kg(r,s,h);case 4:return Ye(s,s.stateNode.containerInfo),x=s.pendingProps,r===null?s.child=fs(s,null,x,h):mi(r,s,x,h),s.child;case 11:return Vg(r,s,s.type,s.pendingProps,h);case 7:return mi(r,s,s.pendingProps,h),s.child;case 8:return mi(r,s,s.pendingProps.children,h),s.child;case 12:return mi(r,s,s.pendingProps.children,h),s.child;case 10:return x=s.pendingProps,ho(s,s.type,x.value),mi(r,s,x.children,h),s.child;case 9:return T=s.type._context,x=s.pendingProps.children,ul(s),T=xi(T),x=x(T),s.flags|=1,mi(r,s,x,h),s.child;case 14:return qg(r,s,s.type,s.pendingProps,h);case 15:return Wg(r,s,s.type,s.pendingProps,h);case 19:return Jg(r,s,h);case 22:return Gg(r,s,h);case 24:return ul(s),x=xi(Zr),r===null?(T=Cd(),T===null&&(T=Qn,M=Ed(),T.pooledCache=M,M.refCount++,M!==null&&(T.pooledCacheLanes|=h),T=M),s.memoizedState={parent:x,cache:T},r0(s),ho(s,Zr,T)):((r.lanes&h)!==0&&(i0(r,s),ac(s,null,null,h),ic()),T=r.memoizedState,M=s.memoizedState,T.parent!==x?(T={parent:x,cache:x},s.memoizedState=T,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=T),ho(s,Zr,x)):(x=M.cache,ho(s,Zr,x),x!==T.cache&&n0(s,[Zr],h,!0))),mi(r,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}var e0=Ze(null),ll=null,zs=null;function ho(r,s,h){wt(e0,s._currentValue),s._currentValue=h}function Us(r){r._currentValue=e0.current,ft(e0)}function t0(r,s,h){for(;r!==null;){var x=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,x!==null&&(x.childLanes|=s)):x!==null&&(x.childLanes&s)!==s&&(x.childLanes|=s),r===h)break;r=r.return}}function n0(r,s,h,x){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var M=T.dependencies;if(M!==null){var te=T.child;M=M.firstContext;e:for(;M!==null;){var ce=M;M=T;for(var xe=0;xe<s.length;xe++)if(ce.context===s[xe]){M.lanes|=h,ce=M.alternate,ce!==null&&(ce.lanes|=h),t0(M.return,h,r),x||(te=null);break e}M=ce.next}}else if(T.tag===18){if(te=T.return,te===null)throw Error(a(341));te.lanes|=h,M=te.alternate,M!==null&&(M.lanes|=h),t0(te,h,r),te=null}else te=T.child;if(te!==null)te.return=T;else for(te=T;te!==null;){if(te===r){te=null;break}if(T=te.sibling,T!==null){T.return=te.return,te=T;break}te=te.return}T=te}}function nc(r,s,h,x){r=null;for(var T=s,M=!1;T!==null;){if(!M){if((T.flags&524288)!==0)M=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var te=T.alternate;if(te===null)throw Error(a(387));if(te=te.memoizedProps,te!==null){var ce=T.type;m(T.pendingProps.value,te.value)||(r!==null?r.push(ce):r=[ce])}}else if(T===re.current){if(te=T.alternate,te===null)throw Error(a(387));te.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(xc):r=[xc])}T=T.return}r!==null&&n0(s,r,h,x),s.flags|=262144}function Rf(r){for(r=r.firstContext;r!==null;){if(!m(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ul(r){ll=r,zs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xi(r){return tv(ll,r)}function Mf(r,s){return ll===null&&ul(r),tv(r,s)}function tv(r,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},zs===null){if(r===null)throw Error(a(308));zs=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else zs=zs.next=s;return h}var mo=!1;function r0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function i0(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function po(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function go(r,s,h){var x=r.updateQueue;if(x===null)return null;if(x=x.shared,(pr&2)!==0){var T=x.pending;return T===null?s.next=s:(s.next=T.next,T.next=s),x.pending=s,s=Ns(r),hf(r,null,h),s}return Jo(r,x,s,h),Ns(r)}function rc(r,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194176)!==0)){var x=s.lanes;x&=r.pendingLanes,h|=x,s.lanes=h,He(r,h)}}function a0(r,s){var h=r.updateQueue,x=r.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var T=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var te={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};M===null?T=M=te:M=M.next=te,h=h.next}while(h!==null);M===null?T=M=s:M=M.next=s}else T=M=s;h={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:x.shared,callbacks:x.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=s:r.next=s,h.lastBaseUpdate=s}var s0=!1;function ic(){if(s0){var r=Kl;if(r!==null)throw r}}function ac(r,s,h,x){s0=!1;var T=r.updateQueue;mo=!1;var M=T.firstBaseUpdate,te=T.lastBaseUpdate,ce=T.shared.pending;if(ce!==null){T.shared.pending=null;var xe=ce,Oe=xe.next;xe.next=null,te===null?M=Oe:te.next=Oe,te=xe;var Qe=r.alternate;Qe!==null&&(Qe=Qe.updateQueue,ce=Qe.lastBaseUpdate,ce!==te&&(ce===null?Qe.firstBaseUpdate=Oe:ce.next=Oe,Qe.lastBaseUpdate=xe))}if(M!==null){var at=T.baseState;te=0,Qe=Oe=xe=null,ce=M;do{var Ve=ce.lane&-536870913,Ke=Ve!==ce.lane;if(Ke?(On&Ve)===Ve:(x&Ve)===Ve){Ve!==0&&Ve===$l&&(s0=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Lt=r,Jt=ce;Ve=s;var xr=h;switch(Jt.tag){case 1:if(Lt=Jt.payload,typeof Lt=="function"){at=Lt.call(xr,at,Ve);break e}at=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Jt.payload,Ve=typeof Lt=="function"?Lt.call(xr,at,Ve):Lt,Ve==null)break e;at=J({},at,Ve);break e;case 2:mo=!0}}Ve=ce.callback,Ve!==null&&(r.flags|=64,Ke&&(r.flags|=8192),Ke=T.callbacks,Ke===null?T.callbacks=[Ve]:Ke.push(Ve))}else Ke={lane:Ve,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Qe===null?(Oe=Qe=Ke,xe=at):Qe=Qe.next=Ke,te|=Ve;if(ce=ce.next,ce===null){if(ce=T.shared.pending,ce===null)break;Ke=ce,ce=Ke.next,Ke.next=null,T.lastBaseUpdate=Ke,T.shared.pending=null}}while(!0);Qe===null&&(xe=at),T.baseState=xe,T.firstBaseUpdate=Oe,T.lastBaseUpdate=Qe,M===null&&(T.shared.lanes=0),wo|=te,r.lanes=te,r.memoizedState=at}}function nv(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function rv(r,s){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)nv(h[r],s)}function sc(r,s){try{var h=s.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var T=x.next;h=T;do{if((h.tag&r)===r){x=void 0;var M=h.create,te=h.inst;x=M(),te.destroy=x}h=h.next}while(h!==T)}}catch(ce){Xn(s,s.return,ce)}}function vo(r,s,h){try{var x=s.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var M=T.next;x=M;do{if((x.tag&r)===r){var te=x.inst,ce=te.destroy;if(ce!==void 0){te.destroy=void 0,T=s;var xe=h;try{ce()}catch(Oe){Xn(T,xe,Oe)}}}x=x.next}while(x!==M)}}catch(Oe){Xn(s,s.return,Oe)}}function iv(r){var s=r.updateQueue;if(s!==null){var h=r.stateNode;try{rv(s,h)}catch(x){Xn(r,r.return,x)}}}function av(r,s,h){h.props=ol(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(x){Xn(r,s,x)}}function cl(r,s){try{var h=r.ref;if(h!==null){var x=r.stateNode;switch(r.tag){case 26:case 27:case 5:var T=x;break;default:T=x}typeof h=="function"?r.refCleanup=h(T):h.current=T}}catch(M){Xn(r,s,M)}}function ra(r,s){var h=r.ref,x=r.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(T){Xn(r,s,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){Xn(r,s,T)}else h.current=null}function sv(r){var s=r.type,h=r.memoizedProps,x=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(T){Xn(r,r.return,T)}}function ov(r,s,h){try{var x=r.stateNode;FS(x,r.type,h,s),x[pt]=s}catch(T){Xn(r,r.return,T)}}function lv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function o0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function l0(r,s,h){var x=r.tag;if(x===5||x===6)r=r.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(r,s):h.insertBefore(r,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(r,h)):(s=h,s.appendChild(r)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Gf));else if(x!==4&&x!==27&&(r=r.child,r!==null))for(l0(r,s,h),r=r.sibling;r!==null;)l0(r,s,h),r=r.sibling}function Df(r,s,h){var x=r.tag;if(x===5||x===6)r=r.stateNode,s?h.insertBefore(r,s):h.appendChild(r);else if(x!==4&&x!==27&&(r=r.child,r!==null))for(Df(r,s,h),r=r.sibling;r!==null;)Df(r,s,h),r=r.sibling}var Fs=!1,yr=!1,u0=!1,uv=typeof WeakSet=="function"?WeakSet:Set,si=null,cv=!1;function vS(r,s){if(r=r.containerInfo,B0=Jf,r=j(r),$(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else e:{h=(h=r.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var T=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{h.nodeType,M.nodeType}catch{h=null;break e}var te=0,ce=-1,xe=-1,Oe=0,Qe=0,at=r,Ve=null;t:for(;;){for(var Ke;at!==h||T!==0&&at.nodeType!==3||(ce=te+T),at!==M||x!==0&&at.nodeType!==3||(xe=te+x),at.nodeType===3&&(te+=at.nodeValue.length),(Ke=at.firstChild)!==null;)Ve=at,at=Ke;for(;;){if(at===r)break t;if(Ve===h&&++Oe===T&&(ce=te),Ve===M&&++Qe===x&&(xe=te),(Ke=at.nextSibling)!==null)break;at=Ve,Ve=at.parentNode}at=Ke}h=ce===-1||xe===-1?null:{start:ce,end:xe}}else h=null}h=h||{start:0,end:0}}else h=null;for(j0={focusedElem:r,selectionRange:h},Jf=!1,si=s;si!==null;)if(s=si,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,si=r;else for(;si!==null;){switch(s=si,M=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&M!==null){r=void 0,h=s,T=M.memoizedProps,M=M.memoizedState,x=h.stateNode;try{var Lt=ol(h.type,T,h.elementType===h.type);r=x.getSnapshotBeforeUpdate(Lt,M),x.__reactInternalSnapshotBeforeUpdate=r}catch(Jt){Xn(h,h.return,Jt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,h=r.nodeType,h===9)H0(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":H0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,si=r;break}si=s.return}return Lt=cv,cv=!1,Lt}function fv(r,s,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Vs(r,h),x&4&&sc(5,h);break;case 1:if(Vs(r,h),x&4)if(r=h.stateNode,s===null)try{r.componentDidMount()}catch(ce){Xn(h,h.return,ce)}else{var T=ol(h.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(T,s,r.__reactInternalSnapshotBeforeUpdate)}catch(ce){Xn(h,h.return,ce)}}x&64&&iv(h),x&512&&cl(h,h.return);break;case 3:if(Vs(r,h),x&64&&(x=h.updateQueue,x!==null)){if(r=null,h.child!==null)switch(h.child.tag){case 27:case 5:r=h.child.stateNode;break;case 1:r=h.child.stateNode}try{rv(x,r)}catch(ce){Xn(h,h.return,ce)}}break;case 26:Vs(r,h),x&512&&cl(h,h.return);break;case 27:case 5:Vs(r,h),s===null&&x&4&&sv(h),x&512&&cl(h,h.return);break;case 12:Vs(r,h);break;case 13:Vs(r,h),x&4&&mv(r,h);break;case 22:if(T=h.memoizedState!==null||Fs,!T){s=s!==null&&s.memoizedState!==null||yr;var M=Fs,te=yr;Fs=T,(yr=s)&&!te?yo(r,h,(h.subtreeFlags&8772)!==0):Vs(r,h),Fs=M,yr=te}x&512&&(h.memoizedProps.mode==="manual"?cl(h,h.return):ra(h,h.return));break;default:Vs(r,h)}}function hv(r){var s=r.alternate;s!==null&&(r.alternate=null,hv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&mn(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var jr=null,ia=!1;function Hs(r,s,h){for(h=h.child;h!==null;)dv(r,s,h),h=h.sibling}function dv(r,s,h){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Nt,h)}catch{}switch(h.tag){case 26:yr||ra(h,s),Hs(r,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:yr||ra(h,s);var x=jr,T=ia;for(jr=h.stateNode,Hs(r,s,h),h=h.stateNode,s=h.attributes;s.length;)h.removeAttributeNode(s[0]);mn(h),jr=x,ia=T;break;case 5:yr||ra(h,s);case 6:T=jr;var M=ia;if(jr=null,Hs(r,s,h),jr=T,ia=M,jr!==null)if(ia)try{r=jr,x=h.stateNode,r.nodeType===8?r.parentNode.removeChild(x):r.removeChild(x)}catch(te){Xn(h,s,te)}else try{jr.removeChild(h.stateNode)}catch(te){Xn(h,s,te)}break;case 18:jr!==null&&(ia?(s=jr,h=h.stateNode,s.nodeType===8?F0(s.parentNode,h):s.nodeType===1&&F0(s,h),Sc(s)):F0(jr,h.stateNode));break;case 4:x=jr,T=ia,jr=h.stateNode.containerInfo,ia=!0,Hs(r,s,h),jr=x,ia=T;break;case 0:case 11:case 14:case 15:yr||vo(2,h,s),yr||vo(4,h,s),Hs(r,s,h);break;case 1:yr||(ra(h,s),x=h.stateNode,typeof x.componentWillUnmount=="function"&&av(h,s,x)),Hs(r,s,h);break;case 21:Hs(r,s,h);break;case 22:yr||ra(h,s),yr=(x=yr)||h.memoizedState!==null,Hs(r,s,h),yr=x;break;default:Hs(r,s,h)}}function mv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sc(r)}catch(h){Xn(s,s.return,h)}}function yS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new uv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new uv),s;default:throw Error(a(435,r.tag))}}function c0(r,s){var h=yS(r);s.forEach(function(x){var T=RS.bind(null,r,x);h.has(x)||(h.add(x),x.then(T,T))})}function Aa(r,s){var h=s.deletions;if(h!==null)for(var x=0;x<h.length;x++){var T=h[x],M=r,te=s,ce=te;e:for(;ce!==null;){switch(ce.tag){case 27:case 5:jr=ce.stateNode,ia=!1;break e;case 3:jr=ce.stateNode.containerInfo,ia=!0;break e;case 4:jr=ce.stateNode.containerInfo,ia=!0;break e}ce=ce.return}if(jr===null)throw Error(a(160));dv(M,te,T),jr=null,ia=!1,M=T.alternate,M!==null&&(M.return=null),T.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)pv(s,r),s=s.sibling}var za=null;function pv(r,s){var h=r.alternate,x=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Aa(s,r),Ta(r),x&4&&(vo(3,r,r.return),sc(3,r),vo(5,r,r.return));break;case 1:Aa(s,r),Ta(r),x&512&&(yr||h===null||ra(h,h.return)),x&64&&Fs&&(r=r.updateQueue,r!==null&&(x=r.callbacks,x!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var T=za;if(Aa(s,r),Ta(r),x&512&&(yr||h===null||ra(h,h.return)),x&4){var M=h!==null?h.memoizedState:null;if(x=r.memoizedState,h===null)if(x===null)if(r.stateNode===null){e:{x=r.type,h=r.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":M=T.getElementsByTagName("title")[0],(!M||M[En]||M[dt]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=T.createElement(x),T.head.insertBefore(M,T.querySelector("head > title"))),pi(M,x,h),M[dt]=r,hn(M),x=M;break e;case"link":var te=sy("link","href",T).get(x+(h.href||""));if(te){for(var ce=0;ce<te.length;ce++)if(M=te[ce],M.getAttribute("href")===(h.href==null?null:h.href)&&M.getAttribute("rel")===(h.rel==null?null:h.rel)&&M.getAttribute("title")===(h.title==null?null:h.title)&&M.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){te.splice(ce,1);break t}}M=T.createElement(x),pi(M,x,h),T.head.appendChild(M);break;case"meta":if(te=sy("meta","content",T).get(x+(h.content||""))){for(ce=0;ce<te.length;ce++)if(M=te[ce],M.getAttribute("content")===(h.content==null?null:""+h.content)&&M.getAttribute("name")===(h.name==null?null:h.name)&&M.getAttribute("property")===(h.property==null?null:h.property)&&M.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&M.getAttribute("charset")===(h.charSet==null?null:h.charSet)){te.splice(ce,1);break t}}M=T.createElement(x),pi(M,x,h),T.head.appendChild(M);break;default:throw Error(a(468,x))}M[dt]=r,hn(M),x=M}r.stateNode=x}else oy(T,r.type,r.stateNode);else r.stateNode=ay(T,x,r.memoizedProps);else M!==x?(M===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):M.count--,x===null?oy(T,r.type,r.stateNode):ay(T,x,r.memoizedProps)):x===null&&r.stateNode!==null&&ov(r,r.memoizedProps,h.memoizedProps)}break;case 27:if(x&4&&r.alternate===null){T=r.stateNode,M=r.memoizedProps;try{for(var xe=T.firstChild;xe;){var Oe=xe.nextSibling,Qe=xe.nodeName;xe[En]||Qe==="HEAD"||Qe==="BODY"||Qe==="SCRIPT"||Qe==="STYLE"||Qe==="LINK"&&xe.rel.toLowerCase()==="stylesheet"||T.removeChild(xe),xe=Oe}for(var at=r.type,Ve=T.attributes;Ve.length;)T.removeAttributeNode(Ve[0]);pi(T,at,M),T[dt]=r,T[pt]=M}catch(Lt){Xn(r,r.return,Lt)}}case 5:if(Aa(s,r),Ta(r),x&512&&(yr||h===null||ra(h,h.return)),r.flags&32){T=r.stateNode;try{ji(T,"")}catch(Lt){Xn(r,r.return,Lt)}}x&4&&r.stateNode!=null&&(T=r.memoizedProps,ov(r,T,h!==null?h.memoizedProps:T)),x&1024&&(u0=!0);break;case 6:if(Aa(s,r),Ta(r),x&4){if(r.stateNode===null)throw Error(a(162));x=r.memoizedProps,h=r.stateNode;try{h.nodeValue=x}catch(Lt){Xn(r,r.return,Lt)}}break;case 3:if($f=null,T=za,za=Yf(s.containerInfo),Aa(s,r),za=T,Ta(r),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Sc(s.containerInfo)}catch(Lt){Xn(r,r.return,Lt)}u0&&(u0=!1,gv(r));break;case 4:x=za,za=Yf(r.stateNode.containerInfo),Aa(s,r),Ta(r),za=x;break;case 12:Aa(s,r),Ta(r);break;case 13:Aa(s,r),Ta(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(_0=lt()),x&4&&(x=r.updateQueue,x!==null&&(r.updateQueue=null,c0(r,x)));break;case 22:if(x&512&&(yr||h===null||ra(h,h.return)),xe=r.memoizedState!==null,Oe=h!==null&&h.memoizedState!==null,Qe=Fs,at=yr,Fs=Qe||xe,yr=at||Oe,Aa(s,r),yr=at,Fs=Qe,Ta(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,x&8192&&(s._visibility=xe?s._visibility&-2:s._visibility|1,xe&&(s=Fs||yr,h===null||Oe||s||tu(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(h=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(h===null){Oe=h=s;try{if(T=Oe.stateNode,xe)M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{te=Oe.stateNode,ce=Oe.memoizedProps.style;var Ke=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;te.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Lt){Xn(Oe,Oe.return,Lt)}}}else if(s.tag===6){if(h===null){Oe=s;try{Oe.stateNode.nodeValue=xe?"":Oe.memoizedProps}catch(Lt){Xn(Oe,Oe.return,Lt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}x&4&&(x=r.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,c0(r,h))));break;case 19:Aa(s,r),Ta(r),x&4&&(x=r.updateQueue,x!==null&&(r.updateQueue=null,c0(r,x)));break;case 21:break;default:Aa(s,r),Ta(r)}}function Ta(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var h=r.return;h!==null;){if(lv(h)){var x=h;break e}h=h.return}throw Error(a(160))}switch(x.tag){case 27:var T=x.stateNode,M=o0(r);Df(r,M,T);break;case 5:var te=x.stateNode;x.flags&32&&(ji(te,""),x.flags&=-33);var ce=o0(r);Df(r,ce,te);break;case 3:case 4:var xe=x.stateNode.containerInfo,Oe=o0(r);l0(r,Oe,xe);break;default:throw Error(a(161))}}}catch(Qe){Xn(r,r.return,Qe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function gv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;gv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Vs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fv(r,s.alternate,s),s=s.sibling}function tu(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:vo(4,s,s.return),tu(s);break;case 1:ra(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&av(s,s.return,h),tu(s);break;case 26:case 27:case 5:ra(s,s.return),tu(s);break;case 22:ra(s,s.return),s.memoizedState===null&&tu(s);break;default:tu(s)}r=r.sibling}}function yo(r,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var x=s.alternate,T=r,M=s,te=M.flags;switch(M.tag){case 0:case 11:case 15:yo(T,M,h),sc(4,M);break;case 1:if(yo(T,M,h),x=M,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Oe){Xn(x,x.return,Oe)}if(x=M,T=x.updateQueue,T!==null){var ce=x.stateNode;try{var xe=T.shared.hiddenCallbacks;if(xe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<xe.length;T++)nv(xe[T],ce)}catch(Oe){Xn(x,x.return,Oe)}}h&&te&64&&iv(M),cl(M,M.return);break;case 26:case 27:case 5:yo(T,M,h),h&&x===null&&te&4&&sv(M),cl(M,M.return);break;case 12:yo(T,M,h);break;case 13:yo(T,M,h),h&&te&4&&mv(T,M);break;case 22:M.memoizedState===null&&yo(T,M,h),cl(M,M.return);break;default:yo(T,M,h)}s=s.sibling}}function f0(r,s){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&$u(h))}function h0(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$u(r))}function _o(r,s,h,x){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vv(r,s,h,x),s=s.sibling}function vv(r,s,h,x){var T=s.flags;switch(s.tag){case 0:case 11:case 15:_o(r,s,h,x),T&2048&&sc(9,s);break;case 3:_o(r,s,h,x),T&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&$u(r)));break;case 12:if(T&2048){_o(r,s,h,x),r=s.stateNode;try{var M=s.memoizedProps,te=M.id,ce=M.onPostCommit;typeof ce=="function"&&ce(te,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(xe){Xn(s,s.return,xe)}}else _o(r,s,h,x);break;case 23:break;case 22:M=s.stateNode,s.memoizedState!==null?M._visibility&4?_o(r,s,h,x):oc(r,s):M._visibility&4?_o(r,s,h,x):(M._visibility|=4,nu(r,s,h,x,(s.subtreeFlags&10256)!==0)),T&2048&&f0(s.alternate,s);break;case 24:_o(r,s,h,x),T&2048&&h0(s.alternate,s);break;default:_o(r,s,h,x)}}function nu(r,s,h,x,T){for(T=T&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var M=r,te=s,ce=h,xe=x,Oe=te.flags;switch(te.tag){case 0:case 11:case 15:nu(M,te,ce,xe,T),sc(8,te);break;case 23:break;case 22:var Qe=te.stateNode;te.memoizedState!==null?Qe._visibility&4?nu(M,te,ce,xe,T):oc(M,te):(Qe._visibility|=4,nu(M,te,ce,xe,T)),T&&Oe&2048&&f0(te.alternate,te);break;case 24:nu(M,te,ce,xe,T),T&&Oe&2048&&h0(te.alternate,te);break;default:nu(M,te,ce,xe,T)}s=s.sibling}}function oc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=r,x=s,T=x.flags;switch(x.tag){case 22:oc(h,x),T&2048&&f0(x.alternate,x);break;case 24:oc(h,x),T&2048&&h0(x.alternate,x);break;default:oc(h,x)}s=s.sibling}}var lc=8192;function ru(r){if(r.subtreeFlags&lc)for(r=r.child;r!==null;)yv(r),r=r.sibling}function yv(r){switch(r.tag){case 26:ru(r),r.flags&lc&&r.memoizedState!==null&&s3(za,r.memoizedState,r.memoizedProps);break;case 5:ru(r);break;case 3:case 4:var s=za;za=Yf(r.stateNode.containerInfo),ru(r),za=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=lc,lc=16777216,ru(r),lc=s):ru(r));break;default:ru(r)}}function _v(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function uc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var x=s[h];si=x,wv(x,r)}_v(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xv(r),r=r.sibling}function xv(r){switch(r.tag){case 0:case 11:case 15:uc(r),r.flags&2048&&vo(9,r,r.return);break;case 3:uc(r);break;case 12:uc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Lf(r)):uc(r);break;default:uc(r)}}function Lf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var x=s[h];si=x,wv(x,r)}_v(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:vo(8,s,s.return),Lf(s);break;case 22:h=s.stateNode,h._visibility&4&&(h._visibility&=-5,Lf(s));break;default:Lf(s)}r=r.sibling}}function wv(r,s){for(;si!==null;){var h=si;switch(h.tag){case 0:case 11:case 15:vo(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:$u(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,si=x;else e:for(h=r;si!==null;){x=si;var T=x.sibling,M=x.return;if(hv(x),x===h){si=null;break e}if(T!==null){T.return=M,si=T;break e}si=M}}}function _S(r,s,h,x){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(r,s,h,x){return new _S(r,s,h,x)}function d0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xo(r,s){var h=r.alternate;return h===null?(h=Oa(r.tag,s,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=s,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&31457280,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,s=r.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function bv(r,s){r.flags&=31457282;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,s=h.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function kf(r,s,h,x,T,M){var te=0;if(x=r,typeof r=="function")d0(r)&&(te=1);else if(typeof r=="string")te=i3(r,h,Mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return fl(h.children,T,M,s);case g:te=8,T|=24;break;case b:return r=Oa(12,h,s,T|2),r.elementType=b,r.lanes=M,r;case N:return r=Oa(13,h,s,T),r.elementType=N,r.lanes=M,r;case k:return r=Oa(19,h,s,T),r.elementType=k,r.lanes=M,r;case B:return Ev(h,T,M,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case C:te=10;break e;case O:te=9;break e;case R:te=11;break e;case F:te=14;break e;case P:te=16,x=null;break e}te=29,h=Error(a(130,r===null?"null":typeof r,"")),x=null}return s=Oa(te,h,s,T),s.elementType=r,s.type=x,s.lanes=M,s}function fl(r,s,h,x){return r=Oa(7,r,x,s),r.lanes=h,r}function Ev(r,s,h,x){r=Oa(22,r,x,s),r.elementType=B,r.lanes=h;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=T._current;if(M===null)throw Error(a(456));if((T._pendingVisibility&2)===0){var te=Vi(M,2);te!==null&&(T._pendingVisibility|=2,Ri(te,M,2))}},attach:function(){var M=T._current;if(M===null)throw Error(a(456));if((T._pendingVisibility&2)!==0){var te=Vi(M,2);te!==null&&(T._pendingVisibility&=-3,Ri(te,M,2))}}};return r.stateNode=T,r}function m0(r,s,h){return r=Oa(6,r,null,s),r.lanes=h,r}function p0(r,s,h){return s=Oa(4,r.children!==null?r.children:[],r.key,s),s.lanes=h,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function qs(r){r.flags|=4}function Sv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ly(s)){if(s=Ca.current,s!==null&&((On&4194176)===On?hs!==null:(On&62914560)!==On&&(On&536870912)===0||s!==hs))throw oo=cs,di;r.flags|=8192}}function Pf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?yi():536870912,r.lanes|=s,au|=s)}function cc(r,s){if(!oe)switch(r.tailMode){case"hidden":s=r.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:x.sibling=null}}function mr(r){var s=r.alternate!==null&&r.alternate.child===r.child,h=0,x=0;if(s)for(var T=r.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags&31457280,x|=T.flags&31457280,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=x,r.childLanes=h,s}function xS(r,s,h){var x=s.pendingProps;switch(A(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(s),null;case 1:return mr(s),null;case 3:return h=s.stateNode,x=null,r!==null&&(x=r.memoizedState.cache),s.memoizedState.cache!==x&&(s.flags|=2048),Us(Zr),Ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Qt(s)?qs(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,we!==null&&(E0(we),we=null))),mr(s),null;case 26:return h=s.memoizedState,r===null?(qs(s),h!==null?(mr(s),Sv(s,h)):(mr(s),s.flags&=-16777217)):h?h!==r.memoizedState?(qs(s),mr(s),Sv(s,h)):(mr(s),s.flags&=-16777217):(r.memoizedProps!==x&&qs(s),mr(s),s.flags&=-16777217),null;case 27:de(s),h=Tt.current;var T=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==x&&qs(s);else{if(!x){if(s.stateNode===null)throw Error(a(166));return mr(s),null}r=Mt.current,Qt(s)?_t(s):(r=ey(T,x,h),s.stateNode=r,qs(s))}return mr(s),null;case 5:if(de(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==x&&qs(s);else{if(!x){if(s.stateNode===null)throw Error(a(166));return mr(s),null}if(r=Mt.current,Qt(s))_t(s);else{switch(T=Zf(Tt.current),r){case 1:r=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:r=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":r=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":r=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof x.is=="string"?T.createElement("select",{is:x.is}):T.createElement("select"),x.multiple?r.multiple=!0:x.size&&(r.size=x.size);break;default:r=typeof x.is=="string"?T.createElement(h,{is:x.is}):T.createElement(h)}}r[dt]=s,r[pt]=x;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)r.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=r;e:switch(pi(r,h,x),h){case"button":case"input":case"select":case"textarea":r=!!x.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&qs(s)}}return mr(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==x&&qs(s);else{if(typeof x!="string"&&s.stateNode===null)throw Error(a(166));if(r=Tt.current,Qt(s)){if(r=s.stateNode,h=s.memoizedProps,x=null,T=U,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}r[dt]=s,r=!!(r.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||Yv(r.nodeValue,h)),r||tt(s)}else r=Zf(r).createTextNode(x),r[dt]=s,s.stateNode=r}return mr(s),null;case 13:if(x=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=Qt(s),x!==null&&x.dehydrated!==null){if(r===null){if(!T)throw Error(a(318));if(T=s.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[dt]=s}else Rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mr(s),T=!1}else we!==null&&(E0(we),we=null),T=!0;if(!T)return s.flags&256?(Ps(s),s):(Ps(s),null)}if(Ps(s),(s.flags&128)!==0)return s.lanes=h,s;if(h=x!==null,r=r!==null&&r.memoizedState!==null,h){x=s.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool);var M=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(M=x.memoizedState.cachePool.pool),M!==T&&(x.flags|=2048)}return h!==r&&h&&(s.child.flags|=8192),Pf(s,s.updateQueue),mr(s),null;case 4:return Ue(),r===null&&L0(s.stateNode.containerInfo),mr(s),null;case 10:return Us(s.type),mr(s),null;case 19:if(ft(Gr),T=s.memoizedState,T===null)return mr(s),null;if(x=(s.flags&128)!==0,M=T.rendering,M===null)if(x)cc(T,!1);else{if(_r!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(M=_f(r),M!==null){for(s.flags|=128,cc(T,!1),r=M.updateQueue,s.updateQueue=r,Pf(s,r),s.subtreeFlags=0,r=h,h=s.child;h!==null;)bv(h,r),h=h.sibling;return wt(Gr,Gr.current&1|2),s.child}r=r.sibling}T.tail!==null&&lt()>Bf&&(s.flags|=128,x=!0,cc(T,!1),s.lanes=4194304)}else{if(!x)if(r=_f(M),r!==null){if(s.flags|=128,x=!0,r=r.updateQueue,s.updateQueue=r,Pf(s,r),cc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!oe)return mr(s),null}else 2*lt()-T.renderingStartTime>Bf&&h!==536870912&&(s.flags|=128,x=!0,cc(T,!1),s.lanes=4194304);T.isBackwards?(M.sibling=s.child,s.child=M):(r=T.last,r!==null?r.sibling=M:s.child=M,T.last=M)}return T.tail!==null?(s=T.tail,T.rendering=s,T.tail=s.sibling,T.renderingStartTime=lt(),s.sibling=null,r=Gr.current,wt(Gr,x?r&1|2:r&1),s):(mr(s),null);case 22:case 23:return Ps(s),bd(),x=s.memoizedState!==null,r!==null?r.memoizedState!==null!==x&&(s.flags|=8192):x&&(s.flags|=8192),x?(h&536870912)!==0&&(s.flags&128)===0&&(mr(s),s.subtreeFlags&6&&(s.flags|=8192)):mr(s),h=s.updateQueue,h!==null&&Pf(s,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),x=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(x=s.memoizedState.cachePool.pool),x!==h&&(s.flags|=2048),r!==null&&ft(rl),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Us(Zr),mr(s),null;case 25:return null}throw Error(a(156,s.tag))}function wS(r,s){switch(A(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Us(Zr),Ue(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return de(s),null;case 13:if(Ps(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Rr()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ft(Gr),null;case 4:return Ue(),null;case 10:return Us(s.type),null;case 22:case 23:return Ps(s),bd(),r!==null&&ft(rl),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Us(Zr),null;case 25:return null;default:return null}}function Cv(r,s){switch(A(s),s.tag){case 3:Us(Zr),Ue();break;case 26:case 27:case 5:de(s);break;case 4:Ue();break;case 13:Ps(s);break;case 19:ft(Gr);break;case 10:Us(s.type);break;case 22:case 23:Ps(s),bd(),r!==null&&ft(rl);break;case 24:Us(Zr)}}var bS={getCacheForType:function(r){var s=xi(Zr),h=s.data.get(r);return h===void 0&&(h=r(),s.data.set(r,h)),h}},ES=typeof WeakMap=="function"?WeakMap:Map,pr=0,Qn=null,wn=null,On=0,Jn=0,aa=null,Ws=!1,iu=!1,g0=!1,Gs=0,_r=0,wo=0,hl=0,v0=0,Ia=0,au=0,fc=null,ms=null,y0=!1,_0=0,Bf=1/0,jf=null,bo=null,zf=!1,dl=null,hc=0,x0=0,w0=null,dc=0,b0=null;function sa(){if((pr&2)!==0&&On!==0)return On&-On;if(G.T!==null){var r=$l;return r!==0?r:N0()}return Ge()}function Av(){Ia===0&&(Ia=(On&536870912)===0||oe?$n():536870912);var r=Ca.current;return r!==null&&(r.flags|=32),Ia}function Ri(r,s,h){(r===Qn&&Jn===2||r.cancelPendingCommit!==null)&&(su(r,0),Zs(r,On,Ia,!1)),Lr(r,h),((pr&2)===0||r!==Qn)&&(r===Qn&&((pr&2)===0&&(hl|=h),_r===4&&Zs(r,On,Ia,!1)),ps(r))}function Tv(r,s,h){if((pr&6)!==0)throw Error(a(327));var x=!h&&(s&60)===0&&(s&r.expiredLanes)===0||Sr(r,s),T=x?AS(r,s):A0(r,s,!0),M=x;do{if(T===0){iu&&!x&&Zs(r,s,0,!1);break}else if(T===6)Zs(r,s,0,!Ws);else{if(h=r.current.alternate,M&&!SS(h)){T=A0(r,s,!1),M=!1;continue}if(T===2){if(M=s,r.errorRecoveryDisabledLanes&M)var te=0;else te=r.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){s=te;e:{var ce=r;T=fc;var xe=ce.current.memoizedState.isDehydrated;if(xe&&(su(ce,te).flags|=256),te=A0(ce,te,!1),te!==2){if(g0&&!xe){ce.errorRecoveryDisabledLanes|=M,hl|=M,T=4;break e}M=ms,ms=T,M!==null&&E0(M)}T=te}if(M=!1,T!==2)continue}}if(T===1){su(r,0),Zs(r,s,0,!0);break}e:{switch(x=r,T){case 0:case 1:throw Error(a(345));case 4:if((s&4194176)===s){Zs(x,s,Ia,!Ws);break e}break;case 2:ms=null;break;case 3:case 5:break;default:throw Error(a(329))}if(x.finishedWork=h,x.finishedLanes=s,(s&62914560)===s&&(M=_0+300-lt(),10<M)){if(Zs(x,s,Ia,!Ws),pa(x,0)!==0)break e;x.timeoutHandle=Kv(Ov.bind(null,x,h,ms,jf,y0,s,Ia,hl,au,Ws,2,-0,0),M);break e}Ov(x,h,ms,jf,y0,s,Ia,hl,au,Ws,0,-0,0)}}break}while(!0);ps(r)}function E0(r){ms===null?ms=r:ms.push.apply(ms,r)}function Ov(r,s,h,x,T,M,te,ce,xe,Oe,Qe,at,Ve){var Ke=s.subtreeFlags;if((Ke&8192||(Ke&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:a3},yv(s),s=o3(),s!==null)){r.cancelPendingCommit=s(kv.bind(null,r,h,x,T,te,ce,xe,1,at,Ve)),Zs(r,M,te,!Oe);return}kv(r,h,x,T,te,ce,xe,Qe,at,Ve)}function SS(r){for(var s=r;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var T=h[x],M=T.getSnapshot;T=T.value;try{if(!m(M(),T))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zs(r,s,h,x){s&=~v0,s&=~hl,r.suspendedLanes|=s,r.pingedLanes&=~s,x&&(r.warmLanes|=s),x=r.expirationTimes;for(var T=s;0<T;){var M=31-Gt(T),te=1<<M;x[M]=-1,T&=~te}h!==0&&Ne(r,h,s)}function Uf(){return(pr&6)===0?(mc(0),!1):!0}function S0(){if(wn!==null){if(Jn===0)var r=wn.return;else r=wn,zs=ll=null,Nd(r),Ls=null,Kn=0,r=wn;for(;r!==null;)Cv(r.alternate,r),r=r.return;wn=null}}function su(r,s){r.finishedWork=null,r.finishedLanes=0;var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,VS(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),S0(),Qn=r,wn=h=xo(r.current,null),On=s,Jn=0,aa=null,Ws=!1,iu=Sr(r,s),g0=!1,au=Ia=v0=hl=wo=_r=0,ms=fc=null,y0=!1,(s&8)!==0&&(s|=s&32);var x=r.entangledLanes;if(x!==0)for(r=r.entanglements,x&=s;0<x;){var T=31-Gt(x),M=1<<T;s|=r[T],x&=~M}return Gs=s,Hi(),h}function Iv(r,s){gn=null,G.H=ds,s===ii?(s=pf(),Jn=3):s===di?(s=pf(),Jn=4):Jn=s===Hg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,aa=s,wn===null&&(_r=1,Nf(r,Oi(s,r.current)))}function Nv(){var r=G.H;return G.H=ds,r===null?ds:r}function Rv(){var r=G.A;return G.A=bS,r}function C0(){_r=4,Ws||(On&4194176)!==On&&Ca.current!==null||(iu=!0),(wo&134217727)===0&&(hl&134217727)===0||Qn===null||Zs(Qn,On,Ia,!1)}function A0(r,s,h){var x=pr;pr|=2;var T=Nv(),M=Rv();(Qn!==r||On!==s)&&(jf=null,su(r,s)),s=!1;var te=_r;e:do try{if(Jn!==0&&wn!==null){var ce=wn,xe=aa;switch(Jn){case 8:S0(),te=6;break e;case 3:case 2:case 6:Ca.current===null&&(s=!0);var Oe=Jn;if(Jn=0,aa=null,ou(r,ce,xe,Oe),h&&iu){te=0;break e}break;default:Oe=Jn,Jn=0,aa=null,ou(r,ce,xe,Oe)}}CS(),te=_r;break}catch(Qe){Iv(r,Qe)}while(!0);return s&&r.shellSuspendCounter++,zs=ll=null,pr=x,G.H=T,G.A=M,wn===null&&(Qn=null,On=0,Hi()),te}function CS(){for(;wn!==null;)Mv(wn)}function AS(r,s){var h=pr;pr|=2;var x=Nv(),T=Rv();Qn!==r||On!==s?(jf=null,Bf=lt()+500,su(r,s)):iu=Sr(r,s);e:do try{if(Jn!==0&&wn!==null){s=wn;var M=aa;t:switch(Jn){case 1:Jn=0,aa=null,ou(r,s,M,1);break;case 2:if(df(M)){Jn=0,aa=null,Dv(s);break}s=function(){Jn===2&&Qn===r&&(Jn=7),ps(r)},M.then(s,s);break e;case 3:Jn=7;break e;case 4:Jn=5;break e;case 7:df(M)?(Jn=0,aa=null,Dv(s)):(Jn=0,aa=null,ou(r,s,M,7));break;case 5:var te=null;switch(wn.tag){case 26:te=wn.memoizedState;case 5:case 27:var ce=wn;if(!te||ly(te)){Jn=0,aa=null;var xe=ce.sibling;if(xe!==null)wn=xe;else{var Oe=ce.return;Oe!==null?(wn=Oe,Ff(Oe)):wn=null}break t}}Jn=0,aa=null,ou(r,s,M,5);break;case 6:Jn=0,aa=null,ou(r,s,M,6);break;case 8:S0(),_r=6;break e;default:throw Error(a(462))}}TS();break}catch(Qe){Iv(r,Qe)}while(!0);return zs=ll=null,G.H=x,G.A=T,pr=h,wn!==null?0:(Qn=null,On=0,Hi(),_r)}function TS(){for(;wn!==null&&!je();)Mv(wn)}function Mv(r){var s=ev(r.alternate,r,Gs);r.memoizedProps=r.pendingProps,s===null?Ff(r):wn=s}function Dv(r){var s=r,h=s.alternate;switch(s.tag){case 15:case 0:s=Yg(h,s,s.pendingProps,s.type,void 0,On);break;case 11:s=Yg(h,s,s.pendingProps,s.type.render,s.ref,On);break;case 5:Nd(s);default:Cv(h,s),s=wn=bv(s,Gs),s=ev(h,s,Gs)}r.memoizedProps=r.pendingProps,s===null?Ff(r):wn=s}function ou(r,s,h,x){zs=ll=null,Nd(s),Ls=null,Kn=0;var T=s.return;try{if(pS(r,T,s,h,On)){_r=1,Nf(r,Oi(h,r.current)),wn=null;return}}catch(M){if(T!==null)throw wn=T,M;_r=1,Nf(r,Oi(h,r.current)),wn=null;return}s.flags&32768?(oe||x===1?r=!0:iu||(On&536870912)!==0?r=!1:(Ws=r=!0,(x===2||x===3||x===6)&&(x=Ca.current,x!==null&&x.tag===13&&(x.flags|=16384))),Lv(s,r)):Ff(s)}function Ff(r){var s=r;do{if((s.flags&32768)!==0){Lv(s,Ws);return}r=s.return;var h=xS(s.alternate,s,Gs);if(h!==null){wn=h;return}if(s=s.sibling,s!==null){wn=s;return}wn=s=r}while(s!==null);_r===0&&(_r=5)}function Lv(r,s){do{var h=wS(r.alternate,r);if(h!==null){h.flags&=32767,wn=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(r=r.sibling,r!==null)){wn=r;return}wn=r=h}while(r!==null);_r=6,wn=null}function kv(r,s,h,x,T,M,te,ce,xe,Oe){var Qe=G.T,at=Ae.p;try{Ae.p=2,G.T=null,OS(r,s,h,x,at,T,M,te,ce,xe,Oe)}finally{G.T=Qe,Ae.p=at}}function OS(r,s,h,x,T,M,te,ce){do lu();while(dl!==null);if((pr&6)!==0)throw Error(a(327));var xe=r.finishedWork;if(x=r.finishedLanes,xe===null)return null;if(r.finishedWork=null,r.finishedLanes=0,xe===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Oe=xe.lanes|xe.childLanes;if(Oe|=Yu,Se(r,x,Oe,M,te,ce),r===Qn&&(wn=Qn=null,On=0),(xe.subtreeFlags&10256)===0&&(xe.flags&10256)===0||zf||(zf=!0,x0=Oe,w0=h,MS(It,function(){return lu(),null})),h=(xe.flags&15990)!==0,(xe.subtreeFlags&15990)!==0||h?(h=G.T,G.T=null,M=Ae.p,Ae.p=2,te=pr,pr|=4,vS(r,xe),pv(xe,r),ae(j0,r.containerInfo),Jf=!!B0,j0=B0=null,r.current=xe,fv(r,xe.alternate,xe),ct(),pr=te,Ae.p=M,G.T=h):r.current=xe,zf?(zf=!1,dl=r,hc=x):Pv(r,Oe),Oe=r.pendingLanes,Oe===0&&(bo=null),Ln(xe.stateNode),ps(r),s!==null)for(T=r.onRecoverableError,xe=0;xe<s.length;xe++)Oe=s[xe],T(Oe.value,{componentStack:Oe.stack});return(hc&3)!==0&&lu(),Oe=r.pendingLanes,(x&4194218)!==0&&(Oe&42)!==0?r===b0?dc++:(dc=0,b0=r):dc=0,mc(0),null}function Pv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,$u(s)))}function lu(){if(dl!==null){var r=dl,s=x0;x0=0;var h=Xe(hc),x=G.T,T=Ae.p;try{if(Ae.p=32>h?32:h,G.T=null,dl===null)var M=!1;else{h=w0,w0=null;var te=dl,ce=hc;if(dl=null,hc=0,(pr&6)!==0)throw Error(a(331));var xe=pr;if(pr|=4,xv(te.current),vv(te,te.current,ce,h),pr=xe,mc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Nt,te)}catch{}M=!0}return M}finally{Ae.p=T,G.T=x,Pv(r,s)}}return!1}function Bv(r,s,h){s=Oi(h,s),s=qd(r.stateNode,s,2),r=go(r,s,2),r!==null&&(Lr(r,2),ps(r))}function Xn(r,s,h){if(r.tag===3)Bv(r,r,h);else for(;s!==null;){if(s.tag===3){Bv(s,r,h);break}else if(s.tag===1){var x=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(bo===null||!bo.has(x))){r=Oi(h,r),h=Ug(2),x=go(s,h,2),x!==null&&(Fg(h,x,s,r),Lr(x,2),ps(x));break}}s=s.return}}function T0(r,s,h){var x=r.pingCache;if(x===null){x=r.pingCache=new ES;var T=new Set;x.set(s,T)}else T=x.get(s),T===void 0&&(T=new Set,x.set(s,T));T.has(h)||(g0=!0,T.add(h),r=IS.bind(null,r,s,h),s.then(r,r))}function IS(r,s,h){var x=r.pingCache;x!==null&&x.delete(s),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,Qn===r&&(On&h)===h&&(_r===4||_r===3&&(On&62914560)===On&&300>lt()-_0?(pr&2)===0&&su(r,0):v0|=h,au===On&&(au=0)),ps(r)}function jv(r,s){s===0&&(s=yi()),r=Vi(r,s),r!==null&&(Lr(r,s),ps(r))}function NS(r){var s=r.memoizedState,h=0;s!==null&&(h=s.retryLane),jv(r,h)}function RS(r,s){var h=0;switch(r.tag){case 13:var x=r.stateNode,T=r.memoizedState;T!==null&&(h=T.retryLane);break;case 19:x=r.stateNode;break;case 22:x=r.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(s),jv(r,h)}function MS(r,s){return Je(r,s)}var Hf=null,uu=null,O0=!1,Vf=!1,I0=!1,ml=0;function ps(r){r!==uu&&r.next===null&&(uu===null?Hf=uu=r:uu=uu.next=r),Vf=!0,O0||(O0=!0,LS(DS))}function mc(r,s){if(!I0&&Vf){I0=!0;do for(var h=!1,x=Hf;x!==null;){if(r!==0){var T=x.pendingLanes;if(T===0)var M=0;else{var te=x.suspendedLanes,ce=x.pingedLanes;M=(1<<31-Gt(42|r)+1)-1,M&=T&~(te&~ce),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(h=!0,Fv(x,M))}else M=On,M=pa(x,x===Qn?M:0),(M&3)===0||Sr(x,M)||(h=!0,Fv(x,M));x=x.next}while(h);I0=!1}}function DS(){Vf=O0=!1;var r=0;ml!==0&&(HS()&&(r=ml),ml=0);for(var s=lt(),h=null,x=Hf;x!==null;){var T=x.next,M=zv(x,s);M===0?(x.next=null,h===null?Hf=T:h.next=T,T===null&&(uu=h)):(h=x,(r!==0||(M&3)!==0)&&(Vf=!0)),x=T}mc(r)}function zv(r,s){for(var h=r.suspendedLanes,x=r.pingedLanes,T=r.expirationTimes,M=r.pendingLanes&-62914561;0<M;){var te=31-Gt(M),ce=1<<te,xe=T[te];xe===-1?((ce&h)===0||(ce&x)!==0)&&(T[te]=Xa(ce,s)):xe<=s&&(r.expiredLanes|=ce),M&=~ce}if(s=Qn,h=On,h=pa(r,r===s?h:0),x=r.callbackNode,h===0||r===s&&Jn===2||r.cancelPendingCommit!==null)return x!==null&&x!==null&&ke(x),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||Sr(r,h)){if(s=h&-h,s===r.callbackPriority)return s;switch(x!==null&&ke(x),Xe(h)){case 2:case 8:h=dn;break;case 32:h=It;break;case 268435456:h=fi;break;default:h=It}return x=Uv.bind(null,r),h=Je(h,x),r.callbackPriority=s,r.callbackNode=h,s}return x!==null&&x!==null&&ke(x),r.callbackPriority=2,r.callbackNode=null,2}function Uv(r,s){var h=r.callbackNode;if(lu()&&r.callbackNode!==h)return null;var x=On;return x=pa(r,r===Qn?x:0),x===0?null:(Tv(r,x,s),zv(r,lt()),r.callbackNode!=null&&r.callbackNode===h?Uv.bind(null,r):null)}function Fv(r,s){if(lu())return null;Tv(r,s,!0)}function LS(r){qS(function(){(pr&6)!==0?Je(yt,r):r()})}function N0(){return ml===0&&(ml=$n()),ml}function Hv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:va(""+r)}function Vv(r,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,r.id&&h.setAttribute("form",r.id),s.parentNode.insertBefore(h,s),r=new FormData(r),h.parentNode.removeChild(h),r}function kS(r,s,h,x,T){if(s==="submit"&&h&&h.stateNode===T){var M=Hv((T[pt]||null).action),te=x.submitter;te&&(s=(s=te[pt]||null)?Hv(s.formAction):te.getAttribute("formAction"),s!==null&&(M=s,te=null));var ce=new Ki("action","action",null,x,T);r.push({event:ce,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ml!==0){var xe=te?Vv(T,te):new FormData(T);zd(h,{pending:!0,data:xe,method:T.method,action:M},null,xe)}}else typeof M=="function"&&(ce.preventDefault(),xe=te?Vv(T,te):new FormData(T),zd(h,{pending:!0,data:xe,method:T.method,action:M},M,xe))},currentTarget:T}]})}}for(var R0=0;R0<ql.length;R0++){var M0=ql[R0],PS=M0.toLowerCase(),BS=M0[0].toUpperCase()+M0.slice(1);kr(PS,"on"+BS)}kr(Hn,"onAnimationEnd"),kr(qr,"onAnimationIteration"),kr(Wr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Tn,"onTransitionRun"),kr(Nr,"onTransitionStart"),kr(ri,"onTransitionCancel"),kr(ja,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function qv(r,s){s=(s&4)!==0;for(var h=0;h<r.length;h++){var x=r[h],T=x.event;x=x.listeners;e:{var M=void 0;if(s)for(var te=x.length-1;0<=te;te--){var ce=x[te],xe=ce.instance,Oe=ce.currentTarget;if(ce=ce.listener,xe!==M&&T.isPropagationStopped())break e;M=ce,T.currentTarget=Oe;try{M(T)}catch(Qe){If(Qe)}T.currentTarget=null,M=xe}else for(te=0;te<x.length;te++){if(ce=x[te],xe=ce.instance,Oe=ce.currentTarget,ce=ce.listener,xe!==M&&T.isPropagationStopped())break e;M=ce,T.currentTarget=Oe;try{M(T)}catch(Qe){If(Qe)}T.currentTarget=null,M=xe}}}}function An(r,s){var h=s[bt];h===void 0&&(h=s[bt]=new Set);var x=r+"__bubble";h.has(x)||(Wv(s,r,2,!1),h.add(x))}function D0(r,s,h){var x=0;s&&(x|=4),Wv(h,r,x,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function L0(r){if(!r[qf]){r[qf]=!0,ga.forEach(function(h){h!=="selectionchange"&&(jS.has(h)||D0(h,!1,r),D0(h,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[qf]||(s[qf]=!0,D0("selectionchange",!1,s))}}function Wv(r,s,h,x){switch(my(s)){case 2:var T=c3;break;case 8:T=f3;break;default:T=Z0}h=T.bind(null,s,h,r),T=void 0,!Wt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(T=!0),x?T!==void 0?r.addEventListener(s,h,{capture:!0,passive:T}):r.addEventListener(s,h,!0):T!==void 0?r.addEventListener(s,h,{passive:T}):r.addEventListener(s,h,!1)}function k0(r,s,h,x,T){var M=x;if((s&1)===0&&(s&2)===0&&x!==null)e:for(;;){if(x===null)return;var te=x.tag;if(te===3||te===4){var ce=x.stateNode.containerInfo;if(ce===T||ce.nodeType===8&&ce.parentNode===T)break;if(te===4)for(te=x.return;te!==null;){var xe=te.tag;if((xe===3||xe===4)&&(xe=te.stateNode.containerInfo,xe===T||xe.nodeType===8&&xe.parentNode===T))return;te=te.return}for(;ce!==null;){if(te=en(ce),te===null)return;if(xe=te.tag,xe===5||xe===6||xe===26||xe===27){x=M=te;continue e}ce=ce.parentNode}}x=x.return}vt(function(){var Oe=M,Qe=Ka(h),at=[];e:{var Ve=Ai.get(r);if(Ve!==void 0){var Ke=Ki,Lt=r;switch(r){case"keypress":if(lr(h)===0)break e;case"keydown":case"keyup":Ke=$o;break;case"focusin":Lt="focus",Ke=ts;break;case"focusout":Lt="blur",Ke=ts;break;case"beforeblur":case"afterblur":Ke=ts;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=Mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=Pn;break;case Hn:case qr:case Wr:Ke=Wu;break;case ja:Ke=Gu;break;case"scroll":case"scrollend":Ke=Qr;break;case"wheel":Ke=wa;break;case"copy":case"cut":case"paste":Ke=Xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=rs;break;case"toggle":case"beforetoggle":Ke=Ba}var Jt=(s&4)!==0,xr=!Jt&&(r==="scroll"||r==="scrollend"),De=Jt?Ve!==null?Ve+"Capture":null:Ve;Jt=[];for(var Te=Oe,ze;Te!==null;){var nt=Te;if(ze=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||ze===null||De===null||(nt=Qa(Te,De),nt!=null&&Jt.push(gc(Te,nt,ze))),xr)break;Te=Te.return}0<Jt.length&&(Ve=new Ke(Ve,Lt,null,h,Qe),at.push({event:Ve,listeners:Jt}))}}if((s&7)===0){e:{if(Ve=r==="mouseover"||r==="pointerover",Ke=r==="mouseout"||r==="pointerout",Ve&&h!==$i&&(Lt=h.relatedTarget||h.fromElement)&&(en(Lt)||Lt[ht]))break e;if((Ke||Ve)&&(Ve=Qe.window===Qe?Qe:(Ve=Qe.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ke?(Lt=h.relatedTarget||h.toElement,Ke=Oe,Lt=Lt?en(Lt):null,Lt!==null&&(xr=ge(Lt),Jt=Lt.tag,Lt!==xr||Jt!==5&&Jt!==27&&Jt!==6)&&(Lt=null)):(Ke=null,Lt=Oe),Ke!==Lt)){if(Jt=es,nt="onMouseLeave",De="onMouseEnter",Te="mouse",(r==="pointerout"||r==="pointerover")&&(Jt=rs,nt="onPointerLeave",De="onPointerEnter",Te="pointer"),xr=Ke==null?Ve:vn(Ke),ze=Lt==null?Ve:vn(Lt),Ve=new Jt(nt,Te+"leave",Ke,h,Qe),Ve.target=xr,Ve.relatedTarget=ze,nt=null,en(Qe)===Oe&&(Jt=new Jt(De,Te+"enter",Lt,h,Qe),Jt.target=ze,Jt.relatedTarget=xr,nt=Jt),xr=nt,Ke&&Lt)t:{for(Jt=Ke,De=Lt,Te=0,ze=Jt;ze;ze=cu(ze))Te++;for(ze=0,nt=De;nt;nt=cu(nt))ze++;for(;0<Te-ze;)Jt=cu(Jt),Te--;for(;0<ze-Te;)De=cu(De),ze--;for(;Te--;){if(Jt===De||De!==null&&Jt===De.alternate)break t;Jt=cu(Jt),De=cu(De)}Jt=null}else Jt=null;Ke!==null&&Gv(at,Ve,Ke,Jt,!1),Lt!==null&&xr!==null&&Gv(at,xr,Lt,Jt,!0)}}e:{if(Ve=Oe?vn(Oe):window,Ke=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Ve.type==="file")var At=ls;else if(Fi(Ve))if(ao)At=o;else{At=ie;var _n=us}else Ke=Ve.nodeName,!Ke||Ke.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Oe&&kn(Oe.elementType)&&(At=ls):At=i;if(At&&(At=At(r,Oe))){hi(at,At,h,Qe);break e}_n&&_n(r,Ve,Oe),r==="focusout"&&Oe&&Ve.type==="number"&&Oe.memoizedProps.value!=null&&me(Ve,"number",Ve.value)}switch(_n=Oe?vn(Oe):window,r){case"focusin":(Fi(_n)||_n.contentEditable==="true")&&(ve=_n,be=Oe,Ce=null);break;case"focusout":Ce=be=ve=null;break;case"mousedown":Pe=!0;break;case"contextmenu":case"mouseup":case"dragend":Pe=!1,Fe(at,h,Qe);break;case"selectionchange":if(le)break;case"keydown":case"keyup":Fe(at,h,Qe)}var Pt;if(ea)e:{switch(r){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else is?ta(r,h)&&(Vt="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(Vt="onCompositionStart");Vt&&(no&&h.locale!=="ko"&&(is||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&is&&(Pt=_i()):(zi=Qe,Ei="value"in zi?zi.value:zi.textContent,is=!0)),_n=Wf(Oe,Vt),0<_n.length&&(Vt=new ei(Vt,r,null,h,Qe),at.push({event:Vt,listeners:_n}),Pt?Vt.data=Pt:(Pt=io(h),Pt!==null&&(Vt.data=Pt)))),(Pt=to?as(r,h):Zu(r,h))&&(Vt=Wf(Oe,"onBeforeInput"),0<Vt.length&&(_n=new ei("onBeforeInput","beforeinput",null,h,Qe),at.push({event:_n,listeners:Vt}),_n.data=Pt)),kS(at,r,Oe,h,Qe)}qv(at,s)})}function gc(r,s,h){return{instance:r,listener:s,currentTarget:h}}function Wf(r,s){for(var h=s+"Capture",x=[];r!==null;){var T=r,M=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||M===null||(T=Qa(r,h),T!=null&&x.unshift(gc(r,T,M)),T=Qa(r,s),T!=null&&x.push(gc(r,T,M))),r=r.return}return x}function cu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Gv(r,s,h,x,T){for(var M=s._reactName,te=[];h!==null&&h!==x;){var ce=h,xe=ce.alternate,Oe=ce.stateNode;if(ce=ce.tag,xe!==null&&xe===x)break;ce!==5&&ce!==26&&ce!==27||Oe===null||(xe=Oe,T?(Oe=Qa(h,M),Oe!=null&&te.unshift(gc(h,Oe,xe))):T||(Oe=Qa(h,M),Oe!=null&&te.push(gc(h,Oe,xe)))),h=h.return}te.length!==0&&r.push({event:s,listeners:te})}var zS=/\r\n?/g,US=/\u0000|\uFFFD/g;function Zv(r){return(typeof r=="string"?r:""+r).replace(zS,`
`).replace(US,"")}function Yv(r,s){return s=Zv(s),Zv(r)===s}function Gf(){}function qn(r,s,h,x,T,M){switch(h){case"children":typeof x=="string"?s==="body"||s==="textarea"&&x===""||ji(r,x):(typeof x=="number"||typeof x=="bigint")&&s!=="body"&&ji(r,""+x);break;case"className":pn(r,"class",x);break;case"tabIndex":pn(r,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(r,h,x);break;case"style":Rt(r,x,M);break;case"data":if(s!=="object"){pn(r,"data",x);break}case"src":case"href":if(x===""&&(s!=="a"||h!=="href")){r.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){r.removeAttribute(h);break}x=va(""+x),r.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(h==="formAction"?(s!=="input"&&qn(r,s,"name",T.name,T,null),qn(r,s,"formEncType",T.formEncType,T,null),qn(r,s,"formMethod",T.formMethod,T,null),qn(r,s,"formTarget",T.formTarget,T,null)):(qn(r,s,"encType",T.encType,T,null),qn(r,s,"method",T.method,T,null),qn(r,s,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){r.removeAttribute(h);break}x=va(""+x),r.setAttribute(h,x);break;case"onClick":x!=null&&(r.onclick=Gf);break;case"onScroll":x!=null&&An("scroll",r);break;case"onScrollEnd":x!=null&&An("scrollend",r);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(h=x.__html,h!=null){if(T.children!=null)throw Error(a(60));r.innerHTML=h}}break;case"multiple":r.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":r.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){r.removeAttribute("xlink:href");break}h=va(""+x),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?r.setAttribute(h,""+x):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":x===!0?r.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?r.setAttribute(h,x):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?r.setAttribute(h,x):r.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?r.removeAttribute(h):r.setAttribute(h,x);break;case"popover":An("beforetoggle",r),An("toggle",r),Ot(r,"popover",x);break;case"xlinkActuate":Cr(r,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Cr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Cr(r,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Cr(r,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Cr(r,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Cr(r,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Cr(r,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ot(r,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Ts.get(h)||h,Ot(r,h,x))}}function P0(r,s,h,x,T,M){switch(h){case"style":Rt(r,x,M);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(h=x.__html,h!=null){if(T.children!=null)throw Error(a(60));r.innerHTML=h}}break;case"children":typeof x=="string"?ji(r,x):(typeof x=="number"||typeof x=="bigint")&&ji(r,""+x);break;case"onScroll":x!=null&&An("scroll",r);break;case"onScrollEnd":x!=null&&An("scrollend",r);break;case"onClick":x!=null&&(r.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!et.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),s=h.slice(2,T?h.length-7:void 0),M=r[pt]||null,M=M!=null?M[h]:null,typeof M=="function"&&r.removeEventListener(s,M,T),typeof x=="function")){typeof M!="function"&&M!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(s,x,T);break e}h in r?r[h]=x:x===!0?r.setAttribute(h,""):Ot(r,h,x)}}}function pi(r,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",r),An("load",r);var x=!1,T=!1,M;for(M in h)if(h.hasOwnProperty(M)){var te=h[M];if(te!=null)switch(M){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:qn(r,s,M,te,h,null)}}T&&qn(r,s,"srcSet",h.srcSet,h,null),x&&qn(r,s,"src",h.src,h,null);return;case"input":An("invalid",r);var ce=M=te=T=null,xe=null,Oe=null;for(x in h)if(h.hasOwnProperty(x)){var Qe=h[x];if(Qe!=null)switch(x){case"name":T=Qe;break;case"type":te=Qe;break;case"checked":xe=Qe;break;case"defaultChecked":Oe=Qe;break;case"value":M=Qe;break;case"defaultValue":ce=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(a(137,s));break;default:qn(r,s,x,Qe,h,null)}}Be(r,M,ce,xe,Oe,te,T,!1),Et(r);return;case"select":An("invalid",r),x=te=M=null;for(T in h)if(h.hasOwnProperty(T)&&(ce=h[T],ce!=null))switch(T){case"value":M=ce;break;case"defaultValue":te=ce;break;case"multiple":x=ce;default:qn(r,s,T,ce,h,null)}s=M,h=te,r.multiple=!!x,s!=null?mt(r,!!x,s,!1):h!=null&&mt(r,!!x,h,!0);return;case"textarea":An("invalid",r),M=T=x=null;for(te in h)if(h.hasOwnProperty(te)&&(ce=h[te],ce!=null))switch(te){case"value":x=ce;break;case"defaultValue":T=ce;break;case"children":M=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(91));break;default:qn(r,s,te,ce,h,null)}Ar(r,x,T,M),Et(r);return;case"option":for(xe in h)if(h.hasOwnProperty(xe)&&(x=h[xe],x!=null))switch(xe){case"selected":r.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:qn(r,s,xe,x,h,null)}return;case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":An("load",r);break;case"video":case"audio":for(x=0;x<pc.length;x++)An(pc[x],r);break;case"image":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"embed":case"source":case"link":An("error",r),An("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in h)if(h.hasOwnProperty(Oe)&&(x=h[Oe],x!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:qn(r,s,Oe,x,h,null)}return;default:if(kn(s)){for(Qe in h)h.hasOwnProperty(Qe)&&(x=h[Qe],x!==void 0&&P0(r,s,Qe,x,h,void 0));return}}for(ce in h)h.hasOwnProperty(ce)&&(x=h[ce],x!=null&&qn(r,s,ce,x,h,null))}function FS(r,s,h,x){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,M=null,te=null,ce=null,xe=null,Oe=null,Qe=null;for(Ke in h){var at=h[Ke];if(h.hasOwnProperty(Ke)&&at!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":xe=at;default:x.hasOwnProperty(Ke)||qn(r,s,Ke,null,x,at)}}for(var Ve in x){var Ke=x[Ve];if(at=h[Ve],x.hasOwnProperty(Ve)&&(Ke!=null||at!=null))switch(Ve){case"type":M=Ke;break;case"name":T=Ke;break;case"checked":Oe=Ke;break;case"defaultChecked":Qe=Ke;break;case"value":te=Ke;break;case"defaultValue":ce=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(a(137,s));break;default:Ke!==at&&qn(r,s,Ve,Ke,x,at)}}gr(r,te,ce,xe,Oe,Qe,M,T);return;case"select":Ke=te=ce=Ve=null;for(M in h)if(xe=h[M],h.hasOwnProperty(M)&&xe!=null)switch(M){case"value":break;case"multiple":Ke=xe;default:x.hasOwnProperty(M)||qn(r,s,M,null,x,xe)}for(T in x)if(M=x[T],xe=h[T],x.hasOwnProperty(T)&&(M!=null||xe!=null))switch(T){case"value":Ve=M;break;case"defaultValue":ce=M;break;case"multiple":te=M;default:M!==xe&&qn(r,s,T,M,x,xe)}s=ce,h=te,x=Ke,Ve!=null?mt(r,!!h,Ve,!1):!!x!=!!h&&(s!=null?mt(r,!!h,s,!0):mt(r,!!h,h?[]:"",!1));return;case"textarea":Ke=Ve=null;for(ce in h)if(T=h[ce],h.hasOwnProperty(ce)&&T!=null&&!x.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:qn(r,s,ce,null,x,T)}for(te in x)if(T=x[te],M=h[te],x.hasOwnProperty(te)&&(T!=null||M!=null))switch(te){case"value":Ve=T;break;case"defaultValue":Ke=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:T!==M&&qn(r,s,te,T,x,M)}zn(r,Ve,Ke);return;case"option":for(var Lt in h)if(Ve=h[Lt],h.hasOwnProperty(Lt)&&Ve!=null&&!x.hasOwnProperty(Lt))switch(Lt){case"selected":r.selected=!1;break;default:qn(r,s,Lt,null,x,Ve)}for(xe in x)if(Ve=x[xe],Ke=h[xe],x.hasOwnProperty(xe)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch(xe){case"selected":r.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:qn(r,s,xe,Ve,x,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in h)Ve=h[Jt],h.hasOwnProperty(Jt)&&Ve!=null&&!x.hasOwnProperty(Jt)&&qn(r,s,Jt,null,x,Ve);for(Oe in x)if(Ve=x[Oe],Ke=h[Oe],x.hasOwnProperty(Oe)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(a(137,s));break;default:qn(r,s,Oe,Ve,x,Ke)}return;default:if(kn(s)){for(var xr in h)Ve=h[xr],h.hasOwnProperty(xr)&&Ve!==void 0&&!x.hasOwnProperty(xr)&&P0(r,s,xr,void 0,x,Ve);for(Qe in x)Ve=x[Qe],Ke=h[Qe],!x.hasOwnProperty(Qe)||Ve===Ke||Ve===void 0&&Ke===void 0||P0(r,s,Qe,Ve,x,Ke);return}}for(var De in h)Ve=h[De],h.hasOwnProperty(De)&&Ve!=null&&!x.hasOwnProperty(De)&&qn(r,s,De,null,x,Ve);for(at in x)Ve=x[at],Ke=h[at],!x.hasOwnProperty(at)||Ve===Ke||Ve==null&&Ke==null||qn(r,s,at,Ve,x,Ke)}var B0=null,j0=null;function Zf(r){return r.nodeType===9?r:r.ownerDocument}function Xv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function z0(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var U0=null;function HS(){var r=window.event;return r&&r.type==="popstate"?r===U0?!1:(U0=r,!0):(U0=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(r){return Qv.resolve(null).then(r).catch(WS)}:Kv;function WS(r){setTimeout(function(){throw r})}function F0(r,s){var h=s,x=0;do{var T=h.nextSibling;if(r.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(x===0){r.removeChild(T),Sc(s);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=T}while(h);Sc(s)}function H0(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":H0(h),mn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function GS(r,s,h,x){for(;r.nodeType===1;){var T=h;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!x&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(x){if(!r[En])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(M=r.getAttribute("rel"),M==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(M!==T.rel||r.getAttribute("href")!==(T.href==null?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(M=r.getAttribute("src"),(M!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&M&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var M=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===M)return r}else return r;if(r=Ua(r.nextSibling),r===null)break}return null}function ZS(r,s,h){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=Ua(r.nextSibling),r===null))return null;return r}function Ua(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Jv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return r;s--}else h==="/$"&&s++}r=r.previousSibling}return null}function ey(r,s,h){switch(s=Zf(h),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}var Na=new Map,ty=new Set;function Yf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ys=Ae.d;Ae.d={f:YS,r:XS,D:$S,C:KS,L:QS,m:JS,X:t3,S:e3,M:n3};function YS(){var r=Ys.f(),s=Uf();return r||s}function XS(r){var s=Rn(r);s!==null&&s.tag===5&&s.type==="form"?Og(s):Ys.r(r)}var fu=typeof document>"u"?null:document;function ny(r,s,h){var x=fu;if(x&&typeof s=="string"&&s){var T=jt(s);T='link[rel="'+r+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),ty.has(T)||(ty.add(T),r={rel:r,crossOrigin:h,href:s},x.querySelector(T)===null&&(s=x.createElement("link"),pi(s,"link",r),hn(s),x.head.appendChild(s)))}}function $S(r){Ys.D(r),ny("dns-prefetch",r,null)}function KS(r,s){Ys.C(r,s),ny("preconnect",r,s)}function QS(r,s,h){Ys.L(r,s,h);var x=fu;if(x&&r&&s){var T='link[rel="preload"][as="'+jt(s)+'"]';s==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+jt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+jt(h.imageSizes)+'"]')):T+='[href="'+jt(r)+'"]';var M=T;switch(s){case"style":M=hu(r);break;case"script":M=du(r)}Na.has(M)||(r=J({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:r,as:s},h),Na.set(M,r),x.querySelector(T)!==null||s==="style"&&x.querySelector(vc(M))||s==="script"&&x.querySelector(yc(M))||(s=x.createElement("link"),pi(s,"link",r),hn(s),x.head.appendChild(s)))}}function JS(r,s){Ys.m(r,s);var h=fu;if(h&&r){var x=s&&typeof s.as=="string"?s.as:"script",T='link[rel="modulepreload"][as="'+jt(x)+'"][href="'+jt(r)+'"]',M=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=du(r)}if(!Na.has(M)&&(r=J({rel:"modulepreload",href:r},s),Na.set(M,r),h.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yc(M)))return}x=h.createElement("link"),pi(x,"link",r),hn(x),h.head.appendChild(x)}}}function e3(r,s,h){Ys.S(r,s,h);var x=fu;if(x&&r){var T=or(x).hoistableStyles,M=hu(r);s=s||"default";var te=T.get(M);if(!te){var ce={loading:0,preload:null};if(te=x.querySelector(vc(M)))ce.loading=5;else{r=J({rel:"stylesheet",href:r,"data-precedence":s},h),(h=Na.get(M))&&V0(r,h);var xe=te=x.createElement("link");hn(xe),pi(xe,"link",r),xe._p=new Promise(function(Oe,Qe){xe.onload=Oe,xe.onerror=Qe}),xe.addEventListener("load",function(){ce.loading|=1}),xe.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Xf(te,s,x)}te={type:"stylesheet",instance:te,count:1,state:ce},T.set(M,te)}}}function t3(r,s){Ys.X(r,s);var h=fu;if(h&&r){var x=or(h).hoistableScripts,T=du(r),M=x.get(T);M||(M=h.querySelector(yc(T)),M||(r=J({src:r,async:!0},s),(s=Na.get(T))&&q0(r,s),M=h.createElement("script"),hn(M),pi(M,"link",r),h.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(T,M))}}function n3(r,s){Ys.M(r,s);var h=fu;if(h&&r){var x=or(h).hoistableScripts,T=du(r),M=x.get(T);M||(M=h.querySelector(yc(T)),M||(r=J({src:r,async:!0,type:"module"},s),(s=Na.get(T))&&q0(r,s),M=h.createElement("script"),hn(M),pi(M,"link",r),h.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(T,M))}}function ry(r,s,h,x){var T=(T=Tt.current)?Yf(T):null;if(!T)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=hu(h.href),h=or(T).hoistableStyles,x=h.get(s),x||(x={type:"style",instance:null,count:0,state:null},h.set(s,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=hu(h.href);var M=or(T).hoistableStyles,te=M.get(r);if(te||(T=T.ownerDocument||T,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(r,te),(M=T.querySelector(vc(r)))&&!M._p&&(te.instance=M,te.state.loading=5),Na.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Na.set(r,h),M||r3(T,r,h,te.state))),s&&x===null)throw Error(a(528,""));return te}if(s&&x!==null)throw Error(a(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=du(h),h=or(T).hoistableScripts,x=h.get(s),x||(x={type:"script",instance:null,count:0,state:null},h.set(s,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function hu(r){return'href="'+jt(r)+'"'}function vc(r){return'link[rel="stylesheet"]['+r+"]"}function iy(r){return J({},r,{"data-precedence":r.precedence,precedence:null})}function r3(r,s,h,x){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?x.loading=1:(s=r.createElement("link"),x.preload=s,s.addEventListener("load",function(){return x.loading|=1}),s.addEventListener("error",function(){return x.loading|=2}),pi(s,"link",h),hn(s),r.head.appendChild(s))}function du(r){return'[src="'+jt(r)+'"]'}function yc(r){return"script[async]"+r}function ay(r,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var x=r.querySelector('style[data-href~="'+jt(h.href)+'"]');if(x)return s.instance=x,hn(x),x;var T=J({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(r.ownerDocument||r).createElement("style"),hn(x),pi(x,"style",T),Xf(x,h.precedence,r),s.instance=x;case"stylesheet":T=hu(h.href);var M=r.querySelector(vc(T));if(M)return s.state.loading|=4,s.instance=M,hn(M),M;x=iy(h),(T=Na.get(T))&&V0(x,T),M=(r.ownerDocument||r).createElement("link"),hn(M);var te=M;return te._p=new Promise(function(ce,xe){te.onload=ce,te.onerror=xe}),pi(M,"link",x),s.state.loading|=4,Xf(M,h.precedence,r),s.instance=M;case"script":return M=du(h.src),(T=r.querySelector(yc(M)))?(s.instance=T,hn(T),T):(x=h,(T=Na.get(M))&&(x=J({},h),q0(x,T)),r=r.ownerDocument||r,T=r.createElement("script"),hn(T),pi(T,"link",x),r.head.appendChild(T),s.instance=T);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(x=s.instance,s.state.loading|=4,Xf(x,h.precedence,r));return s.instance}function Xf(r,s,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,M=T,te=0;te<x.length;te++){var ce=x[te];if(ce.dataset.precedence===s)M=ce;else if(M!==T)break}M?M.parentNode.insertBefore(r,M.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(r,s.firstChild))}function V0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function q0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var $f=null;function sy(r,s,h){if($f===null){var x=new Map,T=$f=new Map;T.set(h,x)}else T=$f,x=T.get(h),x||(x=new Map,T.set(h,x));if(x.has(r))return x;for(x.set(r,null),h=h.getElementsByTagName(r),T=0;T<h.length;T++){var M=h[T];if(!(M[En]||M[dt]||r==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var te=M.getAttribute(s)||"";te=r+te;var ce=x.get(te);ce?ce.push(M):x.set(te,[M])}}return x}function oy(r,s,h){r=r.ownerDocument||r,r.head.insertBefore(h,s==="title"?r.querySelector("head > title"):null)}function i3(r,s,h){if(h===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ly(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var _c=null;function a3(){}function s3(r,s,h){if(_c===null)throw Error(a(475));var x=_c;if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var T=hu(h.href),M=r.querySelector(vc(T));if(M){r=M._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(x.count++,x=Kf.bind(x),r.then(x,x)),s.state.loading|=4,s.instance=M,hn(M);return}M=r.ownerDocument||r,h=iy(h),(T=Na.get(T))&&V0(h,T),M=M.createElement("link"),hn(M);var te=M;te._p=new Promise(function(ce,xe){te.onload=ce,te.onerror=xe}),pi(M,"link",h),s.instance=M}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(x.count++,s=Kf.bind(x),r.addEventListener("load",s),r.addEventListener("error",s))}}function o3(){if(_c===null)throw Error(a(475));var r=_c;return r.stylesheets&&r.count===0&&W0(r,r.stylesheets),0<r.count?function(s){var h=setTimeout(function(){if(r.stylesheets&&W0(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(h)}}:null}function Kf(){if(this.count--,this.count===0){if(this.stylesheets)W0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qf=null;function W0(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qf=new Map,s.forEach(l3,r),Qf=null,Kf.call(r))}function l3(r,s){if(!(s.state.loading&4)){var h=Qf.get(r);if(h)var x=h.get(null);else{h=new Map,Qf.set(r,h);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<T.length;M++){var te=T[M];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(h.set(te.dataset.precedence,te),x=te)}x&&h.set(null,x)}T=s.instance,te=T.getAttribute("data-precedence"),M=h.get(te)||x,M===x&&h.set(null,T),h.set(te,T),this.count++,x=Kf.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),M?M.parentNode.insertBefore(T,M.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),s.state.loading|=4}}var xc={$$typeof:C,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function u3(r,s,h,x,T,M,te,ce){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=M,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function uy(r,s,h,x,T,M,te,ce,xe,Oe,Qe,at){return r=new u3(r,s,h,te,ce,xe,Oe,at),s=1,M===!0&&(s|=24),M=Oa(3,null,null,s),r.current=M,M.stateNode=r,s=Ed(),s.refCount++,r.pooledCache=s,s.refCount++,M.memoizedState={element:x,isDehydrated:h,cache:s},r0(M),r}function cy(r){return r?(r=ba,r):ba}function fy(r,s,h,x,T,M){T=cy(T),x.context===null?x.context=T:x.pendingContext=T,x=po(s),x.payload={element:h},M=M===void 0?null:M,M!==null&&(x.callback=M),h=go(r,x,s),h!==null&&(Ri(h,r,s),rc(h,r,s))}function hy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<s?h:s}}function G0(r,s){hy(r,s),(r=r.alternate)&&hy(r,s)}function dy(r){if(r.tag===13){var s=Vi(r,67108864);s!==null&&Ri(s,r,67108864),G0(r,67108864)}}var Jf=!0;function c3(r,s,h,x){var T=G.T;G.T=null;var M=Ae.p;try{Ae.p=2,Z0(r,s,h,x)}finally{Ae.p=M,G.T=T}}function f3(r,s,h,x){var T=G.T;G.T=null;var M=Ae.p;try{Ae.p=8,Z0(r,s,h,x)}finally{Ae.p=M,G.T=T}}function Z0(r,s,h,x){if(Jf){var T=Y0(x);if(T===null)k0(r,s,x,eh,h),py(r,x);else if(d3(T,r,s,h,x))x.stopPropagation();else if(py(r,x),s&4&&-1<h3.indexOf(r)){for(;T!==null;){var M=Rn(T);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var te=Fr(M.pendingLanes);if(te!==0){var ce=M;for(ce.pendingLanes|=2,ce.entangledLanes|=2;te;){var xe=1<<31-Gt(te);ce.entanglements[1]|=xe,te&=~xe}ps(M),(pr&6)===0&&(Bf=lt()+500,mc(0))}}break;case 13:ce=Vi(M,2),ce!==null&&Ri(ce,M,2),Uf(),G0(M,2)}if(M=Y0(x),M===null&&k0(r,s,x,eh,h),M===T)break;T=M}T!==null&&x.stopPropagation()}else k0(r,s,x,null,h)}}function Y0(r){return r=Ka(r),X0(r)}var eh=null;function X0(r){if(eh=null,r=en(r),r!==null){var s=ge(r);if(s===null)r=null;else{var h=s.tag;if(h===13){if(r=fe(s),r!==null)return r;r=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return eh=r,null}function my(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case yt:return 2;case dn:return 8;case It:case nn:return 32;case fi:return 268435456;default:return 32}default:return 32}}var $0=!1,Eo=null,So=null,Co=null,wc=new Map,bc=new Map,Ao=[],h3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(r,s){switch(r){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":wc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(s.pointerId)}}function Ec(r,s,h,x,T,M){return r===null||r.nativeEvent!==M?(r={blockedOn:s,domEventName:h,eventSystemFlags:x,nativeEvent:M,targetContainers:[T]},s!==null&&(s=Rn(s),s!==null&&dy(s)),r):(r.eventSystemFlags|=x,s=r.targetContainers,T!==null&&s.indexOf(T)===-1&&s.push(T),r)}function d3(r,s,h,x,T){switch(s){case"focusin":return Eo=Ec(Eo,r,s,h,x,T),!0;case"dragenter":return So=Ec(So,r,s,h,x,T),!0;case"mouseover":return Co=Ec(Co,r,s,h,x,T),!0;case"pointerover":var M=T.pointerId;return wc.set(M,Ec(wc.get(M)||null,r,s,h,x,T)),!0;case"gotpointercapture":return M=T.pointerId,bc.set(M,Ec(bc.get(M)||null,r,s,h,x,T)),!0}return!1}function gy(r){var s=en(r.target);if(s!==null){var h=ge(s);if(h!==null){if(s=h.tag,s===13){if(s=fe(h),s!==null){r.blockedOn=s,xt(r.priority,function(){if(h.tag===13){var x=sa(),T=Vi(h,x);T!==null&&Ri(T,h,x),G0(h,x)}});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function th(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var h=Y0(r.nativeEvent);if(h===null){h=r.nativeEvent;var x=new h.constructor(h.type,h);$i=x,h.target.dispatchEvent(x),$i=null}else return s=Rn(h),s!==null&&dy(s),r.blockedOn=h,!1;s.shift()}return!0}function vy(r,s,h){th(r)&&h.delete(s)}function m3(){$0=!1,Eo!==null&&th(Eo)&&(Eo=null),So!==null&&th(So)&&(So=null),Co!==null&&th(Co)&&(Co=null),wc.forEach(vy),bc.forEach(vy)}function nh(r,s){r.blockedOn===s&&(r.blockedOn=null,$0||($0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m3)))}var rh=null;function yy(r){rh!==r&&(rh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rh===r&&(rh=null);for(var s=0;s<r.length;s+=3){var h=r[s],x=r[s+1],T=r[s+2];if(typeof x!="function"){if(X0(x||h)===null)continue;break}var M=Rn(h);M!==null&&(r.splice(s,3),s-=3,zd(M,{pending:!0,data:T,method:h.method,action:x},x,T))}}))}function Sc(r){function s(xe){return nh(xe,r)}Eo!==null&&nh(Eo,r),So!==null&&nh(So,r),Co!==null&&nh(Co,r),wc.forEach(s),bc.forEach(s);for(var h=0;h<Ao.length;h++){var x=Ao[h];x.blockedOn===r&&(x.blockedOn=null)}for(;0<Ao.length&&(h=Ao[0],h.blockedOn===null);)gy(h),h.blockedOn===null&&Ao.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var T=h[x],M=h[x+1],te=T[pt]||null;if(typeof M=="function")te||yy(h);else if(te){var ce=null;if(M&&M.hasAttribute("formAction")){if(T=M,te=M[pt]||null)ce=te.formAction;else if(X0(T)!==null)continue}else ce=te.action;typeof ce=="function"?h[x+1]=ce:(h.splice(x,3),x-=3),yy(h)}}}function K0(r){this._internalRoot=r}ih.prototype.render=K0.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var h=s.current,x=sa();fy(h,x,r,s,null,null)},ih.prototype.unmount=K0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&lu(),fy(r.current,2,null,r,null,null),Uf(),s[ht]=null}};function ih(r){this._internalRoot=r}ih.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ge();r={blockedOn:null,target:r,priority:s};for(var h=0;h<Ao.length&&s!==0&&s<Ao[h].priority;h++);Ao.splice(h,0,r),h===0&&gy(r)}};var _y=t.version;if(_y!=="19.0.0")throw Error(a(527,_y,"19.0.0"));Ae.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=ue(s),r=r!==null?pe(r):null,r=r===null?null:r.stateNode,r};var p3={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:en,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Nt=ah.inject(p3),rt=ah}catch{}}return Ac.createRoot=function(r,s){if(!l(r))throw Error(a(299));var h=!1,x="",T=Pg,M=Bg,te=jg,ce=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(te=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ce=s.unstable_transitionCallbacks)),s=uy(r,1,!1,null,null,h,x,T,M,te,ce,null),r[ht]=s.current,L0(r.nodeType===8?r.parentNode:r),new K0(s)},Ac.hydrateRoot=function(r,s,h){if(!l(r))throw Error(a(299));var x=!1,T="",M=Pg,te=Bg,ce=jg,xe=null,Oe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(M=h.onUncaughtError),h.onCaughtError!==void 0&&(te=h.onCaughtError),h.onRecoverableError!==void 0&&(ce=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(xe=h.unstable_transitionCallbacks),h.formState!==void 0&&(Oe=h.formState)),s=uy(r,1,!0,s,h??null,x,T,M,te,ce,xe,Oe),s.context=cy(null),h=s.current,x=sa(),T=po(x),T.callback=null,go(h,T,x),s.current.lanes=x,Lr(s,x),ps(s),r[ht]=s.current,L0(r),new ih(s)},Ac.version="19.0.0",Ac}var Iy;function S3(){if(Iy)return e1.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),e1.exports=E3(),e1.exports}var C3=S3(),Es=rd();const A3=Vo(Es),T3=rp({__proto__:null,default:A3},[Es]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fr.apply(this,arguments)}var zr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zr||(zr={}));const Ny="popstate";function O3(e){e===void 0&&(e={});function t(a,l){let{pathname:c,search:d,hash:y}=a.location;return Qc("",{pathname:c,search:d,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Tl(l)}return N3(t,n,null,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I3(){return Math.random().toString(36).substr(2,8)}function Ry(e,t){return{usr:e.state,key:e.key,idx:t}}function Qc(e,t,n,a){return n===void 0&&(n=null),fr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qo(t):t,{state:n,key:t&&t.key||a||I3()})}function Tl(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function N3(e,t,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,y=zr.Pop,p=null,g=b();g==null&&(g=0,d.replaceState(fr({},d.state,{idx:g}),""));function b(){return(d.state||{idx:null}).idx}function E(){y=zr.Pop;let k=b(),F=k==null?null:k-g;g=k,p&&p({action:y,location:N.location,delta:F})}function O(k,F){y=zr.Push;let P=Qc(N.location,k,F);g=b()+1;let B=Ry(P,g),W=N.createHref(P);try{d.pushState(B,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(W)}c&&p&&p({action:y,location:N.location,delta:1})}function C(k,F){y=zr.Replace;let P=Qc(N.location,k,F);g=b();let B=Ry(P,g),W=N.createHref(P);d.replaceState(B,"",W),c&&p&&p({action:y,location:N.location,delta:0})}function R(k){let F=l.location.origin!=="null"?l.location.origin:l.location.href,P=typeof k=="string"?k:Tl(k);return P=P.replace(/ $/,"%20"),Cn(F,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,F)}let N={get action(){return y},get location(){return e(l,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Ny,E),p=k,()=>{l.removeEventListener(Ny,E),p=null}},createHref(k){return t(l,k)},createURL:R,encodeLocation(k){let F=R(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:O,replace:C,go(k){return d.go(k)}};return N}var Fn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fn||(Fn={}));const R3=new Set(["lazy","caseSensitive","path","id","index","children"]);function M3(e){return e.index===!0}function Uh(e,t,n,a){return n===void 0&&(n=[]),a===void 0&&(a={}),e.map((l,c)=>{let d=[...n,String(c)],y=typeof l.id=="string"?l.id:d.join("-");if(Cn(l.index!==!0||!l.children,"Cannot specify children on an index route"),Cn(!a[y],'Found a route id collision on id "'+y+`".  Route id's must be globally unique within Data Router usages`),M3(l)){let p=fr({},l,t(l),{id:y});return a[y]=p,p}else{let p=fr({},l,t(l),{id:y,children:void 0});return a[y]=p,l.children&&(p.children=Uh(l.children,t,d,a)),p}})}function _l(e,t,n){return n===void 0&&(n="/"),Bh(e,t,n,!1)}function Bh(e,t,n,a){let l=typeof t=="string"?qo(t):t,c=zu(l.pathname||"/",n);if(c==null)return null;let d=uw(e);L3(d);let y=null;for(let p=0;y==null&&p<d.length;++p){let g=W3(c);y=V3(d[p],g,a)}return y}function D3(e,t){let{route:n,pathname:a,params:l}=e;return{id:n.id,pathname:a,params:l,data:t[n.id],handle:n.handle}}function uw(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(c,d,y)=>{let p={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Cn(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let g=Qs([a,p.relativePath]),b=n.concat(p);c.children&&c.children.length>0&&(Cn(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),uw(c.children,t,b,g)),!(c.path==null&&!c.index)&&t.push({path:g,score:F3(g,c.index),routesMeta:b})};return e.forEach((c,d)=>{var y;if(c.path===""||!((y=c.path)!=null&&y.includes("?")))l(c,d);else for(let p of cw(c.path))l(c,d,p)}),t}function cw(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=cw(a.join("/")),y=[];return y.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&y.push(...d),y.map(p=>e.startsWith("/")&&p===""?"/":p)}function L3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H3(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const k3=/^:[\w-]+$/,P3=3,B3=2,j3=1,z3=10,U3=-2,My=e=>e==="*";function F3(e,t){let n=e.split("/"),a=n.length;return n.some(My)&&(a+=U3),t&&(a+=B3),n.filter(l=>!My(l)).reduce((l,c)=>l+(k3.test(c)?P3:c===""?j3:z3),a)}function H3(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function V3(e,t,n){n===void 0&&(n=!1);let{routesMeta:a}=e,l={},c="/",d=[];for(let y=0;y<a.length;++y){let p=a[y],g=y===a.length-1,b=c==="/"?t:t.slice(c.length)||"/",E=Dy({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),O=p.route;if(!E&&g&&n&&!a[a.length-1].route.index&&(E=Dy({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Qs([c,E.pathname]),pathnameBase:Y3(Qs([c,E.pathnameBase])),route:O}),E.pathnameBase!=="/"&&(c=Qs([c,E.pathnameBase]))}return d}function Dy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=q3(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((g,b,E)=>{let{paramName:O,isOptional:C}=b;if(O==="*"){let N=y[E]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const R=y[E];return C&&!R?g[O]=void 0:g[O]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function q3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Lu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,p)=>(a.push({paramName:y,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function W3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function G3(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:l=""}=typeof e=="string"?qo(e):e;return{pathname:n?n.startsWith("/")?n:Z3(n,t):t,search:X3(a),hash:$3(l)}}function Z3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function i1(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ip(e,t){let n=fw(e);return t?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ap(e,t,n,a){a===void 0&&(a=!1);let l;typeof e=="string"?l=qo(e):(l=fr({},e),Cn(!l.pathname||!l.pathname.includes("?"),i1("?","pathname","search",l)),Cn(!l.pathname||!l.pathname.includes("#"),i1("#","pathname","hash",l)),Cn(!l.search||!l.search.includes("#"),i1("#","search","hash",l)));let c=e===""||l.pathname==="",d=c?"/":l.pathname,y;if(d==null)y=n;else{let E=t.length-1;if(!a&&d.startsWith("..")){let O=d.split("/");for(;O[0]==="..";)O.shift(),E-=1;l.pathname=O.join("/")}y=E>=0?t[E]:"/"}let p=G3(l,y),g=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}const Qs=e=>e.join("/").replace(/\/\/+/g,"/"),Y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Fh{constructor(t,n,a,l){l===void 0&&(l=!1),this.status=t,this.statusText=n||"",this.internal=l,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Jc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hw=["post","put","patch","delete"],K3=new Set(hw),Q3=["get",...hw],J3=new Set(Q3),e4=new Set([301,302,303,307,308]),t4=new Set([307,308]),a1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},n4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r4=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),dw="remix-router-transitions";function i4(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!n;Cn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(e.mapRouteProperties)l=e.mapRouteProperties;else if(e.detectErrorBoundary){let Se=e.detectErrorBoundary;l=Ne=>({hasErrorBoundary:Se(Ne)})}else l=r4;let c={},d=Uh(e.routes,l,void 0,c),y,p=e.basename||"/",g=e.dataStrategy||l4,b=e.patchRoutesOnNavigation,E=fr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),O=null,C=new Set,R=null,N=null,k=null,F=e.hydrationData!=null,P=_l(d,e.history.location,p),B=!1,W=null;if(P==null&&!b){let Se=Gi(404,{pathname:e.history.location.pathname}),{matches:Ne,route:He}=qy(d);P=Ne,W={[He.id]:Se}}P&&!e.hydrationData&&$n(P,d,e.history.location.pathname).active&&(P=null);let q;if(P)if(P.some(Se=>Se.route.lazy))q=!1;else if(!P.some(Se=>Se.route.loader))q=!0;else if(E.v7_partialHydration){let Se=e.hydrationData?e.hydrationData.loaderData:null,Ne=e.hydrationData?e.hydrationData.errors:null;if(Ne){let He=P.findIndex(Xe=>Ne[Xe.route.id]!==void 0);q=P.slice(0,He+1).every(Xe=>!xm(Xe.route,Se,Ne))}else q=P.every(He=>!xm(He.route,Se,Ne))}else q=e.hydrationData!=null;else if(q=!1,P=[],E.v7_partialHydration){let Se=$n(null,d,e.history.location.pathname);Se.active&&Se.matches&&(B=!0,P=Se.matches)}let Y,V={historyAction:e.history.action,location:e.history.location,matches:P,initialized:q,navigation:a1,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||W,fetchers:new Map,blockers:new Map},ne=zr.Pop,G=!1,J,Q=!1,H=new Map,ee=null,z=!1,Z=!1,ye=[],he=new Set,ge=new Map,fe=0,se=-1,ue=new Map,pe=new Set,Ie=new Map,Ae=new Map,Re=new Set,Le=new Map,gt=new Map,Ze;function ft(){if(O=e.history.listen(Se=>{let{action:Ne,location:He,delta:Xe}=Se;if(Ze){Ze(),Ze=void 0;return}Lu(gt.size===0||Xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ge=ma({currentLocation:V.location,nextLocation:He,historyAction:Ne});if(Ge&&Xe!=null){let xt=new Promise($e=>{Ze=$e});e.history.go(Xe*-1),Pi(Ge,{state:"blocked",location:He,proceed(){Pi(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:He}),xt.then(()=>e.history.go(Xe))},reset(){let $e=new Map(V.blockers);$e.set(Ge,Tc),Yt({blockers:$e})}});return}return Ue(Ne,He)}),n){b4(t,H);let Se=()=>E4(t,H);t.addEventListener("pagehide",Se),ee=()=>t.removeEventListener("pagehide",Se)}return V.initialized||Ue(zr.Pop,V.location,{initialHydration:!0}),Y}function wt(){O&&O(),ee&&ee(),C.clear(),J&&J.abort(),V.fetchers.forEach((Se,Ne)=>nr(Ne)),V.blockers.forEach((Se,Ne)=>ki(Ne))}function Mt(Se){return C.add(Se),()=>C.delete(Se)}function Yt(Se,Ne){Ne===void 0&&(Ne={}),V=fr({},V,Se);let He=[],Xe=[];E.v7_fetcherPersist&&V.fetchers.forEach((Ge,xt)=>{Ge.state==="idle"&&(Re.has(xt)?Xe.push(xt):He.push(xt))}),Re.forEach(Ge=>{!V.fetchers.has(Ge)&&!ge.has(Ge)&&Xe.push(Ge)}),[...C].forEach(Ge=>Ge(V,{deletedFetchers:Xe,viewTransitionOpts:Ne.viewTransitionOpts,flushSync:Ne.flushSync===!0})),E.v7_fetcherPersist?(He.forEach(Ge=>V.fetchers.delete(Ge)),Xe.forEach(Ge=>nr(Ge))):Xe.forEach(Ge=>Re.delete(Ge))}function Tt(Se,Ne,He){var Xe,Ge;let{flushSync:xt}=He===void 0?{}:He,$e=V.actionData!=null&&V.navigation.formMethod!=null&&qa(V.navigation.formMethod)&&V.navigation.state==="loading"&&((Xe=Se.state)==null?void 0:Xe._isRedirect)!==!0,dt;Ne.actionData?Object.keys(Ne.actionData).length>0?dt=Ne.actionData:dt=null:$e?dt=V.actionData:dt=null;let pt=Ne.loaderData?Hy(V.loaderData,Ne.loaderData,Ne.matches||[],Ne.errors):V.loaderData,ht=V.blockers;ht.size>0&&(ht=new Map(ht),ht.forEach(($t,In)=>ht.set(In,Tc)));let bt=G===!0||V.navigation.formMethod!=null&&qa(V.navigation.formMethod)&&((Ge=Se.state)==null?void 0:Ge._isRedirect)!==!0;y&&(d=y,y=void 0),z||ne===zr.Pop||(ne===zr.Push?e.history.push(Se,Se.state):ne===zr.Replace&&e.history.replace(Se,Se.state));let Bt;if(ne===zr.Pop){let $t=H.get(V.location.pathname);$t&&$t.has(Se.pathname)?Bt={currentLocation:V.location,nextLocation:Se}:H.has(Se.pathname)&&(Bt={currentLocation:Se,nextLocation:V.location})}else if(Q){let $t=H.get(V.location.pathname);$t?$t.add(Se.pathname):($t=new Set([Se.pathname]),H.set(V.location.pathname,$t)),Bt={currentLocation:V.location,nextLocation:Se}}Yt(fr({},Ne,{actionData:dt,loaderData:pt,historyAction:ne,location:Se,initialized:!0,navigation:a1,revalidation:"idle",restoreScrollPosition:Xa(Se,Ne.matches||V.matches),preventScrollReset:bt,blockers:ht}),{viewTransitionOpts:Bt,flushSync:xt===!0}),ne=zr.Pop,G=!1,Q=!1,z=!1,Z=!1,ye=[]}async function re(Se,Ne){if(typeof Se=="number"){e.history.go(Se);return}let He=_m(V.location,V.matches,p,E.v7_prependBasename,Se,E.v7_relativeSplatPath,Ne==null?void 0:Ne.fromRouteId,Ne==null?void 0:Ne.relative),{path:Xe,submission:Ge,error:xt}=Ly(E.v7_normalizeFormMethod,!1,He,Ne),$e=V.location,dt=Qc(V.location,Xe,Ne&&Ne.state);dt=fr({},dt,e.history.encodeLocation(dt));let pt=Ne&&Ne.replace!=null?Ne.replace:void 0,ht=zr.Push;pt===!0?ht=zr.Replace:pt===!1||Ge!=null&&qa(Ge.formMethod)&&Ge.formAction===V.location.pathname+V.location.search&&(ht=zr.Replace);let bt=Ne&&"preventScrollReset"in Ne?Ne.preventScrollReset===!0:void 0,Bt=(Ne&&Ne.flushSync)===!0,$t=ma({currentLocation:$e,nextLocation:dt,historyAction:ht});if($t){Pi($t,{state:"blocked",location:dt,proceed(){Pi($t,{state:"proceeding",proceed:void 0,reset:void 0,location:dt}),re(Se,Ne)},reset(){let In=new Map(V.blockers);In.set($t,Tc),Yt({blockers:In})}});return}return await Ue(ht,dt,{submission:Ge,pendingError:xt,preventScrollReset:bt,replace:Ne&&Ne.replace,enableViewTransition:Ne&&Ne.viewTransition,flushSync:Bt})}function Ye(){if(dn(),Yt({revalidation:"loading"}),V.navigation.state!=="submitting"){if(V.navigation.state==="idle"){Ue(V.historyAction,V.location,{startUninterruptedRevalidation:!0});return}Ue(ne||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:Q===!0})}}async function Ue(Se,Ne,He){J&&J.abort(),J=null,ne=Se,z=(He&&He.startUninterruptedRevalidation)===!0,Sr(V.location,V.matches),G=(He&&He.preventScrollReset)===!0,Q=(He&&He.enableViewTransition)===!0;let Xe=y||d,Ge=He&&He.overrideNavigation,xt=He!=null&&He.initialHydration&&V.matches&&V.matches.length>0&&!B?V.matches:_l(Xe,Ne,p),$e=(He&&He.flushSync)===!0;if(xt&&V.initialized&&!Z&&m4(V.location,Ne)&&!(He&&He.submission&&qa(He.submission.formMethod))){Tt(Ne,{matches:xt},{flushSync:$e});return}let dt=$n(xt,Xe,Ne.pathname);if(dt.active&&dt.matches&&(xt=dt.matches),!xt){let{error:En,notFoundMatches:mn,route:en}=Zt(Ne.pathname);Tt(Ne,{matches:mn,loaderData:{},errors:{[en.id]:En}},{flushSync:$e});return}J=new AbortController;let pt=mu(e.history,Ne,J.signal,He&&He.submission),ht;if(He&&He.pendingError)ht=[xl(xt).route.id,{type:Fn.error,error:He.pendingError}];else if(He&&He.submission&&qa(He.submission.formMethod)){let En=await _e(pt,Ne,He.submission,xt,dt.active,{replace:He.replace,flushSync:$e});if(En.shortCircuited)return;if(En.pendingActionResult){let[mn,en]=En.pendingActionResult;if(ca(en)&&Jc(en.error)&&en.error.status===404){J=null,Tt(Ne,{matches:En.matches,loaderData:{},errors:{[mn]:en.error}});return}}xt=En.matches||xt,ht=En.pendingActionResult,Ge=s1(Ne,He.submission),$e=!1,dt.active=!1,pt=mu(e.history,pt.url,pt.signal)}let{shortCircuited:bt,matches:Bt,loaderData:$t,errors:In}=await de(pt,Ne,xt,dt.active,Ge,He&&He.submission,He&&He.fetcherSubmission,He&&He.replace,He&&He.initialHydration===!0,$e,ht);bt||(J=null,Tt(Ne,fr({matches:Bt||xt},Vy(ht),{loaderData:$t,errors:In})))}async function _e(Se,Ne,He,Xe,Ge,xt){xt===void 0&&(xt={}),dn();let $e=x4(Ne,He);if(Yt({navigation:$e},{flushSync:xt.flushSync===!0}),Ge){let ht=await yi(Xe,Ne.pathname,Se.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let bt=xl(ht.partialMatches).route.id;return{matches:ht.partialMatches,pendingActionResult:[bt,{type:Fn.error,error:ht.error}]}}else if(ht.matches)Xe=ht.matches;else{let{notFoundMatches:bt,error:Bt,route:$t}=Zt(Ne.pathname);return{matches:bt,pendingActionResult:[$t.id,{type:Fn.error,error:Bt}]}}}let dt,pt=Fc(Xe,Ne);if(!pt.route.action&&!pt.route.lazy)dt={type:Fn.error,error:Gi(405,{method:Se.method,pathname:Ne.pathname,routeId:pt.route.id})};else if(dt=(await ut("action",V,Se,[pt],Xe,null))[pt.route.id],Se.signal.aborted)return{shortCircuited:!0};if(bl(dt)){let ht;return xt&&xt.replace!=null?ht=xt.replace:ht=zy(dt.response.headers.get("Location"),new URL(Se.url),p)===V.location.pathname+V.location.search,await lt(Se,dt,!0,{submission:He,replace:ht}),{shortCircuited:!0}}if(Po(dt))throw Gi(400,{type:"defer-action"});if(ca(dt)){let ht=xl(Xe,pt.route.id);return(xt&&xt.replace)!==!0&&(ne=zr.Push),{matches:Xe,pendingActionResult:[ht.route.id,dt]}}return{matches:Xe,pendingActionResult:[pt.route.id,dt]}}async function de(Se,Ne,He,Xe,Ge,xt,$e,dt,pt,ht,bt){let Bt=Ge||s1(Ne,xt),$t=xt||$e||Gy(Bt),In=!z&&(!E.v7_partialHydration||!pt);if(Xe){if(In){let Dt=Ee(bt);Yt(fr({navigation:Bt},Dt!==void 0?{actionData:Dt}:{}),{flushSync:ht})}let rn=await yi(He,Ne.pathname,Se.signal);if(rn.type==="aborted")return{shortCircuited:!0};if(rn.type==="error"){let Dt=xl(rn.partialMatches).route.id;return{matches:rn.partialMatches,loaderData:{},errors:{[Dt]:rn.error}}}else if(rn.matches)He=rn.matches;else{let{error:Dt,notFoundMatches:Kt,route:qt}=Zt(Ne.pathname);return{matches:Kt,loaderData:{},errors:{[qt.id]:Dt}}}}let En=y||d,[mn,en]=Py(e.history,V,He,$t,Ne,E.v7_partialHydration&&pt===!0,E.v7_skipActionErrorRevalidation,Z,ye,he,Re,Ie,pe,En,p,bt);if(rr(rn=>!(He&&He.some(Dt=>Dt.route.id===rn))||mn&&mn.some(Dt=>Dt.route.id===rn)),se=++fe,mn.length===0&&en.length===0){let rn=Ln();return Tt(Ne,fr({matches:He,loaderData:{},errors:bt&&ca(bt[1])?{[bt[0]]:bt[1].error}:null},Vy(bt),rn?{fetchers:new Map(V.fetchers)}:{}),{flushSync:ht}),{shortCircuited:!0}}if(In){let rn={};if(!Xe){rn.navigation=Bt;let Dt=Ee(bt);Dt!==void 0&&(rn.actionData=Dt)}en.length>0&&(rn.fetchers=Je(en)),Yt(rn,{flushSync:ht})}en.forEach(rn=>{Nt(rn.key),rn.controller&&ge.set(rn.key,rn.controller)});let Rn=()=>en.forEach(rn=>Nt(rn.key));J&&J.signal.addEventListener("abort",Rn);let{loaderResults:vn,fetcherResults:or}=await yt(V,He,mn,en,Se);if(Se.signal.aborted)return{shortCircuited:!0};J&&J.signal.removeEventListener("abort",Rn),en.forEach(rn=>ge.delete(rn.key));let hn=sh(vn);if(hn)return await lt(Se,hn.result,!0,{replace:dt}),{shortCircuited:!0};if(hn=sh(or),hn)return pe.add(hn.key),await lt(Se,hn.result,!0,{replace:dt}),{shortCircuited:!0};let{loaderData:ga,errors:et}=Fy(V,He,vn,bt,en,or,Le);Le.forEach((rn,Dt)=>{rn.subscribe(Kt=>{(Kt||rn.done)&&Le.delete(Dt)})}),E.v7_partialHydration&&pt&&V.errors&&(et=fr({},V.errors,et));let Hr=Ln(),Sn=Ft(se),ir=Hr||Sn||en.length>0;return fr({matches:He,loaderData:ga,errors:et},ir?{fetchers:new Map(V.fetchers)}:{})}function Ee(Se){if(Se&&!ca(Se[1]))return{[Se[0]]:Se[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Je(Se){return Se.forEach(Ne=>{let He=V.fetchers.get(Ne.key),Xe=Oc(void 0,He?He.data:void 0);V.fetchers.set(Ne.key,Xe)}),new Map(V.fetchers)}function ke(Se,Ne,He,Xe){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Nt(Se);let Ge=(Xe&&Xe.flushSync)===!0,xt=y||d,$e=_m(V.location,V.matches,p,E.v7_prependBasename,He,E.v7_relativeSplatPath,Ne,Xe==null?void 0:Xe.relative),dt=_l(xt,$e,p),pt=$n(dt,xt,$e);if(pt.active&&pt.matches&&(dt=pt.matches),!dt){nn(Se,Ne,Gi(404,{pathname:$e}),{flushSync:Ge});return}let{path:ht,submission:bt,error:Bt}=Ly(E.v7_normalizeFormMethod,!0,$e,Xe);if(Bt){nn(Se,Ne,Bt,{flushSync:Ge});return}let $t=Fc(dt,ht),In=(Xe&&Xe.preventScrollReset)===!0;if(bt&&qa(bt.formMethod)){je(Se,Ne,ht,$t,dt,pt.active,Ge,In,bt);return}Ie.set(Se,{routeId:Ne,path:ht}),ct(Se,Ne,ht,$t,dt,pt.active,Ge,In,bt)}async function je(Se,Ne,He,Xe,Ge,xt,$e,dt,pt){dn(),Ie.delete(Se);function ht(Ot){if(!Ot.route.action&&!Ot.route.lazy){let pn=Gi(405,{method:pt.formMethod,pathname:He,routeId:Ne});return nn(Se,Ne,pn,{flushSync:$e}),!0}return!1}if(!xt&&ht(Xe))return;let bt=V.fetchers.get(Se);It(Se,w4(pt,bt),{flushSync:$e});let Bt=new AbortController,$t=mu(e.history,He,Bt.signal,pt);if(xt){let Ot=await yi(Ge,new URL($t.url).pathname,$t.signal,Se);if(Ot.type==="aborted")return;if(Ot.type==="error"){nn(Se,Ne,Ot.error,{flushSync:$e});return}else if(Ot.matches){if(Ge=Ot.matches,Xe=Fc(Ge,He),ht(Xe))return}else{nn(Se,Ne,Gi(404,{pathname:He}),{flushSync:$e});return}}ge.set(Se,Bt);let In=fe,mn=(await ut("action",V,$t,[Xe],Ge,Se))[Xe.route.id];if($t.signal.aborted){ge.get(Se)===Bt&&ge.delete(Se);return}if(E.v7_fetcherPersist&&Re.has(Se)){if(bl(mn)||ca(mn)){It(Se,Do(void 0));return}}else{if(bl(mn))if(ge.delete(Se),se>In){It(Se,Do(void 0));return}else return pe.add(Se),It(Se,Oc(pt)),lt($t,mn,!1,{fetcherSubmission:pt,preventScrollReset:dt});if(ca(mn)){nn(Se,Ne,mn.error);return}}if(Po(mn))throw Gi(400,{type:"defer-action"});let en=V.navigation.location||V.location,Rn=mu(e.history,en,Bt.signal),vn=y||d,or=V.navigation.state!=="idle"?_l(vn,V.navigation.location,p):V.matches;Cn(or,"Didn't find any matches after fetcher action");let hn=++fe;ue.set(Se,hn);let ga=Oc(pt,mn.data);V.fetchers.set(Se,ga);let[et,Hr]=Py(e.history,V,or,pt,en,!1,E.v7_skipActionErrorRevalidation,Z,ye,he,Re,Ie,pe,vn,p,[Xe.route.id,mn]);Hr.filter(Ot=>Ot.key!==Se).forEach(Ot=>{let pn=Ot.key,Cr=V.fetchers.get(pn),on=Oc(void 0,Cr?Cr.data:void 0);V.fetchers.set(pn,on),Nt(pn),Ot.controller&&ge.set(pn,Ot.controller)}),Yt({fetchers:new Map(V.fetchers)});let Sn=()=>Hr.forEach(Ot=>Nt(Ot.key));Bt.signal.addEventListener("abort",Sn);let{loaderResults:ir,fetcherResults:rn}=await yt(V,or,et,Hr,Rn);if(Bt.signal.aborted)return;Bt.signal.removeEventListener("abort",Sn),ue.delete(Se),ge.delete(Se),Hr.forEach(Ot=>ge.delete(Ot.key));let Dt=sh(ir);if(Dt)return lt(Rn,Dt.result,!1,{preventScrollReset:dt});if(Dt=sh(rn),Dt)return pe.add(Dt.key),lt(Rn,Dt.result,!1,{preventScrollReset:dt});let{loaderData:Kt,errors:qt}=Fy(V,or,ir,void 0,Hr,rn,Le);if(V.fetchers.has(Se)){let Ot=Do(mn.data);V.fetchers.set(Se,Ot)}Ft(hn),V.navigation.state==="loading"&&hn>se?(Cn(ne,"Expected pending action"),J&&J.abort(),Tt(V.navigation.location,{matches:or,loaderData:Kt,errors:qt,fetchers:new Map(V.fetchers)})):(Yt({errors:qt,loaderData:Hy(V.loaderData,Kt,or,qt),fetchers:new Map(V.fetchers)}),Z=!1)}async function ct(Se,Ne,He,Xe,Ge,xt,$e,dt,pt){let ht=V.fetchers.get(Se);It(Se,Oc(pt,ht?ht.data:void 0),{flushSync:$e});let bt=new AbortController,Bt=mu(e.history,He,bt.signal);if(xt){let mn=await yi(Ge,new URL(Bt.url).pathname,Bt.signal,Se);if(mn.type==="aborted")return;if(mn.type==="error"){nn(Se,Ne,mn.error,{flushSync:$e});return}else if(mn.matches)Ge=mn.matches,Xe=Fc(Ge,He);else{nn(Se,Ne,Gi(404,{pathname:He}),{flushSync:$e});return}}ge.set(Se,bt);let $t=fe,En=(await ut("loader",V,Bt,[Xe],Ge,Se))[Xe.route.id];if(Po(En)&&(En=await op(En,Bt.signal,!0)||En),ge.get(Se)===bt&&ge.delete(Se),!Bt.signal.aborted){if(Re.has(Se)){It(Se,Do(void 0));return}if(bl(En))if(se>$t){It(Se,Do(void 0));return}else{pe.add(Se),await lt(Bt,En,!1,{preventScrollReset:dt});return}if(ca(En)){nn(Se,Ne,En.error);return}Cn(!Po(En),"Unhandled fetcher deferred data"),It(Se,Do(En.data))}}async function lt(Se,Ne,He,Xe){let{submission:Ge,fetcherSubmission:xt,preventScrollReset:$e,replace:dt}=Xe===void 0?{}:Xe;Ne.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let pt=Ne.response.headers.get("Location");Cn(pt,"Expected a Location header on the redirect Response"),pt=zy(pt,new URL(Se.url),p);let ht=Qc(V.location,pt,{_isRedirect:!0});if(n){let mn=!1;if(Ne.response.headers.has("X-Remix-Reload-Document"))mn=!0;else if(sp.test(pt)){const en=e.history.createURL(pt);mn=en.origin!==t.location.origin||zu(en.pathname,p)==null}if(mn){dt?t.location.replace(pt):t.location.assign(pt);return}}J=null;let bt=dt===!0||Ne.response.headers.has("X-Remix-Replace")?zr.Replace:zr.Push,{formMethod:Bt,formAction:$t,formEncType:In}=V.navigation;!Ge&&!xt&&Bt&&$t&&In&&(Ge=Gy(V.navigation));let En=Ge||xt;if(t4.has(Ne.response.status)&&En&&qa(En.formMethod))await Ue(bt,ht,{submission:fr({},En,{formAction:pt}),preventScrollReset:$e||G,enableViewTransition:He?Q:void 0});else{let mn=s1(ht,Ge);await Ue(bt,ht,{overrideNavigation:mn,fetcherSubmission:xt,preventScrollReset:$e||G,enableViewTransition:He?Q:void 0})}}async function ut(Se,Ne,He,Xe,Ge,xt){let $e,dt={};try{$e=await u4(g,Se,Ne,He,Xe,Ge,xt,c,l)}catch(pt){return Xe.forEach(ht=>{dt[ht.route.id]={type:Fn.error,error:pt}}),dt}for(let[pt,ht]of Object.entries($e))if(p4(ht)){let bt=ht.result;dt[pt]={type:Fn.redirect,response:h4(bt,He,pt,Ge,p,E.v7_relativeSplatPath)}}else dt[pt]=await f4(ht);return dt}async function yt(Se,Ne,He,Xe,Ge){let xt=Se.matches,$e=ut("loader",Se,Ge,He,Ne,null),dt=Promise.all(Xe.map(async bt=>{if(bt.matches&&bt.match&&bt.controller){let $t=(await ut("loader",Se,mu(e.history,bt.path,bt.controller.signal),[bt.match],bt.matches,bt.key))[bt.match.route.id];return{[bt.key]:$t}}else return Promise.resolve({[bt.key]:{type:Fn.error,error:Gi(404,{pathname:bt.path})}})})),pt=await $e,ht=(await dt).reduce((bt,Bt)=>Object.assign(bt,Bt),{});return await Promise.all([y4(Ne,pt,Ge.signal,xt,Se.loaderData),_4(Ne,ht,Xe)]),{loaderResults:pt,fetcherResults:ht}}function dn(){Z=!0,ye.push(...rr()),Ie.forEach((Se,Ne)=>{ge.has(Ne)&&he.add(Ne),Nt(Ne)})}function It(Se,Ne,He){He===void 0&&(He={}),V.fetchers.set(Se,Ne),Yt({fetchers:new Map(V.fetchers)},{flushSync:(He&&He.flushSync)===!0})}function nn(Se,Ne,He,Xe){Xe===void 0&&(Xe={});let Ge=xl(V.matches,Ne);nr(Se),Yt({errors:{[Ge.route.id]:He},fetchers:new Map(V.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function fi(Se){return Ae.set(Se,(Ae.get(Se)||0)+1),Re.has(Se)&&Re.delete(Se),V.fetchers.get(Se)||n4}function nr(Se){let Ne=V.fetchers.get(Se);ge.has(Se)&&!(Ne&&Ne.state==="loading"&&ue.has(Se))&&Nt(Se),Ie.delete(Se),ue.delete(Se),pe.delete(Se),E.v7_fetcherPersist&&Re.delete(Se),he.delete(Se),V.fetchers.delete(Se)}function Yi(Se){let Ne=(Ae.get(Se)||0)-1;Ne<=0?(Ae.delete(Se),Re.add(Se),E.v7_fetcherPersist||nr(Se)):Ae.set(Se,Ne),Yt({fetchers:new Map(V.fetchers)})}function Nt(Se){let Ne=ge.get(Se);Ne&&(Ne.abort(),ge.delete(Se))}function rt(Se){for(let Ne of Se){let He=fi(Ne),Xe=Do(He.data);V.fetchers.set(Ne,Xe)}}function Ln(){let Se=[],Ne=!1;for(let He of pe){let Xe=V.fetchers.get(He);Cn(Xe,"Expected fetcher: "+He),Xe.state==="loading"&&(pe.delete(He),Se.push(He),Ne=!0)}return rt(Se),Ne}function Ft(Se){let Ne=[];for(let[He,Xe]of ue)if(Xe<Se){let Ge=V.fetchers.get(He);Cn(Ge,"Expected fetcher: "+He),Ge.state==="loading"&&(Nt(He),ue.delete(He),Ne.push(He))}return rt(Ne),Ne.length>0}function Gt(Se,Ne){let He=V.blockers.get(Se)||Tc;return gt.get(Se)!==Ne&&gt.set(Se,Ne),He}function ki(Se){V.blockers.delete(Se),gt.delete(Se)}function Pi(Se,Ne){let He=V.blockers.get(Se)||Tc;Cn(He.state==="unblocked"&&Ne.state==="blocked"||He.state==="blocked"&&Ne.state==="blocked"||He.state==="blocked"&&Ne.state==="proceeding"||He.state==="blocked"&&Ne.state==="unblocked"||He.state==="proceeding"&&Ne.state==="unblocked","Invalid blocker state transition: "+He.state+" -> "+Ne.state);let Xe=new Map(V.blockers);Xe.set(Se,Ne),Yt({blockers:Xe})}function ma(Se){let{currentLocation:Ne,nextLocation:He,historyAction:Xe}=Se;if(gt.size===0)return;gt.size>1&&Lu(!1,"A router only supports one blocker at a time");let Ge=Array.from(gt.entries()),[xt,$e]=Ge[Ge.length-1],dt=V.blockers.get(xt);if(!(dt&&dt.state==="proceeding")&&$e({currentLocation:Ne,nextLocation:He,historyAction:Xe}))return xt}function Zt(Se){let Ne=Gi(404,{pathname:Se}),He=y||d,{matches:Xe,route:Ge}=qy(He);return rr(),{notFoundMatches:Xe,route:Ge,error:Ne}}function rr(Se){let Ne=[];return Le.forEach((He,Xe)=>{(!Se||Se(Xe))&&(He.cancel(),Ne.push(Xe),Le.delete(Xe))}),Ne}function Fr(Se,Ne,He){if(R=Se,k=Ne,N=He||null,!F&&V.navigation===a1){F=!0;let Xe=Xa(V.location,V.matches);Xe!=null&&Yt({restoreScrollPosition:Xe})}return()=>{R=null,k=null,N=null}}function pa(Se,Ne){return N&&N(Se,Ne.map(Xe=>D3(Xe,V.loaderData)))||Se.key}function Sr(Se,Ne){if(R&&k){let He=pa(Se,Ne);R[He]=k()}}function Xa(Se,Ne){if(R){let He=pa(Se,Ne),Xe=R[He];if(typeof Xe=="number")return Xe}return null}function $n(Se,Ne,He){if(b)if(Se){if(Object.keys(Se[0].params).length>0)return{active:!0,matches:Bh(Ne,He,p,!0)}}else return{active:!0,matches:Bh(Ne,He,p,!0)||[]};return{active:!1,matches:null}}async function yi(Se,Ne,He,Xe){if(!b)return{type:"success",matches:Se};let Ge=Se;for(;;){let xt=y==null,$e=y||d,dt=c;try{await b({signal:He,path:Ne,matches:Ge,fetcherKey:Xe,patch:(bt,Bt)=>{He.aborted||jy(bt,Bt,$e,dt,l)}})}catch(bt){return{type:"error",error:bt,partialMatches:Ge}}finally{xt&&!He.aborted&&(d=[...d])}if(He.aborted)return{type:"aborted"};let pt=_l($e,Ne,p);if(pt)return{type:"success",matches:pt};let ht=Bh($e,Ne,p,!0);if(!ht||Ge.length===ht.length&&Ge.every((bt,Bt)=>bt.route.id===ht[Bt].route.id))return{type:"success",matches:null};Ge=ht}}function Bi(Se){c={},y=Uh(Se,l,void 0,c)}function Lr(Se,Ne){let He=y==null;jy(Se,Ne,y||d,c,l),He&&(d=[...d],Yt({}))}return Y={get basename(){return p},get future(){return E},get state(){return V},get routes(){return d},get window(){return t},initialize:ft,subscribe:Mt,enableScrollRestoration:Fr,navigate:re,fetch:ke,revalidate:Ye,createHref:Se=>e.history.createHref(Se),encodeLocation:Se=>e.history.encodeLocation(Se),getFetcher:fi,deleteFetcher:Yi,dispose:wt,getBlocker:Gt,deleteBlocker:ki,patchRoutes:Lr,_internalFetchControllers:ge,_internalActiveDeferreds:Le,_internalSetRoutes:Bi},Y}function a4(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _m(e,t,n,a,l,c,d,y){let p,g;if(d){p=[];for(let E of t)if(p.push(E),E.route.id===d){g=E;break}}else p=t,g=t[t.length-1];let b=ap(l||".",ip(p,c),zu(e.pathname,n)||e.pathname,y==="path");if(l==null&&(b.search=e.search,b.hash=e.hash),(l==null||l===""||l===".")&&g){let E=lp(b.search);if(g.route.index&&!E)b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&E){let O=new URLSearchParams(b.search),C=O.getAll("index");O.delete("index"),C.filter(N=>N).forEach(N=>O.append("index",N));let R=O.toString();b.search=R?"?"+R:""}}return a&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Qs([n,b.pathname])),Tl(b)}function Ly(e,t,n,a){if(!a||!a4(a))return{path:n};if(a.formMethod&&!v4(a.formMethod))return{path:n,error:Gi(405,{method:a.formMethod})};let l=()=>({path:n,error:Gi(400,{type:"invalid-body"})}),c=a.formMethod||"get",d=e?c.toUpperCase():c.toLowerCase(),y=gw(n);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!qa(d))return l();let O=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((C,R)=>{let[N,k]=R;return""+C+N+"="+k+`
`},""):String(a.body);return{path:n,submission:{formMethod:d,formAction:y,formEncType:a.formEncType,formData:void 0,json:void 0,text:O}}}else if(a.formEncType==="application/json"){if(!qa(d))return l();try{let O=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:n,submission:{formMethod:d,formAction:y,formEncType:a.formEncType,formData:void 0,json:O,text:void 0}}}catch{return l()}}}Cn(typeof FormData=="function","FormData is not available in this environment");let p,g;if(a.formData)p=wm(a.formData),g=a.formData;else if(a.body instanceof FormData)p=wm(a.body),g=a.body;else if(a.body instanceof URLSearchParams)p=a.body,g=Uy(p);else if(a.body==null)p=new URLSearchParams,g=new FormData;else try{p=new URLSearchParams(a.body),g=Uy(p)}catch{return l()}let b={formMethod:d,formAction:y,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(qa(b.formMethod))return{path:n,submission:b};let E=qo(n);return t&&E.search&&lp(E.search)&&p.append("index",""),E.search="?"+p,{path:Tl(E),submission:b}}function ky(e,t,n){n===void 0&&(n=!1);let a=e.findIndex(l=>l.route.id===t);return a>=0?e.slice(0,n?a+1:a):e}function Py(e,t,n,a,l,c,d,y,p,g,b,E,O,C,R,N){let k=N?ca(N[1])?N[1].error:N[1].data:void 0,F=e.createURL(t.location),P=e.createURL(l),B=n;c&&t.errors?B=ky(n,Object.keys(t.errors)[0],!0):N&&ca(N[1])&&(B=ky(n,N[0]));let W=N?N[1].statusCode:void 0,q=d&&W&&W>=400,Y=B.filter((ne,G)=>{let{route:J}=ne;if(J.lazy)return!0;if(J.loader==null)return!1;if(c)return xm(J,t.loaderData,t.errors);if(s4(t.loaderData,t.matches[G],ne)||p.some(ee=>ee===ne.route.id))return!0;let Q=t.matches[G],H=ne;return By(ne,fr({currentUrl:F,currentParams:Q.params,nextUrl:P,nextParams:H.params},a,{actionResult:k,actionStatus:W,defaultShouldRevalidate:q?!1:y||F.pathname+F.search===P.pathname+P.search||F.search!==P.search||mw(Q,H)}))}),V=[];return E.forEach((ne,G)=>{if(c||!n.some(z=>z.route.id===ne.routeId)||b.has(G))return;let J=_l(C,ne.path,R);if(!J){V.push({key:G,routeId:ne.routeId,path:ne.path,matches:null,match:null,controller:null});return}let Q=t.fetchers.get(G),H=Fc(J,ne.path),ee=!1;O.has(G)?ee=!1:g.has(G)?(g.delete(G),ee=!0):Q&&Q.state!=="idle"&&Q.data===void 0?ee=y:ee=By(H,fr({currentUrl:F,currentParams:t.matches[t.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},a,{actionResult:k,actionStatus:W,defaultShouldRevalidate:q?!1:y})),ee&&V.push({key:G,routeId:ne.routeId,path:ne.path,matches:J,match:H,controller:new AbortController})}),[Y,V]}function xm(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let a=t!=null&&t[e.id]!==void 0,l=n!=null&&n[e.id]!==void 0;return!a&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!l}function s4(e,t,n){let a=!t||n.route.id!==t.route.id,l=e[n.route.id]===void 0;return a||l}function mw(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function By(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function jy(e,t,n,a,l){var c;let d;if(e){let g=a[e];Cn(g,"No route found to patch children into: routeId = "+e),g.children||(g.children=[]),d=g.children}else d=n;let y=t.filter(g=>!d.some(b=>pw(g,b))),p=Uh(y,l,[e||"_","patch",String(((c=d)==null?void 0:c.length)||"0")],a);d.push(...p)}function pw(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,a)=>{var l;return(l=t.children)==null?void 0:l.some(c=>pw(n,c))}):!1}async function o4(e,t,n){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let l=n[e.id];Cn(l,"No route found in manifest");let c={};for(let d in a){let p=l[d]!==void 0&&d!=="hasErrorBoundary";Lu(!p,'Route "'+l.id+'" has a static property "'+d+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+d+'" will be ignored.')),!p&&!R3.has(d)&&(c[d]=a[d])}Object.assign(l,c),Object.assign(l,fr({},t(l),{lazy:void 0}))}async function l4(e){let{matches:t}=e,n=t.filter(l=>l.shouldLoad);return(await Promise.all(n.map(l=>l.resolve()))).reduce((l,c,d)=>Object.assign(l,{[n[d].route.id]:c}),{})}async function u4(e,t,n,a,l,c,d,y,p,g){let b=c.map(C=>C.route.lazy?o4(C.route,p,y):void 0),E=c.map((C,R)=>{let N=b[R],k=l.some(P=>P.route.id===C.route.id);return fr({},C,{shouldLoad:k,resolve:async P=>(P&&a.method==="GET"&&(C.route.lazy||C.route.loader)&&(k=!0),k?c4(t,a,C,N,P,g):Promise.resolve({type:Fn.data,result:void 0}))})}),O=await e({matches:E,request:a,params:c[0].params,fetcherKey:d,context:g});try{await Promise.all(b)}catch{}return O}async function c4(e,t,n,a,l,c){let d,y,p=g=>{let b,E=new Promise((R,N)=>b=N);y=()=>b(),t.signal.addEventListener("abort",y);let O=R=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):g({request:t,params:n.params,context:c},...R!==void 0?[R]:[]),C=(async()=>{try{return{type:"data",result:await(l?l(N=>O(N)):O())}}catch(R){return{type:"error",result:R}}})();return Promise.race([C,E])};try{let g=n.route[e];if(a)if(g){let b,[E]=await Promise.all([p(g).catch(O=>{b=O}),a]);if(b!==void 0)throw b;d=E}else if(await a,g=n.route[e],g)d=await p(g);else if(e==="action"){let b=new URL(t.url),E=b.pathname+b.search;throw Gi(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:Fn.data,result:void 0};else if(g)d=await p(g);else{let b=new URL(t.url),E=b.pathname+b.search;throw Gi(404,{pathname:E})}Cn(d.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:Fn.error,result:g}}finally{y&&t.signal.removeEventListener("abort",y)}return d}async function f4(e){let{result:t,type:n}=e;if(vw(t)){let E;try{let O=t.headers.get("Content-Type");O&&/\bapplication\/json\b/.test(O)?t.body==null?E=null:E=await t.json():E=await t.text()}catch(O){return{type:Fn.error,error:O}}return n===Fn.error?{type:Fn.error,error:new Fh(t.status,t.statusText,E),statusCode:t.status,headers:t.headers}:{type:Fn.data,data:E,statusCode:t.status,headers:t.headers}}if(n===Fn.error){if(Wy(t)){var a,l;if(t.data instanceof Error){var c,d;return{type:Fn.error,error:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Fn.error,error:new Fh(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:Jc(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:Fn.error,error:t,statusCode:Jc(t)?t.status:void 0}}if(g4(t)){var y,p;return{type:Fn.deferred,deferredData:t,statusCode:(y=t.init)==null?void 0:y.status,headers:((p=t.init)==null?void 0:p.headers)&&new Headers(t.init.headers)}}if(Wy(t)){var g,b;return{type:Fn.data,data:t.data,statusCode:(g=t.init)==null?void 0:g.status,headers:(b=t.init)!=null&&b.headers?new Headers(t.init.headers):void 0}}return{type:Fn.data,data:t}}function h4(e,t,n,a,l,c){let d=e.headers.get("Location");if(Cn(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!sp.test(d)){let y=a.slice(0,a.findIndex(p=>p.route.id===n)+1);d=_m(new URL(t.url),y,l,!0,d,c),e.headers.set("Location",d)}return e}function zy(e,t,n){if(sp.test(e)){let a=e,l=a.startsWith("//")?new URL(t.protocol+a):new URL(a),c=zu(l.pathname,n)!=null;if(l.origin===t.origin&&c)return l.pathname+l.search+l.hash}return e}function mu(e,t,n,a){let l=e.createURL(gw(t)).toString(),c={signal:n};if(a&&qa(a.formMethod)){let{formMethod:d,formEncType:y}=a;c.method=d.toUpperCase(),y==="application/json"?(c.headers=new Headers({"Content-Type":y}),c.body=JSON.stringify(a.json)):y==="text/plain"?c.body=a.text:y==="application/x-www-form-urlencoded"&&a.formData?c.body=wm(a.formData):c.body=a.formData}return new Request(l,c)}function wm(e){let t=new URLSearchParams;for(let[n,a]of e.entries())t.append(n,typeof a=="string"?a:a.name);return t}function Uy(e){let t=new FormData;for(let[n,a]of e.entries())t.append(n,a);return t}function d4(e,t,n,a,l){let c={},d=null,y,p=!1,g={},b=n&&ca(n[1])?n[1].error:void 0;return e.forEach(E=>{if(!(E.route.id in t))return;let O=E.route.id,C=t[O];if(Cn(!bl(C),"Cannot handle redirect results in processLoaderData"),ca(C)){let R=C.error;b!==void 0&&(R=b,b=void 0),d=d||{};{let N=xl(e,O);d[N.route.id]==null&&(d[N.route.id]=R)}c[O]=void 0,p||(p=!0,y=Jc(C.error)?C.error.status:500),C.headers&&(g[O]=C.headers)}else Po(C)?(a.set(O,C.deferredData),c[O]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!p&&(y=C.statusCode),C.headers&&(g[O]=C.headers)):(c[O]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(y=C.statusCode),C.headers&&(g[O]=C.headers))}),b!==void 0&&n&&(d={[n[0]]:b},c[n[0]]=void 0),{loaderData:c,errors:d,statusCode:y||200,loaderHeaders:g}}function Fy(e,t,n,a,l,c,d){let{loaderData:y,errors:p}=d4(t,n,a,d);return l.forEach(g=>{let{key:b,match:E,controller:O}=g,C=c[b];if(Cn(C,"Did not find corresponding fetcher result"),!(O&&O.signal.aborted))if(ca(C)){let R=xl(e.matches,E==null?void 0:E.route.id);p&&p[R.route.id]||(p=fr({},p,{[R.route.id]:C.error})),e.fetchers.delete(b)}else if(bl(C))Cn(!1,"Unhandled fetcher revalidation redirect");else if(Po(C))Cn(!1,"Unhandled fetcher deferred data");else{let R=Do(C.data);e.fetchers.set(b,R)}}),{loaderData:y,errors:p}}function Hy(e,t,n,a){let l=fr({},t);for(let c of n){let d=c.route.id;if(t.hasOwnProperty(d)?t[d]!==void 0&&(l[d]=t[d]):e[d]!==void 0&&c.route.loader&&(l[d]=e[d]),a&&a.hasOwnProperty(d))break}return l}function Vy(e){return e?ca(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function xl(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function qy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Gi(e,t){let{pathname:n,routeId:a,method:l,type:c,message:d}=t===void 0?{}:t,y="Unknown Server Error",p="Unknown @remix-run/router error";return e===400?(y="Bad Request",l&&n&&a?p="You made a "+l+' request to "'+n+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":c==="defer-action"?p="defer() is not supported in actions":c==="invalid-body"&&(p="Unable to encode submission body")):e===403?(y="Forbidden",p='Route "'+a+'" does not match URL "'+n+'"'):e===404?(y="Not Found",p='No route matches URL "'+n+'"'):e===405&&(y="Method Not Allowed",l&&n&&a?p="You made a "+l.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":l&&(p='Invalid request method "'+l.toUpperCase()+'"')),new Fh(e||500,y,new Error(p),!0)}function sh(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[a,l]=t[n];if(bl(l))return{key:a,result:l}}}function gw(e){let t=typeof e=="string"?qo(e):e;return Tl(fr({},t,{hash:""}))}function m4(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function p4(e){return vw(e.result)&&e4.has(e.result.status)}function Po(e){return e.type===Fn.deferred}function ca(e){return e.type===Fn.error}function bl(e){return(e&&e.type)===Fn.redirect}function Wy(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function g4(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function vw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function v4(e){return J3.has(e.toLowerCase())}function qa(e){return K3.has(e.toLowerCase())}async function y4(e,t,n,a,l){let c=Object.entries(t);for(let d=0;d<c.length;d++){let[y,p]=c[d],g=e.find(O=>(O==null?void 0:O.route.id)===y);if(!g)continue;let b=a.find(O=>O.route.id===g.route.id),E=b!=null&&!mw(b,g)&&(l&&l[g.route.id])!==void 0;Po(p)&&E&&await op(p,n,!1).then(O=>{O&&(t[y]=O)})}}async function _4(e,t,n){for(let a=0;a<n.length;a++){let{key:l,routeId:c,controller:d}=n[a],y=t[l];e.find(g=>(g==null?void 0:g.route.id)===c)&&Po(y)&&(Cn(d,"Expected an AbortController for revalidating fetcher deferred result"),await op(y,d.signal,!0).then(g=>{g&&(t[l]=g)}))}}async function op(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Fn.data,data:e.deferredData.unwrappedData}}catch(l){return{type:Fn.error,error:l}}return{type:Fn.data,data:e.deferredData.data}}}function lp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fc(e,t){let n=typeof t=="string"?qo(t).search:t.search;if(e[e.length-1].route.index&&lp(n||""))return e[e.length-1];let a=fw(e);return a[a.length-1]}function Gy(e){let{formMethod:t,formAction:n,formEncType:a,text:l,formData:c,json:d}=e;if(!(!t||!n||!a)){if(l!=null)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:void 0,text:l};if(c!=null)return{formMethod:t,formAction:n,formEncType:a,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:d,text:void 0}}}function s1(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function x4(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Oc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function w4(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Do(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function b4(e,t){try{let n=e.sessionStorage.getItem(dw);if(n){let a=JSON.parse(n);for(let[l,c]of Object.entries(a||{}))c&&Array.isArray(c)&&t.set(l,new Set(c||[]))}}catch{}}function E4(e,t){if(t.size>0){let n={};for(let[a,l]of t)n[a]=[...l];try{e.sessionStorage.setItem(dw,JSON.stringify(n))}catch(a){Lu(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}const id=K.createContext(null),yw=K.createContext(null),Dl=K.createContext(null),up=K.createContext(null),Wo=K.createContext({outlet:null,matches:[],isDataRoute:!1}),_w=K.createContext(null);function S4(e,t){let{relative:n}=t===void 0?{}:t;af()||Cn(!1);let{basename:a,navigator:l}=K.useContext(Dl),{hash:c,pathname:d,search:y}=ww(e,{relative:n}),p=d;return a!=="/"&&(p=d==="/"?a:Qs([a,d])),l.createHref({pathname:p,search:y,hash:c})}function af(){return K.useContext(up)!=null}function sf(){return af()||Cn(!1),K.useContext(up).location}function xw(e){K.useContext(Dl).static||K.useLayoutEffect(e)}function C4(){let{isDataRoute:e}=K.useContext(Wo);return e?z4():A4()}function A4(){af()||Cn(!1);let e=K.useContext(id),{basename:t,future:n,navigator:a}=K.useContext(Dl),{matches:l}=K.useContext(Wo),{pathname:c}=sf(),d=JSON.stringify(ip(l,n.v7_relativeSplatPath)),y=K.useRef(!1);return xw(()=>{y.current=!0}),K.useCallback(function(g,b){if(b===void 0&&(b={}),!y.current)return;if(typeof g=="number"){a.go(g);return}let E=ap(g,JSON.parse(d),c,b.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Qs([t,E.pathname])),(b.replace?a.replace:a.push)(E,b.state,b)},[t,a,d,c,e])}const T4=K.createContext(null);function O4(e){let t=K.useContext(Wo).outlet;return t&&K.createElement(T4.Provider,{value:e},t)}function ww(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=K.useContext(Dl),{matches:l}=K.useContext(Wo),{pathname:c}=sf(),d=JSON.stringify(ip(l,a.v7_relativeSplatPath));return K.useMemo(()=>ap(e,JSON.parse(d),c,n==="path"),[e,d,c,n])}function I4(e,t,n,a){af()||Cn(!1);let{navigator:l,static:c}=K.useContext(Dl),{matches:d}=K.useContext(Wo),y=d[d.length-1],p=y?y.params:{};y&&y.pathname;let g=y?y.pathnameBase:"/";y&&y.route;let b=sf(),E;E=b;let O=E.pathname||"/",C=O;if(g!=="/"){let k=g.replace(/^\//,"").split("/");C="/"+O.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=!c&&n&&n.matches&&n.matches.length>0?n.matches:_l(e,{pathname:C});return L4(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Qs([g,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Qs([g,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),d,n,a)}function N4(){let e=j4(),t=Jc(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:l},n):null,null)}const R4=K.createElement(N4,null);class M4 extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?K.createElement(Wo.Provider,{value:this.props.routeContext},K.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D4(e){let{routeContext:t,match:n,children:a}=e,l=K.useContext(id);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Wo.Provider,{value:t},a)}function L4(e,t,n,a){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=a)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,y=(l=n)==null?void 0:l.errors;if(y!=null){let b=d.findIndex(E=>E.route.id&&(y==null?void 0:y[E.route.id])!==void 0);b>=0||Cn(!1),d=d.slice(0,Math.min(d.length,b+1))}let p=!1,g=-1;if(n&&a&&a.v7_partialHydration)for(let b=0;b<d.length;b++){let E=d[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:O,errors:C}=n,R=E.route.loader&&O[E.route.id]===void 0&&(!C||C[E.route.id]===void 0);if(E.route.lazy||R){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((b,E,O)=>{let C,R=!1,N=null,k=null;n&&(C=y&&E.route.id?y[E.route.id]:void 0,N=E.route.errorElement||R4,p&&(g<0&&O===0?(U4("route-fallback"),R=!0,k=null):g===O&&(R=!0,k=E.route.hydrateFallbackElement||null)));let F=t.concat(d.slice(0,O+1)),P=()=>{let B;return C?B=N:R?B=k:E.route.Component?B=K.createElement(E.route.Component,null):E.route.element?B=E.route.element:B=b,K.createElement(D4,{match:E,routeContext:{outlet:b,matches:F,isDataRoute:n!=null},children:B})};return n&&(E.route.ErrorBoundary||E.route.errorElement||O===0)?K.createElement(M4,{location:n.location,revalidation:n.revalidation,component:N,error:C,children:P(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):P()},null)}var bw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bw||{}),Ew=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ew||{});function k4(e){let t=K.useContext(id);return t||Cn(!1),t}function P4(e){let t=K.useContext(yw);return t||Cn(!1),t}function B4(e){let t=K.useContext(Wo);return t||Cn(!1),t}function Sw(e){let t=B4(),n=t.matches[t.matches.length-1];return n.route.id||Cn(!1),n.route.id}function j4(){var e;let t=K.useContext(_w),n=P4(Ew.UseRouteError),a=Sw();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function z4(){let{router:e}=k4(bw.UseNavigateStable),t=Sw(),n=K.useRef(!1);return xw(()=>{n.current=!0}),K.useCallback(function(l,c){c===void 0&&(c={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Hh({fromRouteId:t},c)))},[e,t])}const Zy={};function U4(e,t,n){Zy[e]||(Zy[e]=!0)}function F4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function H4(e){return O4(e.context)}function V4(e){let{basename:t="/",children:n=null,location:a,navigationType:l=zr.Pop,navigator:c,static:d=!1,future:y}=e;af()&&Cn(!1);let p=t.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:p,navigator:c,static:d,future:Hh({v7_relativeSplatPath:!1},y)}),[p,y,c,d]);typeof a=="string"&&(a=qo(a));let{pathname:b="/",search:E="",hash:O="",state:C=null,key:R="default"}=a,N=K.useMemo(()=>{let k=zu(b,p);return k==null?null:{location:{pathname:k,search:E,hash:O,state:C,key:R},navigationType:l}},[p,b,E,O,C,R,l]);return N==null?null:K.createElement(Dl.Provider,{value:g},K.createElement(up.Provider,{children:n,value:N}))}new Promise(()=>{});function q4(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:K.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:K.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:K.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ef.apply(this,arguments)}function W4(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function G4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Z4(e,t){return e.button===0&&(!t||t==="_self")&&!G4(e)}const Y4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X4="6";try{window.__reactRouterVersion=X4}catch{}function $4(e,t){return i4({basename:void 0,future:ef({},void 0,{v7_prependBasename:!0}),history:O3({window:void 0}),hydrationData:K4(),routes:e,mapRouteProperties:q4,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function K4(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ef({},t,{errors:Q4(t.errors)})),t}function Q4(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,l]of t)if(l&&l.__type==="RouteErrorResponse")n[a]=new Fh(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let c=window[l.__subType];if(typeof c=="function")try{let d=new c(l.message);d.stack="",n[a]=d}catch{}}if(n[a]==null){let c=new Error(l.message);c.stack="",n[a]=c}}else n[a]=l;return n}const J4=K.createContext({isTransitioning:!1}),eC=K.createContext(new Map),tC="startTransition",Yy=zh[tC],nC="flushSync",Xy=T3[nC];function rC(e){Yy?Yy(e):e()}function Ic(e){Xy?Xy(e):e()}let iC=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function aC(e){let{fallbackElement:t,router:n,future:a}=e,[l,c]=K.useState(n.state),[d,y]=K.useState(),[p,g]=K.useState({isTransitioning:!1}),[b,E]=K.useState(),[O,C]=K.useState(),[R,N]=K.useState(),k=K.useRef(new Map),{v7_startTransition:F}=a||{},P=K.useCallback(ne=>{F?rC(ne):ne()},[F]),B=K.useCallback((ne,G)=>{let{deletedFetchers:J,flushSync:Q,viewTransitionOpts:H}=G;ne.fetchers.forEach((z,Z)=>{z.data!==void 0&&k.current.set(Z,z.data)}),J.forEach(z=>k.current.delete(z));let ee=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!H||ee){Q?Ic(()=>c(ne)):P(()=>c(ne));return}if(Q){Ic(()=>{O&&(b&&b.resolve(),O.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let z=n.window.document.startViewTransition(()=>{Ic(()=>c(ne))});z.finished.finally(()=>{Ic(()=>{E(void 0),C(void 0),y(void 0),g({isTransitioning:!1})})}),Ic(()=>C(z));return}O?(b&&b.resolve(),O.skipTransition(),N({state:ne,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(y(ne),g({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,O,b,k,P]);K.useLayoutEffect(()=>n.subscribe(B),[n,B]),K.useEffect(()=>{p.isTransitioning&&!p.flushSync&&E(new iC)},[p]),K.useEffect(()=>{if(b&&d&&n.window){let ne=d,G=b.promise,J=n.window.document.startViewTransition(async()=>{P(()=>c(ne)),await G});J.finished.finally(()=>{E(void 0),C(void 0),y(void 0),g({isTransitioning:!1})}),C(J)}},[P,d,b,n.window]),K.useEffect(()=>{b&&d&&l.location.key===d.location.key&&b.resolve()},[b,O,l.location,d]),K.useEffect(()=>{!p.isTransitioning&&R&&(y(R.state),g({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),N(void 0))},[p.isTransitioning,R]),K.useEffect(()=>{},[]);let W=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ne=>n.navigate(ne),push:(ne,G,J)=>n.navigate(ne,{state:G,preventScrollReset:J==null?void 0:J.preventScrollReset}),replace:(ne,G,J)=>n.navigate(ne,{replace:!0,state:G,preventScrollReset:J==null?void 0:J.preventScrollReset})}),[n]),q=n.basename||"/",Y=K.useMemo(()=>({router:n,navigator:W,static:!1,basename:q}),[n,W,q]),V=K.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return K.useEffect(()=>F4(a,n.future),[a,n.future]),K.createElement(K.Fragment,null,K.createElement(id.Provider,{value:Y},K.createElement(yw.Provider,{value:l},K.createElement(eC.Provider,{value:k.current},K.createElement(J4.Provider,{value:p},K.createElement(V4,{basename:q,location:l.location,navigationType:l.historyAction,navigator:W,future:V},l.initialized||n.future.v7_partialHydration?K.createElement(sC,{routes:n.routes,future:n.future,state:l}):t))))),null)}const sC=K.memo(oC);function oC(e){let{routes:t,future:n,state:a}=e;return I4(t,void 0,a,n)}const lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=K.forwardRef(function(t,n){let{onClick:a,relative:l,reloadDocument:c,replace:d,state:y,target:p,to:g,preventScrollReset:b,viewTransition:E}=t,O=W4(t,Y4),{basename:C}=K.useContext(Dl),R,N=!1;if(typeof g=="string"&&uC.test(g)&&(R=g,lC))try{let B=new URL(window.location.href),W=g.startsWith("//")?new URL(B.protocol+g):new URL(g),q=zu(W.pathname,C);W.origin===B.origin&&q!=null?g=q+W.search+W.hash:N=!0}catch{}let k=S4(g,{relative:l}),F=cC(g,{replace:d,state:y,target:p,preventScrollReset:b,relative:l,viewTransition:E});function P(B){a&&a(B),B.defaultPrevented||F(B)}return K.createElement("a",ef({},O,{href:R||k,onClick:N||c?a:P,ref:n,target:p}))});var $y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($y||($y={}));var Ky;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function cC(e,t){let{target:n,replace:a,state:l,preventScrollReset:c,relative:d,viewTransition:y}=t===void 0?{}:t,p=C4(),g=sf(),b=ww(e,{relative:d});return K.useCallback(E=>{if(Z4(E,n)){E.preventDefault();let O=a!==void 0?a:Tl(g)===Tl(b);p(e,{replace:O,state:l,preventScrollReset:c,relative:d,viewTransition:y})}},[g,p,b,a,l,n,e,c,d,y])}const Cw=typeof document<"u"?Ct.useLayoutEffect:()=>{};function fC(e){const t=K.useRef(null);return Cw(()=>{t.current=e},[e]),K.useCallback((...n)=>{const a=t.current;return a==null?void 0:a(...n)},[])}const Go=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},El=e=>e&&"window"in e&&e.window===e?e:Go(e).defaultView||window;function hC(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function dC(e){return hC(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let mC=!1;function cp(){return mC}function Aw(e,t){if(!cp())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:dC(n)?n=n.host:n=n.parentNode}return!1}const bm=(e=document)=>{var t;if(!cp())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Tw(e){return cp()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function pC(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function gC(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ow(e){let t=null;return()=>(t==null&&(t=e()),t)}const vC=Ow(function(){return gC(/^Mac/i)}),yC=Ow(function(){return pC(/Android/i)});function Iw(){let e=K.useRef(new Map),t=K.useCallback((l,c,d,y)=>{let p=y!=null&&y.once?(...g)=>{e.current.delete(d),d(...g)}:d;e.current.set(d,{type:c,eventTarget:l,fn:p,options:y}),l.addEventListener(c,p,y)},[]),n=K.useCallback((l,c,d,y)=>{var p;let g=((p=e.current.get(d))===null||p===void 0?void 0:p.fn)||d;l.removeEventListener(c,g,y),e.current.delete(d)},[]),a=K.useCallback(()=>{e.current.forEach((l,c)=>{n(l.eventTarget,l.type,c,l.options)})},[n]);return K.useEffect(()=>a,[a]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:a}}function _C(e){return e.mozInputSource===0&&e.isTrusted?!0:yC()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Nw(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function xC(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Rw(e){let t=K.useRef({isFocused:!1,observer:null});Cw(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let n=fC(a=>{e==null||e(a)});return K.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let l=a.target,c=d=>{if(t.current.isFocused=!1,l.disabled){let y=Nw(d);n(y)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};l.addEventListener("focusout",c,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&l.disabled){var d;(d=t.current.observer)===null||d===void 0||d.disconnect();let y=l===document.activeElement?null:document.activeElement;l.dispatchEvent(new FocusEvent("blur",{relatedTarget:y})),l.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:y}))}}),t.current.observer.observe(l,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let wC=!1,of=null,Em=new Set,Zc=new Map,Ol=!1,Sm=!1;const bC={Tab:!0,Escape:!0};function fp(e,t){for(let n of Em)n(e,t)}function EC(e){return!(e.metaKey||!vC()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Vh(e){Ol=!0,EC(e)&&(of="keyboard",fp("keyboard",e))}function Mu(e){of="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ol=!0,fp("pointer",e))}function Mw(e){_C(e)&&(Ol=!0,of="virtual")}function Dw(e){e.target===window||e.target===document||wC||!e.isTrusted||(!Ol&&!Sm&&(of="virtual",fp("virtual",e)),Ol=!1,Sm=!1)}function Lw(){Ol=!1,Sm=!0}function Cm(e){if(typeof window>"u"||typeof document>"u"||Zc.get(El(e)))return;const t=El(e),n=Go(e);let a=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ol=!0,a.apply(this,arguments)},n.addEventListener("keydown",Vh,!0),n.addEventListener("keyup",Vh,!0),n.addEventListener("click",Mw,!0),t.addEventListener("focus",Dw,!0),t.addEventListener("blur",Lw,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Mu,!0),n.addEventListener("pointermove",Mu,!0),n.addEventListener("pointerup",Mu,!0)),t.addEventListener("beforeunload",()=>{kw(e)},{once:!0}),Zc.set(t,{focus:a})}const kw=(e,t)=>{const n=El(e),a=Go(e);t&&a.removeEventListener("DOMContentLoaded",t),Zc.has(n)&&(n.HTMLElement.prototype.focus=Zc.get(n).focus,a.removeEventListener("keydown",Vh,!0),a.removeEventListener("keyup",Vh,!0),a.removeEventListener("click",Mw,!0),n.removeEventListener("focus",Dw,!0),n.removeEventListener("blur",Lw,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",Mu,!0),a.removeEventListener("pointermove",Mu,!0),a.removeEventListener("pointerup",Mu,!0)),Zc.delete(n))};function SC(e){const t=Go(e);let n;return t.readyState!=="loading"?Cm(e):(n=()=>{Cm(e)},t.addEventListener("DOMContentLoaded",n)),()=>kw(e,n)}typeof document<"u"&&SC();function Pw(){return of!=="pointer"}const CC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function AC(e,t,n){let a=Go(n==null?void 0:n.target);const l=typeof window<"u"?El(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,c=typeof window<"u"?El(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?El(n==null?void 0:n.target).HTMLElement:HTMLElement,y=typeof window<"u"?El(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||a.activeElement instanceof l&&!CC.has(a.activeElement.type)||a.activeElement instanceof c||a.activeElement instanceof d&&a.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof y&&!bC[n.key])}function TC(e,t,n){Cm(),K.useEffect(()=>{let a=(l,c)=>{AC(!!(n!=null&&n.isTextInput),l,c)&&e(Pw())};return Em.add(a),()=>{Em.delete(a)}},t)}function OC(e){let{isDisabled:t,onFocus:n,onBlur:a,onFocusChange:l}=e;const c=K.useCallback(p=>{if(p.target===p.currentTarget)return a&&a(p),l&&l(!1),!0},[a,l]),d=Rw(c),y=K.useCallback(p=>{const g=Go(p.target),b=g?bm(g):bm();p.target===p.currentTarget&&b===Tw(p.nativeEvent)&&(n&&n(p),l&&l(!0),d(p))},[l,n,d]);return{focusProps:{onFocus:!t&&(n||l||a)?y:void 0,onBlur:!t&&(a||l)?c:void 0}}}function IC(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:l}=e,c=K.useRef({isFocusWithin:!1}),{addGlobalListener:d,removeAllGlobalListeners:y}=Iw(),p=K.useCallback(E=>{E.currentTarget.contains(E.target)&&c.current.isFocusWithin&&!E.currentTarget.contains(E.relatedTarget)&&(c.current.isFocusWithin=!1,y(),n&&n(E),l&&l(!1))},[n,l,c,y]),g=Rw(p),b=K.useCallback(E=>{if(!E.currentTarget.contains(E.target))return;const O=Go(E.target),C=bm(O);if(!c.current.isFocusWithin&&C===Tw(E.nativeEvent)){a&&a(E),l&&l(!0),c.current.isFocusWithin=!0,g(E);let R=E.currentTarget;d(O,"focus",N=>{if(c.current.isFocusWithin&&!Aw(R,N.target)){let k=new O.defaultView.FocusEvent("blur",{relatedTarget:N.target});xC(k,R);let F=Nw(k);p(F)}},{capture:!0})}},[a,l,g,d,p]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:b,onBlur:p}}}let Am=!1,o1=0;function NC(){Am=!0,setTimeout(()=>{Am=!1},50)}function Qy(e){e.pointerType==="touch"&&NC()}function RC(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Qy),o1++,()=>{o1--,!(o1>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Qy)}}function Bw(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:a,isDisabled:l}=e,[c,d]=K.useState(!1),y=K.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;K.useEffect(RC,[]);let{addGlobalListener:p,removeAllGlobalListeners:g}=Iw(),{hoverProps:b,triggerHoverEnd:E}=K.useMemo(()=>{let O=(N,k)=>{if(y.pointerType=k,l||k==="touch"||y.isHovered||!N.currentTarget.contains(N.target))return;y.isHovered=!0;let F=N.currentTarget;y.target=F,p(Go(N.target),"pointerover",P=>{y.isHovered&&y.target&&!Aw(y.target,P.target)&&C(P,P.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:F,pointerType:k}),n&&n(!0),d(!0)},C=(N,k)=>{let F=y.target;y.pointerType="",y.target=null,!(k==="touch"||!y.isHovered||!F)&&(y.isHovered=!1,g(),a&&a({type:"hoverend",target:F,pointerType:k}),n&&n(!1),d(!1))},R={};return typeof PointerEvent<"u"&&(R.onPointerEnter=N=>{Am&&N.pointerType==="mouse"||O(N,N.pointerType)},R.onPointerLeave=N=>{!l&&N.currentTarget.contains(N.target)&&C(N,N.pointerType)}),{hoverProps:R,triggerHoverEnd:C}},[t,n,a,l,y,p,g]);return K.useEffect(()=>{l&&E({currentTarget:y.target},y.pointerType)},[l]),{hoverProps:b,isHovered:c}}function jw(e={}){let{autoFocus:t=!1,isTextInput:n,within:a}=e,l=K.useRef({isFocused:!1,isFocusVisible:t||Pw()}),[c,d]=K.useState(!1),[y,p]=K.useState(()=>l.current.isFocused&&l.current.isFocusVisible),g=K.useCallback(()=>p(l.current.isFocused&&l.current.isFocusVisible),[]),b=K.useCallback(C=>{l.current.isFocused=C,d(C),g()},[g]);TC(C=>{l.current.isFocusVisible=C,g()},[],{isTextInput:n});let{focusProps:E}=OC({isDisabled:a,onFocusChange:b}),{focusWithinProps:O}=IC({isDisabled:!a,onFocusWithinChange:b});return{isFocused:c,isFocusVisible:y,focusProps:a?O:E}}var MC=Object.defineProperty,DC=(e,t,n)=>t in e?MC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l1=(e,t,n)=>(DC(e,typeof t!="symbol"?t+"":t,n),n);let LC=class{constructor(){l1(this,"current",this.detect()),l1(this,"handoffState","pending"),l1(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Cl=new LC;function Ll(e){var t,n;return Cl.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function zw(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Da(){let e=[],t={addEventListener(n,a,l,c){return n.addEventListener(a,l,c),t.add(()=>n.removeEventListener(a,l,c))},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let a=setTimeout(...n);return t.add(()=>clearTimeout(a))},microTask(...n){let a={current:!0};return zw(()=>{a.current&&n[0]()}),t.add(()=>{a.current=!1})},style(n,a,l){let c=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:l}),this.add(()=>{Object.assign(n.style,{[a]:c})})},group(n){let a=Da();return n(a),this.add(()=>a.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let a=e.indexOf(n);if(a>=0)for(let l of e.splice(a,1))l()}},dispose(){for(let n of e.splice(0))n()}};return t}function lf(){let[e]=K.useState(Da);return K.useEffect(()=>()=>e.dispose(),[e]),e}let tr=(e,t)=>{Cl.isServer?K.useEffect(e,t):K.useLayoutEffect(e,t)};function Uu(e){let t=K.useRef(e);return tr(()=>{t.current=e},[e]),t}let sn=function(e){let t=Uu(e);return Ct.useCallback((...n)=>t.current(...n),[t])};function kC(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function PC(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Uw({disabled:e=!1}={}){let t=K.useRef(null),[n,a]=K.useState(!1),l=lf(),c=sn(()=>{t.current=null,a(!1),l.dispose()}),d=sn(y=>{if(l.dispose(),t.current===null){t.current=y.currentTarget,a(!0);{let p=Ll(y.currentTarget);l.addEventListener(p,"pointerup",c,!1),l.addEventListener(p,"pointermove",g=>{if(t.current){let b=kC(g);a(PC(b,t.current.getBoundingClientRect()))}},!1),l.addEventListener(p,"pointercancel",c,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:d,onPointerUp:c,onClick:c}}}let BC=K.createContext(void 0);function Fw(){return K.useContext(BC)}function Tm(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ya(e,t,...n){if(e in t){let l=t[e];return typeof l=="function"?l(...n):l}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ya),a}var ku=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ku||{}),Bo=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Bo||{});function vi(){let e=zC();return K.useCallback(t=>jC({mergeRefs:e,...t}),[e])}function jC({ourProps:e,theirProps:t,slot:n,defaultTag:a,features:l,visible:c=!0,name:d,mergeRefs:y}){y=y??UC;let p=Hw(t,e);if(c)return oh(p,n,a,d,y);let g=l??0;if(g&2){let{static:b=!1,...E}=p;if(b)return oh(E,n,a,d,y)}if(g&1){let{unmount:b=!0,...E}=p;return Ya(b?0:1,{0(){return null},1(){return oh({...E,hidden:!0,style:{display:"none"}},n,a,d,y)}})}return oh(p,n,a,d,y)}function oh(e,t={},n,a,l){let{as:c=n,children:d,refName:y="ref",...p}=u1(e,["unmount","static"]),g=e.ref!==void 0?{[y]:e.ref}:{},b=typeof d=="function"?d(t):d;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(t)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let E={};if(t){let O=!1,C=[];for(let[R,N]of Object.entries(t))typeof N=="boolean"&&(O=!0),N===!0&&C.push(R.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(O){E["data-headlessui-state"]=C.join(" ");for(let R of C)E[`data-${R}`]=""}}if(c===K.Fragment&&(Object.keys(vl(p)).length>0||Object.keys(vl(E)).length>0))if(!K.isValidElement(b)||Array.isArray(b)&&b.length>1){if(Object.keys(vl(p)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(vl(p)).concat(Object.keys(vl(E))).map(O=>`  - ${O}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(O=>`  - ${O}`).join(`
`)].join(`
`))}else{let O=b.props,C=O==null?void 0:O.className,R=typeof C=="function"?(...F)=>Tm(C(...F),p.className):Tm(C,p.className),N=R?{className:R}:{},k=Hw(b.props,vl(u1(p,["ref"])));for(let F in E)F in k&&delete E[F];return K.cloneElement(b,Object.assign({},k,E,g,{ref:l(FC(b),g.ref)},N))}return K.createElement(c,Object.assign({},u1(p,["ref"]),c!==K.Fragment&&g,c!==K.Fragment&&E),b)}function zC(){let e=K.useRef([]),t=K.useCallback(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)},[]);return(...n)=>{if(!n.every(a=>a==null))return e.current=n,t}}function UC(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Hw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let a of e)for(let l in a)l.startsWith("on")&&typeof a[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(a[l])):t[l]=a[l];if(t.disabled||t["aria-disabled"])for(let a in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(n[a]=[l=>{var c;return(c=l==null?void 0:l.preventDefault)==null?void 0:c.call(l)}]);for(let a in n)Object.assign(t,{[a](l,...c){let d=n[a];for(let y of d){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;y(l,...c)}}});return t}function qh(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let a of e)for(let l in a)l.startsWith("on")&&typeof a[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(a[l])):t[l]=a[l];for(let a in n)Object.assign(t,{[a](...l){let c=n[a];for(let d of c)d==null||d(...l)}});return t}function ci(e){var t;return Object.assign(K.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function vl(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function u1(e,t=[]){let n=Object.assign({},e);for(let a of t)a in n&&delete n[a];return n}function FC(e){return Ct.version.split(".")[0]>="19"?e.props.ref:e.ref}let HC=K.createContext(void 0);function VC(){return K.useContext(HC)}function hp(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ad(e){return hp(e)&&"tagName"in e}function Js(e){return ad(e)&&"accessKey"in e}function $s(e){return ad(e)&&"tabIndex"in e}function qC(e){return ad(e)&&"style"in e}function WC(e){return Js(e)&&e.nodeName==="IFRAME"}function Vw(e){return Js(e)&&e.nodeName==="INPUT"}function Jy(e){return Js(e)&&e.nodeName==="LABEL"}function GC(e){return Js(e)&&e.nodeName==="FIELDSET"}function qw(e){return Js(e)&&e.nodeName==="LEGEND"}function ZC(e){return ad(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Ww(e){let t=e.parentElement,n=null;for(;t&&!GC(t);)qw(t)&&(n=t),t=t.parentElement;let a=(t==null?void 0:t.getAttribute("disabled"))==="";return a&&YC(n)?!1:a}function YC(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(qw(t))return!1;t=t.previousElementSibling}return!0}let Gw=Symbol();function Zw(e,t=!0){return Object.assign(e,{[Gw]:t})}function Zi(...e){let t=K.useRef(e);K.useEffect(()=>{t.current=e},[e]);let n=sn(a=>{for(let l of t.current)l!=null&&(typeof l=="function"?l(a):l.current=a)});return e.every(a=>a==null||(a==null?void 0:a[Gw]))?void 0:n}let dp=K.createContext(null);dp.displayName="DescriptionContext";function Yw(){let e=K.useContext(dp);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Yw),t}return e}function XC(){let[e,t]=K.useState([]);return[e.length>0?e.join(" "):void 0,K.useMemo(()=>function(n){let a=sn(c=>(t(d=>[...d,c]),()=>t(d=>{let y=d.slice(),p=y.indexOf(c);return p!==-1&&y.splice(p,1),y}))),l=K.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props,value:n.value}),[a,n.slot,n.name,n.props,n.value]);return Ct.createElement(dp.Provider,{value:l},n.children)},[t])]}let $C="p";function KC(e,t){let n=K.useId(),a=Fw(),{id:l=`headlessui-description-${n}`,...c}=e,d=Yw(),y=Zi(t);tr(()=>d.register(l),[l,d.register]);let p=a||!1,g=K.useMemo(()=>({...d.slot,disabled:p}),[d.slot,p]),b={ref:y,...d.props,id:l};return vi()({ourProps:b,theirProps:c,slot:g,defaultTag:$C,name:d.name||"Description"})}let QC=ci(KC);Object.assign(QC,{});var Er=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Er||{});let sd=K.createContext(null);sd.displayName="LabelContext";function mp(){let e=K.useContext(sd);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,mp),t}return e}function JC(e){var t,n,a;let l=(n=(t=K.useContext(sd))==null?void 0:t.value)!=null?n:void 0;return((a=void 0)!=null?a:0)>0?[l,...e].filter(Boolean).join(" "):l}function Xw({inherit:e=!1}={}){let t=JC(),[n,a]=K.useState([]),l=e?[t,...n].filter(Boolean):n;return[l.length>0?l.join(" "):void 0,K.useMemo(()=>function(c){let d=sn(p=>(a(g=>[...g,p]),()=>a(g=>{let b=g.slice(),E=b.indexOf(p);return E!==-1&&b.splice(E,1),b}))),y=K.useMemo(()=>({register:d,slot:c.slot,name:c.name,props:c.props,value:c.value}),[d,c.slot,c.name,c.props,c.value]);return Ct.createElement(sd.Provider,{value:y},c.children)},[a])]}let eA="label";function tA(e,t){var n;let a=K.useId(),l=mp(),c=VC(),d=Fw(),{id:y=`headlessui-label-${a}`,htmlFor:p=c??((n=l.props)==null?void 0:n.htmlFor),passive:g=!1,...b}=e,E=Zi(t);tr(()=>l.register(y),[y,l.register]);let O=sn(k=>{let F=k.currentTarget;if(!(k.target!==k.currentTarget&&ZC(k.target))&&(Jy(F)&&k.preventDefault(),l.props&&"onClick"in l.props&&typeof l.props.onClick=="function"&&l.props.onClick(k),Jy(F))){let P=document.getElementById(F.htmlFor);if(P){let B=P.getAttribute("disabled");if(B==="true"||B==="")return;let W=P.getAttribute("aria-disabled");if(W==="true"||W==="")return;(Vw(P)&&(P.type==="file"||P.type==="radio"||P.type==="checkbox")||P.role==="radio"||P.role==="checkbox"||P.role==="switch")&&P.click(),P.focus({preventScroll:!0})}}}),C=d||!1,R=K.useMemo(()=>({...l.slot,disabled:C}),[l.slot,C]),N={ref:E,...l.props,id:y,htmlFor:p,onClick:O};return g&&("onClick"in N&&(delete N.htmlFor,delete N.onClick),"onClick"in b&&delete b.onClick),vi()({ourProps:N,theirProps:b,slot:R,defaultTag:p?eA:"div",name:l.name||"Label"})}let nA=ci(tA);Object.assign(nA,{});let rA=K.createContext(()=>{});function iA({value:e,children:t}){return Ct.createElement(rA.Provider,{value:e},t)}function aA(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function sA(e,t=!1){let[n,a]=K.useReducer(()=>({}),{}),l=K.useMemo(()=>aA(e),[e,n]);return tr(()=>{if(!e)return;let c=new ResizeObserver(a);return c.observe(e),()=>{c.disconnect()}},[e]),t?{width:`${l.width}px`,height:`${l.height}px`}:l}let $w=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var oA=Object.defineProperty,lA=(e,t,n)=>t in e?oA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uA=(e,t,n)=>(lA(e,t+"",n),n),Kw=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ra=(e,t,n)=>(Kw(e,t,"read from private field"),n?n.call(e):t.get(e)),c1=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},e2=(e,t,n,a)=>(Kw(e,t,"write to private field"),t.set(e,n),n),vs,Hc,Vc;let Qw=class{constructor(t){c1(this,vs,{}),c1(this,Hc,new $w(()=>new Set)),c1(this,Vc,new Set),uA(this,"disposables",Da()),e2(this,vs,t)}dispose(){this.disposables.dispose()}get state(){return Ra(this,vs)}subscribe(t,n){let a={selector:t,callback:n,current:t(Ra(this,vs))};return Ra(this,Vc).add(a),this.disposables.add(()=>{Ra(this,Vc).delete(a)})}on(t,n){return Ra(this,Hc).get(t).add(n),this.disposables.add(()=>{Ra(this,Hc).get(t).delete(n)})}send(t){let n=this.reduce(Ra(this,vs),t);if(n!==Ra(this,vs)){e2(this,vs,n);for(let a of Ra(this,Vc)){let l=a.selector(Ra(this,vs));Jw(a.current,l)||(a.current=l,a.callback(l))}for(let a of Ra(this,Hc).get(t.type))a(Ra(this,vs),t)}}};vs=new WeakMap,Hc=new WeakMap,Vc=new WeakMap;function Jw(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:f1(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:f1(e.entries(),t.entries()):t2(e)&&t2(t)?f1(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function f1(e,t){do{let n=e.next(),a=t.next();if(n.done&&a.done)return!0;if(n.done||a.done||!Object.is(n.value,a.value))return!1}while(!0)}function t2(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function n2(e){let[t,n]=e(),a=Da();return(...l)=>{t(...l),a.dispose(),a.microTask(n)}}var cA=Object.defineProperty,fA=(e,t,n)=>t in e?cA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r2=(e,t,n)=>(fA(e,typeof t!="symbol"?t+"":t,n),n),eb=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(eb||{});let hA={0(e,t){let n=t.id,a=e.stack,l=e.stack.indexOf(n);if(l!==-1){let c=e.stack.slice();return c.splice(l,1),c.push(n),a=c,{...e,stack:a}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,a=e.stack.indexOf(n);if(a===-1)return e;let l=e.stack.slice();return l.splice(a,1),{...e,stack:l}}},dA=class tb extends Qw{constructor(){super(...arguments),r2(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),r2(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new tb({stack:[]})}reduce(t,n){return Ya(n.type,hA,t,n)}};const pp=new $w(()=>dA.new());var h1={exports:{}},d1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function mA(){if(i2)return d1;i2=1;var e=ui();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,y=e.useDebugValue;return d1.useSyncExternalStoreWithSelector=function(p,g,b,E,O){var C=l(null);if(C.current===null){var R={hasValue:!1,value:null};C.current=R}else R=C.current;C=d(function(){function k(q){if(!F){if(F=!0,P=q,q=E(q),O!==void 0&&R.hasValue){var Y=R.value;if(O(Y,q))return B=Y}return B=q}if(Y=B,n(P,q))return Y;var V=E(q);return O!==void 0&&O(Y,V)?(P=q,Y):(P=q,B=V)}var F=!1,P,B,W=b===void 0?null:b;return[function(){return k(g())},W===null?void 0:function(){return k(W())}]},[g,b,E,O]);var N=a(p,C[0],C[1]);return c(function(){R.hasValue=!0,R.value=N},[N]),y(N),N},d1}var a2;function pA(){return a2||(a2=1,h1.exports=mA()),h1.exports}var gA=pA();function ws(e,t,n=Jw){return gA.useSyncExternalStoreWithSelector(sn(a=>e.subscribe(vA,a)),sn(()=>e.state),sn(()=>e.state),sn(t),n)}function vA(e){return e}function nb(e,t){let n=K.useId(),a=pp.get(t),[l,c]=ws(a,K.useCallback(d=>[a.selectors.isTop(d,n),a.selectors.inStack(d,n)],[a,n]));return tr(()=>{if(e)return a.actions.push(n),()=>a.actions.pop(n)},[a,e,n]),e?c?l:!0:!1}let Om=new Map,Yc=new Map;function s2(e){var t;let n=(t=Yc.get(e))!=null?t:0;return Yc.set(e,n+1),n!==0?()=>o2(e):(Om.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>o2(e))}function o2(e){var t;let n=(t=Yc.get(e))!=null?t:1;if(n===1?Yc.delete(e):Yc.set(e,n-1),n!==1)return;let a=Om.get(e);a&&(a["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",a["aria-hidden"]),e.inert=a.inert,Om.delete(e))}function yA(e,{allowed:t,disallowed:n}={}){let a=nb(e,"inert-others");tr(()=>{var l,c;if(!a)return;let d=Da();for(let p of(l=n==null?void 0:n())!=null?l:[])p&&d.add(s2(p));let y=(c=t==null?void 0:t())!=null?c:[];for(let p of y){if(!p)continue;let g=Ll(p);if(!g)continue;let b=p.parentElement;for(;b&&b!==g.body;){for(let E of b.children)y.some(O=>E.contains(O))||d.add(s2(E));b=b.parentElement}}return d.dispose},[a,t,n])}function _A(e,t,n){let a=Uu(l=>{let c=l.getBoundingClientRect();c.x===0&&c.y===0&&c.width===0&&c.height===0&&n()});K.useEffect(()=>{if(!e)return;let l=t===null?null:Js(t)?t:t.current;if(!l)return;let c=Da();if(typeof ResizeObserver<"u"){let d=new ResizeObserver(()=>a.current(l));d.observe(l),c.add(()=>d.disconnect())}if(typeof IntersectionObserver<"u"){let d=new IntersectionObserver(()=>a.current(l));d.observe(l),c.add(()=>d.disconnect())}return()=>c.dispose()},[t,a,e])}let Im=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),xA=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Nm=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Nm||{}),wA=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(wA||{}),bA=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(bA||{});function rb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Im)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function EA(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xA)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var gp=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(gp||{});function vp(e,t=0){var n;return e===((n=Ll(e))==null?void 0:n.body)?!1:Ya(t,{0(){return e.matches(Im)},1(){let a=e;for(;a!==null;){if(a.matches(Im))return!0;a=a.parentElement}return!1}})}function ib(e){let t=Ll(e);Da().nextFrame(()=>{t&&$s(t.activeElement)&&!vp(t.activeElement,0)&&CA(e)})}var SA=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(SA||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function CA(e){e==null||e.focus({preventScroll:!0})}let AA=["textarea","input"].join(",");function TA(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,AA))!=null?n:!1}function ab(e,t=n=>n){return e.slice().sort((n,a)=>{let l=t(n),c=t(a);if(l===null||c===null)return 0;let d=l.compareDocumentPosition(c);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function OA(e,t){return IA(rb(),t,{relativeTo:e})}function IA(e,t,{sorted:n=!0,relativeTo:a=null,skipElements:l=[]}={}){let c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,d=Array.isArray(e)?n?ab(e):e:t&64?EA(e):rb(e);l.length>0&&d.length>1&&(d=d.filter(C=>!l.some(R=>R!=null&&"current"in R?(R==null?void 0:R.current)===C:R===C))),a=a??c.activeElement;let y=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,d.indexOf(a))-1;if(t&4)return Math.max(0,d.indexOf(a))+1;if(t&8)return d.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},b=0,E=d.length,O;do{if(b>=E||b+E<=0)return 0;let C=p+b;if(t&16)C=(C+E)%E;else{if(C<0)return 3;if(C>=E)return 1}O=d[C],O==null||O.focus(g),b+=y}while(O!==c.activeElement);return t&6&&TA(O)&&O.select(),2}function sb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function NA(){return/Android/gi.test(window.navigator.userAgent)}function l2(){return sb()||NA()}function Ou(e,t,n,a){let l=Uu(n);K.useEffect(()=>{if(!e)return;function c(d){l.current(d)}return document.addEventListener(t,c,a),()=>document.removeEventListener(t,c,a)},[e,t,a])}function RA(e,t,n,a){let l=Uu(n);K.useEffect(()=>{if(!e)return;function c(d){l.current(d)}return window.addEventListener(t,c,a),()=>window.removeEventListener(t,c,a)},[e,t,a])}const u2=30;function MA(e,t,n){let a=Uu(n),l=K.useCallback(function(y,p){if(y.defaultPrevented)return;let g=p(y);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let b=function E(O){return typeof O=="function"?E(O()):Array.isArray(O)||O instanceof Set?O:[O]}(t);for(let E of b)if(E!==null&&(E.contains(g)||y.composed&&y.composedPath().includes(E)))return;return!vp(g,gp.Loose)&&g.tabIndex!==-1&&y.preventDefault(),a.current(y,g)},[a,t]),c=K.useRef(null);Ou(e,"pointerdown",y=>{var p,g;l2()||(c.current=((g=(p=y.composedPath)==null?void 0:p.call(y))==null?void 0:g[0])||y.target)},!0),Ou(e,"pointerup",y=>{if(l2()||!c.current)return;let p=c.current;return c.current=null,l(y,()=>p)},!0);let d=K.useRef({x:0,y:0});Ou(e,"touchstart",y=>{d.current.x=y.touches[0].clientX,d.current.y=y.touches[0].clientY},!0),Ou(e,"touchend",y=>{let p={x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY};if(!(Math.abs(p.x-d.current.x)>=u2||Math.abs(p.y-d.current.y)>=u2))return l(y,()=>$s(y.target)?y.target:null)},!0),RA(e,"blur",y=>l(y,()=>WC(window.document.activeElement)?window.document.activeElement:null),!0)}function Rm(...e){return K.useMemo(()=>Ll(...e),[...e])}var DA=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(DA||{});const lh={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},LA=200;function kA(e,{trigger:t,action:n,close:a,select:l}){let c=K.useRef(null);Ou(e&&t!==null,"pointerdown",d=>{hp(d==null?void 0:d.target)&&t!=null&&t.contains(d.target)&&(c.current=new Date)}),Ou(e&&t!==null,"pointerup",d=>{if(c.current===null||!$s(d.target))return;let y=n(d),p=new Date().getTime()-c.current.getTime();switch(c.current=null,y.kind){case 0:return;case 1:{p>LA&&(l(y.target),a());break}case 2:{a();break}}},{capture:!0})}function ob(e,t){return K.useMemo(()=>{var n;if(e.type)return e.type;let a=(n=e.as)!=null?n:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function PA(e){return K.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function BA(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(l){return a.add(l),()=>a.delete(l)},dispatch(l,...c){let d=t[l].call(n,...c);d&&(n=d,a.forEach(y=>y()))}}}function jA(){let e;return{before({doc:t}){var n;let a=t.documentElement,l=(n=t.defaultView)!=null?n:window;e=Math.max(0,l.innerWidth-a.clientWidth)},after({doc:t,d:n}){let a=t.documentElement,l=Math.max(0,a.clientWidth-a.offsetWidth),c=Math.max(0,e-l);n.style(a,"paddingRight",`${c}px`)}}}function zA(){return sb()?{before({doc:e,d:t,meta:n}){function a(l){return n.containers.flatMap(c=>c()).some(c=>c.contains(l))}t.microTask(()=>{var l;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let y=Da();y.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>y.dispose()))}let c=(l=window.scrollY)!=null?l:window.pageYOffset,d=null;t.addEventListener(e,"click",y=>{if($s(y.target))try{let p=y.target.closest("a");if(!p)return;let{hash:g}=new URL(p.href),b=e.querySelector(g);$s(b)&&!a(b)&&(d=b)}catch{}},!0),t.addEventListener(e,"touchstart",y=>{if($s(y.target)&&qC(y.target))if(a(y.target)){let p=y.target;for(;p.parentElement&&a(p.parentElement);)p=p.parentElement;t.style(p,"overscrollBehavior","contain")}else t.style(y.target,"touchAction","none")}),t.addEventListener(e,"touchmove",y=>{if($s(y.target)){if(Vw(y.target))return;if(a(y.target)){let p=y.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&y.preventDefault()}else y.preventDefault()}},{passive:!1}),t.add(()=>{var y;let p=(y=window.scrollY)!=null?y:window.pageYOffset;c!==p&&window.scrollTo(0,c),d&&d.isConnected&&(d.scrollIntoView({block:"nearest"}),d=null)})})}}:{}}function UA(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function FA(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Sl=BA(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:Da(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:FA(n)},l=[zA(),jA(),UA()];l.forEach(({before:c})=>c==null?void 0:c(a)),l.forEach(({after:c})=>c==null?void 0:c(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Sl.subscribe(()=>{let e=Sl.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",l=n.count!==0;(l&&!a||!l&&a)&&Sl.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Sl.dispatch("TEARDOWN",n)}});function HA(e,t,n=()=>({containers:[]})){let a=PA(Sl),l=t?a.get(t):void 0,c=l?l.count>0:!1;return tr(()=>{if(!(!t||!e))return Sl.dispatch("PUSH",t,n),()=>Sl.dispatch("POP",t,n)},[e,t]),c}function VA(e,t,n=()=>[document.body]){let a=nb(e,"scroll-lock");HA(a,t,l=>{var c;return{containers:[...(c=l.containers)!=null?c:[],n]}})}function c2(e){return[e.screenX,e.screenY]}function qA(){let e=K.useRef([-1,-1]);return{wasMoved(t){let n=c2(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=c2(t)}}}function WA(e=0){let[t,n]=K.useState(e),a=K.useCallback(p=>n(p),[t]),l=K.useCallback(p=>n(g=>g|p),[t]),c=K.useCallback(p=>(t&p)===p,[t]),d=K.useCallback(p=>n(g=>g&~p),[n]),y=K.useCallback(p=>n(g=>g^p),[n]);return{flags:t,setFlag:a,addFlag:l,hasFlag:c,removeFlag:d,toggleFlag:y}}var GA={},f2,h2;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((f2=process==null?void 0:GA)==null?void 0:f2.NODE_ENV)==="test"&&typeof((h2=Element==null?void 0:Element.prototype)==null?void 0:h2.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ZA=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ZA||{});function yp(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function _p(e,t,n,a){let[l,c]=K.useState(n),{hasFlag:d,addFlag:y,removeFlag:p}=WA(e&&l?3:0),g=K.useRef(!1),b=K.useRef(!1),E=lf();return tr(()=>{var O;if(e){if(n&&c(!0),!t){n&&y(3);return}return(O=a==null?void 0:a.start)==null||O.call(a,n),YA(t,{inFlight:g,prepare(){b.current?b.current=!1:b.current=g.current,g.current=!0,!b.current&&(n?(y(3),p(4)):(y(4),p(2)))},run(){b.current?n?(p(3),y(4)):(p(4),y(3)):n?p(1):y(1)},done(){var C;b.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(g.current=!1,p(7),n||c(!1),(C=a==null?void 0:a.end)==null||C.call(a,n))}})}},[e,n,t,E]),e?[l,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function YA(e,{prepare:t,run:n,done:a,inFlight:l}){let c=Da();return $A(e,{prepare:t,inFlight:l}),c.nextFrame(()=>{n(),c.requestAnimationFrame(()=>{c.add(XA(e,a))})}),c.dispose}function XA(e,t){var n,a;let l=Da();if(!e)return l.dispose;let c=!1;l.add(()=>{c=!0});let d=(a=(n=e.getAnimations)==null?void 0:n.call(e).filter(y=>y instanceof CSSTransition))!=null?a:[];return d.length===0?(t(),l.dispose):(Promise.allSettled(d.map(y=>y.finished)).then(()=>{c||t()}),l.dispose)}function $A(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let a=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=a}function KA(e,{container:t,accept:n,walk:a}){let l=K.useRef(n),c=K.useRef(a);K.useEffect(()=>{l.current=n,c.current=a},[n,a]),tr(()=>{if(!t||!e)return;let d=Ll(t);if(!d)return;let y=l.current,p=c.current,g=Object.assign(E=>y(E),{acceptNode:y}),b=d.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,g,!1);for(;b.nextNode();)p(b.currentNode)},[t,e,l,c])}function od(){return typeof window<"u"}function Fu(e){return lb(e)?(e.nodeName||"").toLowerCase():"#document"}function ha(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(lb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lb(e){return od()?e instanceof Node||e instanceof ha(e).Node:!1}function Di(e){return od()?e instanceof Element||e instanceof ha(e).Element:!1}function Ss(e){return od()?e instanceof HTMLElement||e instanceof ha(e).HTMLElement:!1}function d2(e){return!od()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ha(e).ShadowRoot}function uf(e){const{overflow:t,overflowX:n,overflowY:a,display:l}=Za(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(l)}function QA(e){return["table","td","th"].includes(Fu(e))}function ld(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function xp(e){const t=wp(),n=Di(e)?Za(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function JA(e){let t=Uo(e);for(;Ss(t)&&!Pu(t);){if(xp(t))return t;if(ld(t))return null;t=Uo(t)}return null}function wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pu(e){return["html","body","#document"].includes(Fu(e))}function Za(e){return ha(e).getComputedStyle(e)}function ud(e){return Di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uo(e){if(Fu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||d2(e)&&e.host||Cs(e);return d2(t)?t.host:t}function ub(e){const t=Uo(e);return Pu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ss(t)&&uf(t)?t:ub(t)}function tf(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=ub(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),d=ha(l);if(c){const y=Mm(d);return t.concat(d,d.visualViewport||[],uf(l)?l:[],y&&n?tf(y):[])}return t.concat(l,tf(l,[],n))}function Mm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eT(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:a}=t;return n+"/"+a}).join(" "):navigator.userAgent}const Il=Math.min,bi=Math.max,nf=Math.round,uh=Math.floor,bs=e=>({x:e,y:e}),tT={left:"right",right:"left",bottom:"top",top:"bottom"},nT={start:"end",end:"start"};function m2(e,t,n){return bi(e,Il(t,n))}function Hu(e,t){return typeof e=="function"?e(t):e}function Fo(e){return e.split("-")[0]}function cf(e){return e.split("-")[1]}function cb(e){return e==="x"?"y":"x"}function fb(e){return e==="y"?"height":"width"}function zo(e){return["top","bottom"].includes(Fo(e))?"y":"x"}function hb(e){return cb(zo(e))}function rT(e,t,n){n===void 0&&(n=!1);const a=cf(e),l=hb(e),c=fb(l);let d=l==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=Wh(d)),[d,Wh(d)]}function iT(e){const t=Wh(e);return[Dm(e),t,Dm(t)]}function Dm(e){return e.replace(/start|end/g,t=>nT[t])}function aT(e,t,n){const a=["left","right"],l=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:a:t?a:l;case"left":case"right":return t?c:d;default:return[]}}function sT(e,t,n,a){const l=cf(e);let c=aT(Fo(e),n==="start",a);return l&&(c=c.map(d=>d+"-"+l),t&&(c=c.concat(c.map(Dm)))),c}function Wh(e){return e.replace(/left|right|bottom|top/g,t=>tT[t])}function oT(e){return{top:0,right:0,bottom:0,left:0,...e}}function lT(e){return typeof e!="number"?oT(e):{top:e,right:e,bottom:e,left:e}}function Gh(e){const{x:t,y:n,width:a,height:l}=e;return{width:a,height:l,top:n,left:t,right:t+a,bottom:n+l,x:t,y:n}}function p2(e,t,n){let{reference:a,floating:l}=e;const c=zo(t),d=hb(t),y=fb(d),p=Fo(t),g=c==="y",b=a.x+a.width/2-l.width/2,E=a.y+a.height/2-l.height/2,O=a[y]/2-l[y]/2;let C;switch(p){case"top":C={x:b,y:a.y-l.height};break;case"bottom":C={x:b,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:E};break;case"left":C={x:a.x-l.width,y:E};break;default:C={x:a.x,y:a.y}}switch(cf(t)){case"start":C[d]-=O*(n&&g?-1:1);break;case"end":C[d]+=O*(n&&g?-1:1);break}return C}const uT=async(e,t,n)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:d}=n,y=c.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:l}),{x:b,y:E}=p2(g,a,p),O=a,C={},R=0;for(let N=0;N<y.length;N++){const{name:k,fn:F}=y[N],{x:P,y:B,data:W,reset:q}=await F({x:b,y:E,initialPlacement:a,placement:O,strategy:l,middlewareData:C,rects:g,platform:d,elements:{reference:e,floating:t}});b=P??b,E=B??E,C={...C,[k]:{...C[k],...W}},q&&R<=50&&(R++,typeof q=="object"&&(q.placement&&(O=q.placement),q.rects&&(g=q.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):q.rects),{x:b,y:E}=p2(g,O,p)),N=-1)}return{x:b,y:E,placement:O,strategy:l,middlewareData:C}};async function cd(e,t){var n;t===void 0&&(t={});const{x:a,y:l,platform:c,rects:d,elements:y,strategy:p}=e,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:E="floating",altBoundary:O=!1,padding:C=0}=Hu(t,e),R=lT(C),k=y[O?E==="floating"?"reference":"floating":E],F=Gh(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(k)))==null||n?k:k.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(y.floating)),boundary:g,rootBoundary:b,strategy:p})),P=E==="floating"?{x:a,y:l,width:d.floating.width,height:d.floating.height}:d.reference,B=await(c.getOffsetParent==null?void 0:c.getOffsetParent(y.floating)),W=await(c.isElement==null?void 0:c.isElement(B))?await(c.getScale==null?void 0:c.getScale(B))||{x:1,y:1}:{x:1,y:1},q=Gh(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:P,offsetParent:B,strategy:p}):P);return{top:(F.top-q.top+R.top)/W.y,bottom:(q.bottom-F.bottom+R.bottom)/W.y,left:(F.left-q.left+R.left)/W.x,right:(q.right-F.right+R.right)/W.x}}const cT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:l,middlewareData:c,rects:d,initialPlacement:y,platform:p,elements:g}=t,{mainAxis:b=!0,crossAxis:E=!0,fallbackPlacements:O,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:N=!0,...k}=Hu(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const F=Fo(l),P=zo(y),B=Fo(y)===y,W=await(p.isRTL==null?void 0:p.isRTL(g.floating)),q=O||(B||!N?[Wh(y)]:iT(y)),Y=R!=="none";!O&&Y&&q.push(...sT(y,N,R,W));const V=[y,...q],ne=await cd(t,k),G=[];let J=((a=c.flip)==null?void 0:a.overflows)||[];if(b&&G.push(ne[F]),E){const Z=rT(l,d,W);G.push(ne[Z[0]],ne[Z[1]])}if(J=[...J,{placement:l,overflows:G}],!G.every(Z=>Z<=0)){var Q,H;const Z=(((Q=c.flip)==null?void 0:Q.index)||0)+1,ye=V[Z];if(ye){var ee;const ge=E==="alignment"?P!==zo(ye):!1,fe=((ee=J[0])==null?void 0:ee.overflows[0])>0;if(!ge||fe)return{data:{index:Z,overflows:J},reset:{placement:ye}}}let he=(H=J.filter(ge=>ge.overflows[0]<=0).sort((ge,fe)=>ge.overflows[1]-fe.overflows[1])[0])==null?void 0:H.placement;if(!he)switch(C){case"bestFit":{var z;const ge=(z=J.filter(fe=>{if(Y){const se=zo(fe.placement);return se===P||se==="y"}return!0}).map(fe=>[fe.placement,fe.overflows.filter(se=>se>0).reduce((se,ue)=>se+ue,0)]).sort((fe,se)=>fe[1]-se[1])[0])==null?void 0:z[0];ge&&(he=ge);break}case"initialPlacement":he=y;break}if(l!==he)return{reset:{placement:he}}}return{}}}};async function fT(e,t){const{placement:n,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),d=Fo(n),y=cf(n),p=zo(n)==="y",g=["left","top"].includes(d)?-1:1,b=c&&p?-1:1,E=Hu(t,e);let{mainAxis:O,crossAxis:C,alignmentAxis:R}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return y&&typeof R=="number"&&(C=y==="end"?R*-1:R),p?{x:C*b,y:O*g}:{x:O*g,y:C*b}}const hT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:l,y:c,placement:d,middlewareData:y}=t,p=await fT(t,e);return d===((n=y.offset)==null?void 0:n.placement)&&(a=y.arrow)!=null&&a.alignmentOffset?{}:{x:l+p.x,y:c+p.y,data:{...p,placement:d}}}}},dT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:l}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:y={fn:k=>{let{x:F,y:P}=k;return{x:F,y:P}}},...p}=Hu(e,t),g={x:n,y:a},b=await cd(t,p),E=zo(Fo(l)),O=cb(E);let C=g[O],R=g[E];if(c){const k=O==="y"?"top":"left",F=O==="y"?"bottom":"right",P=C+b[k],B=C-b[F];C=m2(P,C,B)}if(d){const k=E==="y"?"top":"left",F=E==="y"?"bottom":"right",P=R+b[k],B=R-b[F];R=m2(P,R,B)}const N=y.fn({...t,[O]:C,[E]:R});return{...N,data:{x:N.x-n,y:N.y-a,enabled:{[O]:c,[E]:d}}}}}},mT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:l,rects:c,platform:d,elements:y}=t,{apply:p=()=>{},...g}=Hu(e,t),b=await cd(t,g),E=Fo(l),O=cf(l),C=zo(l)==="y",{width:R,height:N}=c.floating;let k,F;E==="top"||E==="bottom"?(k=E,F=O===(await(d.isRTL==null?void 0:d.isRTL(y.floating))?"start":"end")?"left":"right"):(F=E,k=O==="end"?"top":"bottom");const P=N-b.top-b.bottom,B=R-b.left-b.right,W=Il(N-b[k],P),q=Il(R-b[F],B),Y=!t.middlewareData.shift;let V=W,ne=q;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(ne=B),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(V=P),Y&&!O){const J=bi(b.left,0),Q=bi(b.right,0),H=bi(b.top,0),ee=bi(b.bottom,0);C?ne=R-2*(J!==0||Q!==0?J+Q:bi(b.left,b.right)):V=N-2*(H!==0||ee!==0?H+ee:bi(b.top,b.bottom))}await p({...t,availableWidth:ne,availableHeight:V});const G=await d.getDimensions(y.floating);return R!==G.width||N!==G.height?{reset:{rects:!0}}:{}}}};function db(e){const t=Za(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const l=Ss(e),c=l?e.offsetWidth:n,d=l?e.offsetHeight:a,y=nf(n)!==c||nf(a)!==d;return y&&(n=c,a=d),{width:n,height:a,$:y}}function bp(e){return Di(e)?e:e.contextElement}function Du(e){const t=bp(e);if(!Ss(t))return bs(1);const n=t.getBoundingClientRect(),{width:a,height:l,$:c}=db(t);let d=(c?nf(n.width):n.width)/a,y=(c?nf(n.height):n.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!y||!Number.isFinite(y))&&(y=1),{x:d,y}}const pT=bs(0);function mb(e){const t=ha(e);return!wp()||!t.visualViewport?pT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ha(e)?!1:t}function Nl(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),c=bp(e);let d=bs(1);t&&(a?Di(a)&&(d=Du(a)):d=Du(e));const y=gT(c,n,a)?mb(c):bs(0);let p=(l.left+y.x)/d.x,g=(l.top+y.y)/d.y,b=l.width/d.x,E=l.height/d.y;if(c){const O=ha(c),C=a&&Di(a)?ha(a):a;let R=O,N=Mm(R);for(;N&&a&&C!==R;){const k=Du(N),F=N.getBoundingClientRect(),P=Za(N),B=F.left+(N.clientLeft+parseFloat(P.paddingLeft))*k.x,W=F.top+(N.clientTop+parseFloat(P.paddingTop))*k.y;p*=k.x,g*=k.y,b*=k.x,E*=k.y,p+=B,g+=W,R=ha(N),N=Mm(R)}}return Gh({width:b,height:E,x:p,y:g})}function Ep(e,t){const n=ud(e).scrollLeft;return t?t.left+n:Nl(Cs(e)).left+n}function pb(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=a.left+t.scrollLeft-(n?0:Ep(e,a)),c=a.top+t.scrollTop;return{x:l,y:c}}function vT(e){let{elements:t,rect:n,offsetParent:a,strategy:l}=e;const c=l==="fixed",d=Cs(a),y=t?ld(t.floating):!1;if(a===d||y&&c)return n;let p={scrollLeft:0,scrollTop:0},g=bs(1);const b=bs(0),E=Ss(a);if((E||!E&&!c)&&((Fu(a)!=="body"||uf(d))&&(p=ud(a)),Ss(a))){const C=Nl(a);g=Du(a),b.x=C.x+a.clientLeft,b.y=C.y+a.clientTop}const O=d&&!E&&!c?pb(d,p,!0):bs(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+b.x+O.x,y:n.y*g.y-p.scrollTop*g.y+b.y+O.y}}function yT(e){return Array.from(e.getClientRects())}function _T(e){const t=Cs(e),n=ud(e),a=e.ownerDocument.body,l=bi(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=bi(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let d=-n.scrollLeft+Ep(e);const y=-n.scrollTop;return Za(a).direction==="rtl"&&(d+=bi(t.clientWidth,a.clientWidth)-l),{width:l,height:c,x:d,y}}function xT(e,t){const n=ha(e),a=Cs(e),l=n.visualViewport;let c=a.clientWidth,d=a.clientHeight,y=0,p=0;if(l){c=l.width,d=l.height;const g=wp();(!g||g&&t==="fixed")&&(y=l.offsetLeft,p=l.offsetTop)}return{width:c,height:d,x:y,y:p}}function wT(e,t){const n=Nl(e,!0,t==="fixed"),a=n.top+e.clientTop,l=n.left+e.clientLeft,c=Ss(e)?Du(e):bs(1),d=e.clientWidth*c.x,y=e.clientHeight*c.y,p=l*c.x,g=a*c.y;return{width:d,height:y,x:p,y:g}}function g2(e,t,n){let a;if(t==="viewport")a=xT(e,n);else if(t==="document")a=_T(Cs(e));else if(Di(t))a=wT(t,n);else{const l=mb(e);a={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Gh(a)}function gb(e,t){const n=Uo(e);return n===t||!Di(n)||Pu(n)?!1:Za(n).position==="fixed"||gb(n,t)}function bT(e,t){const n=t.get(e);if(n)return n;let a=tf(e,[],!1).filter(y=>Di(y)&&Fu(y)!=="body"),l=null;const c=Za(e).position==="fixed";let d=c?Uo(e):e;for(;Di(d)&&!Pu(d);){const y=Za(d),p=xp(d);!p&&y.position==="fixed"&&(l=null),(c?!p&&!l:!p&&y.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||uf(d)&&!p&&gb(e,d))?a=a.filter(b=>b!==d):l=y,d=Uo(d)}return t.set(e,a),a}function ET(e){let{element:t,boundary:n,rootBoundary:a,strategy:l}=e;const d=[...n==="clippingAncestors"?ld(t)?[]:bT(t,this._c):[].concat(n),a],y=d[0],p=d.reduce((g,b)=>{const E=g2(t,b,l);return g.top=bi(E.top,g.top),g.right=Il(E.right,g.right),g.bottom=Il(E.bottom,g.bottom),g.left=bi(E.left,g.left),g},g2(t,y,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function ST(e){const{width:t,height:n}=db(e);return{width:t,height:n}}function CT(e,t,n){const a=Ss(t),l=Cs(t),c=n==="fixed",d=Nl(e,!0,c,t);let y={scrollLeft:0,scrollTop:0};const p=bs(0);function g(){p.x=Ep(l)}if(a||!a&&!c)if((Fu(t)!=="body"||uf(l))&&(y=ud(t)),a){const C=Nl(t,!0,c,t);p.x=C.x+t.clientLeft,p.y=C.y+t.clientTop}else l&&g();c&&!a&&l&&g();const b=l&&!a&&!c?pb(l,y):bs(0),E=d.left+y.scrollLeft-p.x-b.x,O=d.top+y.scrollTop-p.y-b.y;return{x:E,y:O,width:d.width,height:d.height}}function m1(e){return Za(e).position==="static"}function v2(e,t){if(!Ss(e)||Za(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cs(e)===n&&(n=n.ownerDocument.body),n}function vb(e,t){const n=ha(e);if(ld(e))return n;if(!Ss(e)){let l=Uo(e);for(;l&&!Pu(l);){if(Di(l)&&!m1(l))return l;l=Uo(l)}return n}let a=v2(e,t);for(;a&&QA(a)&&m1(a);)a=v2(a,t);return a&&Pu(a)&&m1(a)&&!xp(a)?n:a||JA(e)||n}const AT=async function(e){const t=this.getOffsetParent||vb,n=this.getDimensions,a=await n(e.floating);return{reference:CT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function TT(e){return Za(e).direction==="rtl"}const OT={convertOffsetParentRelativeRectToViewportRelativeRect:vT,getDocumentElement:Cs,getClippingRect:ET,getOffsetParent:vb,getElementRects:AT,getClientRects:yT,getDimensions:ST,getScale:Du,isElement:Di,isRTL:TT};function yb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IT(e,t){let n=null,a;const l=Cs(e);function c(){var y;clearTimeout(a),(y=n)==null||y.disconnect(),n=null}function d(y,p){y===void 0&&(y=!1),p===void 0&&(p=1),c();const g=e.getBoundingClientRect(),{left:b,top:E,width:O,height:C}=g;if(y||t(),!O||!C)return;const R=uh(E),N=uh(l.clientWidth-(b+O)),k=uh(l.clientHeight-(E+C)),F=uh(b),B={rootMargin:-R+"px "+-N+"px "+-k+"px "+-F+"px",threshold:bi(0,Il(1,p))||1};let W=!0;function q(Y){const V=Y[0].intersectionRatio;if(V!==p){if(!W)return d();V?d(!1,V):a=setTimeout(()=>{d(!1,1e-7)},1e3)}V===1&&!yb(g,e.getBoundingClientRect())&&d(),W=!1}try{n=new IntersectionObserver(q,{...B,root:l.ownerDocument})}catch{n=new IntersectionObserver(q,B)}n.observe(e)}return d(!0),c}function NT(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:p=!1}=a,g=bp(e),b=l||c?[...g?tf(g):[],...tf(t)]:[];b.forEach(F=>{l&&F.addEventListener("scroll",n,{passive:!0}),c&&F.addEventListener("resize",n)});const E=g&&y?IT(g,n):null;let O=-1,C=null;d&&(C=new ResizeObserver(F=>{let[P]=F;P&&P.target===g&&C&&(C.unobserve(t),cancelAnimationFrame(O),O=requestAnimationFrame(()=>{var B;(B=C)==null||B.observe(t)})),n()}),g&&!p&&C.observe(g),C.observe(t));let R,N=p?Nl(e):null;p&&k();function k(){const F=Nl(e);N&&!yb(N,F)&&n(),N=F,R=requestAnimationFrame(k)}return n(),()=>{var F;b.forEach(P=>{l&&P.removeEventListener("scroll",n),c&&P.removeEventListener("resize",n)}),E==null||E(),(F=C)==null||F.disconnect(),C=null,p&&cancelAnimationFrame(R)}}const p1=cd,RT=hT,MT=dT,DT=cT,LT=mT,kT=(e,t,n)=>{const a=new Map,l={platform:OT,...n},c={...l.platform,_c:a};return uT(e,t,{...l,platform:c})};var jh=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Zh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Zh(e[a],t[a]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,l[a]))return!1;for(a=n;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!Zh(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function _b(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y2(e,t){const n=_b(e);return Math.round(t*n)/n}function g1(e){const t=K.useRef(e);return jh(()=>{t.current=e}),t}function PT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:d}={},transform:y=!0,whileElementsMounted:p,open:g}=e,[b,E]=K.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[O,C]=K.useState(a);Zh(O,a)||C(a);const[R,N]=K.useState(null),[k,F]=K.useState(null),P=K.useCallback(ge=>{ge!==Y.current&&(Y.current=ge,N(ge))},[]),B=K.useCallback(ge=>{ge!==V.current&&(V.current=ge,F(ge))},[]),W=c||R,q=d||k,Y=K.useRef(null),V=K.useRef(null),ne=K.useRef(b),G=p!=null,J=g1(p),Q=g1(l),H=g1(g),ee=K.useCallback(()=>{if(!Y.current||!V.current)return;const ge={placement:t,strategy:n,middleware:O};Q.current&&(ge.platform=Q.current),kT(Y.current,V.current,ge).then(fe=>{const se={...fe,isPositioned:H.current!==!1};z.current&&!Zh(ne.current,se)&&(ne.current=se,Es.flushSync(()=>{E(se)}))})},[O,t,n,Q,H]);jh(()=>{g===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,E(ge=>({...ge,isPositioned:!1})))},[g]);const z=K.useRef(!1);jh(()=>(z.current=!0,()=>{z.current=!1}),[]),jh(()=>{if(W&&(Y.current=W),q&&(V.current=q),W&&q){if(J.current)return J.current(W,q,ee);ee()}},[W,q,ee,J,G]);const Z=K.useMemo(()=>({reference:Y,floating:V,setReference:P,setFloating:B}),[P,B]),ye=K.useMemo(()=>({reference:W,floating:q}),[W,q]),he=K.useMemo(()=>{const ge={position:n,left:0,top:0};if(!ye.floating)return ge;const fe=y2(ye.floating,b.x),se=y2(ye.floating,b.y);return y?{...ge,transform:"translate("+fe+"px, "+se+"px)",..._b(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:se}},[n,y,ye.floating,b.x,b.y]);return K.useMemo(()=>({...b,update:ee,refs:Z,elements:ye,floatingStyles:he}),[b,ee,Z,ye,he])}const xb=(e,t)=>({...RT(e),options:[e,t]}),BT=(e,t)=>({...MT(e),options:[e,t]}),jT=(e,t)=>({...DT(e),options:[e,t]}),zT=(e,t)=>({...LT(e),options:[e,t]}),wb={...zh},UT=wb.useInsertionEffect,FT=UT||(e=>e());function bb(e){const t=K.useRef(()=>{});return FT(()=>{t.current=e}),K.useCallback(function(){for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}var Lm=typeof document<"u"?K.useLayoutEffect:K.useEffect;let _2=!1,HT=0;const x2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+HT++;function VT(){const[e,t]=K.useState(()=>_2?x2():void 0);return Lm(()=>{e==null&&t(x2())},[]),K.useEffect(()=>{_2=!0},[]),e}const qT=wb.useId,WT=qT||VT;function GT(){const e=new Map;return{emit(t,n){var a;(a=e.get(t))==null||a.forEach(l=>l(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var a;e.set(t,((a=e.get(t))==null?void 0:a.filter(l=>l!==n))||[])}}}const ZT=K.createContext(null),YT=K.createContext(null),XT=()=>{var e;return((e=K.useContext(ZT))==null?void 0:e.id)||null},$T=()=>K.useContext(YT),KT="data-floating-ui-focusable";function QT(e){const{open:t=!1,onOpenChange:n,elements:a}=e,l=WT(),c=K.useRef({}),[d]=K.useState(()=>GT()),y=XT()!=null,[p,g]=K.useState(a.reference),b=bb((C,R,N)=>{c.current.openEvent=C?R:void 0,d.emit("openchange",{open:C,event:R,reason:N,nested:y}),n==null||n(C,R,N)}),E=K.useMemo(()=>({setPositionReference:g}),[]),O=K.useMemo(()=>({reference:p||a.reference||null,floating:a.floating||null,domReference:a.reference}),[p,a.reference,a.floating]);return K.useMemo(()=>({dataRef:c,open:t,onOpenChange:b,elements:O,events:d,floatingId:l,refs:E}),[t,b,O,d,l,E])}function JT(e){e===void 0&&(e={});const{nodeId:t}=e,n=QT({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||n,l=a.elements,[c,d]=K.useState(null),[y,p]=K.useState(null),b=(l==null?void 0:l.domReference)||c,E=K.useRef(null),O=$T();Lm(()=>{b&&(E.current=b)},[b]);const C=PT({...e,elements:{...l,...y&&{reference:y}}}),R=K.useCallback(B=>{const W=Di(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;p(W),C.refs.setReference(W)},[C.refs]),N=K.useCallback(B=>{(Di(B)||B===null)&&(E.current=B,d(B)),(Di(C.refs.reference.current)||C.refs.reference.current===null||B!==null&&!Di(B))&&C.refs.setReference(B)},[C.refs]),k=K.useMemo(()=>({...C.refs,setReference:N,setPositionReference:R,domReference:E}),[C.refs,N,R]),F=K.useMemo(()=>({...C.elements,domReference:b}),[C.elements,b]),P=K.useMemo(()=>({...C,...a,refs:k,elements:F,nodeId:t}),[C,k,F,t,a]);return Lm(()=>{a.dataRef.current.floatingContext=P;const B=O==null?void 0:O.nodesRef.current.find(W=>W.id===t);B&&(B.context=P)}),K.useMemo(()=>({...C,context:P,refs:k,elements:F}),[C,k,F,P])}const w2="active",b2="selected";function v1(e,t,n){const a=new Map,l=n==="item";let c=e;if(l&&e){const{[w2]:d,[b2]:y,...p}=e;c=p}return{...n==="floating"&&{tabIndex:-1,[KT]:""},...c,...t.map(d=>{const y=d?d[n]:null;return typeof y=="function"?e?y(e):null:y}).concat(e).reduce((d,y)=>(y&&Object.entries(y).forEach(p=>{let[g,b]=p;if(!(l&&[w2,b2].includes(g)))if(g.indexOf("on")===0){if(a.has(g)||a.set(g,[]),typeof b=="function"){var E;(E=a.get(g))==null||E.push(b),d[g]=function(){for(var O,C=arguments.length,R=new Array(C),N=0;N<C;N++)R[N]=arguments[N];return(O=a.get(g))==null?void 0:O.map(k=>k(...R)).find(k=>k!==void 0)}}}else d[g]=b}),d),{})}}function e8(e){e===void 0&&(e=[]);const t=e.map(y=>y==null?void 0:y.reference),n=e.map(y=>y==null?void 0:y.floating),a=e.map(y=>y==null?void 0:y.item),l=K.useCallback(y=>v1(y,e,"reference"),t),c=K.useCallback(y=>v1(y,e,"floating"),n),d=K.useCallback(y=>v1(y,e,"item"),a);return K.useMemo(()=>({getReferenceProps:l,getFloatingProps:c,getItemProps:d}),[l,c,d])}function E2(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const t8=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:a,onFallbackChange:l,offset:c=0,index:d=0,minItemsVisible:y=4,referenceOverflowThreshold:p=0,scrollRef:g,...b}=Hu(e,t),{rects:E,elements:{floating:O}}=t,C=n.current[d],R=(g==null?void 0:g.current)||O,N=O.clientTop||R.clientTop,k=O.clientTop!==0,F=R.clientTop!==0,P=O===R;if(!C)return{};const B={...t,...await xb(-C.offsetTop-O.clientTop-E.reference.height/2-C.offsetHeight/2-c).fn(t)},W=await p1(E2(B,R.scrollHeight+N+O.clientTop),b),q=await p1(B,{...b,elementContext:"reference"}),Y=bi(0,W.top),V=B.y+Y,J=(R.scrollHeight>R.clientHeight?Q=>Q:nf)(bi(0,R.scrollHeight+(k&&P||F?N*2:0)-Y-bi(0,W.bottom)));if(R.style.maxHeight=J+"px",R.scrollTop=Y,l){const Q=R.offsetHeight<C.offsetHeight*Il(y,n.current.length)-1||q.top>=-p||q.bottom>=-p;Es.flushSync(()=>l(Q))}return a&&(a.current=await p1(E2({...B,y:V},R.offsetHeight+N+O.clientTop),b)),{y:V}}});function n8(e,t){const{open:n,elements:a}=e,{enabled:l=!0,overflowRef:c,scrollRef:d,onChange:y}=t,p=bb(y),g=K.useRef(!1),b=K.useRef(null),E=K.useRef(null);K.useEffect(()=>{if(!l)return;function C(N){if(N.ctrlKey||!R||c.current==null)return;const k=N.deltaY,F=c.current.top>=-.5,P=c.current.bottom>=-.5,B=R.scrollHeight-R.clientHeight,W=k<0?-1:1,q=k<0?"max":"min";R.scrollHeight<=R.clientHeight||(!F&&k>0||!P&&k<0?(N.preventDefault(),Es.flushSync(()=>{p(Y=>Y+Math[q](k,B*W))})):/firefox/i.test(eT())&&(R.scrollTop+=k))}const R=(d==null?void 0:d.current)||a.floating;if(n&&R)return R.addEventListener("wheel",C),requestAnimationFrame(()=>{b.current=R.scrollTop,c.current!=null&&(E.current={...c.current})}),()=>{b.current=null,E.current=null,R.removeEventListener("wheel",C)}},[l,n,a.floating,c,d,p]);const O=K.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){const C=(d==null?void 0:d.current)||a.floating;if(!(!c.current||!C||!g.current)){if(b.current!==null){const R=C.scrollTop-b.current;(c.current.bottom<-.5&&R<-1||c.current.top<-.5&&R>1)&&Es.flushSync(()=>p(N=>N+R))}requestAnimationFrame(()=>{b.current=C.scrollTop})}}}),[a.floating,p,c,d]);return K.useMemo(()=>l?{floating:O}:{},[l,O])}let Vu=K.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Vu.displayName="FloatingContext";let Sp=K.createContext(null);Sp.displayName="PlacementContext";function r8(e){return K.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function i8(){return K.useContext(Vu).setReference}function a8(){return K.useContext(Vu).getReferenceProps}function s8(){let{getFloatingProps:e,slot:t}=K.useContext(Vu);return K.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function o8(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=K.useContext(Sp),n=K.useMemo(()=>e,[JSON.stringify(e,(l,c)=>{var d;return(d=c==null?void 0:c.outerHTML)!=null?d:c})]);tr(()=>{t==null||t(n??null)},[t,n]);let a=K.useContext(Vu);return K.useMemo(()=>[a.setFloating,e?a.styles:{}],[a.setFloating,e,a.styles])}let S2=4;function l8({children:e,enabled:t=!0}){let[n,a]=K.useState(null),[l,c]=K.useState(0),d=K.useRef(null),[y,p]=K.useState(null);u8(y);let g=t&&n!==null&&y!==null,{to:b="bottom",gap:E=0,offset:O=0,padding:C=0,inner:R}=c8(n,y),[N,k="center"]=b.split(" ");tr(()=>{g&&c(0)},[g]);let{refs:F,floatingStyles:P,context:B}=JT({open:g,placement:N==="selection"?k==="center"?"bottom":`bottom-${k}`:k==="center"?`${N}`:`${N}-${k}`,strategy:"absolute",transform:!1,middleware:[xb({mainAxis:N==="selection"?0:E,crossAxis:O}),BT({padding:C}),N!=="selection"&&jT({padding:C}),N==="selection"&&R?t8({...R,padding:C,overflowRef:d,offset:l,minItemsVisible:S2,referenceOverflowThreshold:C,onFallbackChange(Q){var H,ee;if(!Q)return;let z=B.elements.floating;if(!z)return;let Z=parseFloat(getComputedStyle(z).scrollPaddingBottom)||0,ye=Math.min(S2,z.childElementCount),he=0,ge=0;for(let fe of(ee=(H=B.elements.floating)==null?void 0:H.childNodes)!=null?ee:[])if(Js(fe)){let se=fe.offsetTop,ue=se+fe.clientHeight+Z,pe=z.scrollTop,Ie=pe+z.clientHeight;if(se>=pe&&ue<=Ie)ye--;else{ge=Math.max(0,Math.min(ue,Ie)-Math.max(se,pe)),he=fe.clientHeight;break}}ye>=1&&c(fe=>{let se=he*ye-ge+Z;return fe>=se?fe:se})}}):null,zT({padding:C,apply({availableWidth:Q,availableHeight:H,elements:ee}){Object.assign(ee.floating.style,{overflow:"auto",maxWidth:`${Q}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:NT}),[W=N,q=k]=B.placement.split("-");N==="selection"&&(W="selection");let Y=K.useMemo(()=>({anchor:[W,q].filter(Boolean).join(" ")}),[W,q]),V=n8(B,{overflowRef:d,onChange:c}),{getReferenceProps:ne,getFloatingProps:G}=e8([V]),J=sn(Q=>{p(Q),F.setFloating(Q)});return K.createElement(Sp.Provider,{value:a},K.createElement(Vu.Provider,{value:{setFloating:J,setReference:F.setReference,styles:P,getReferenceProps:ne,getFloatingProps:G,slot:Y}},e))}function u8(e){tr(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,a=parseFloat(n);if(isNaN(a))return;let l=parseInt(n);isNaN(l)||a!==l&&(e.style.maxHeight=`${Math.ceil(a)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function c8(e,t){var n,a,l;let c=y1((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),d=y1((a=e==null?void 0:e.offset)!=null?a:"var(--anchor-offset, 0)",t),y=y1((l=e==null?void 0:e.padding)!=null?l:"var(--anchor-padding, 0)",t);return{...e,gap:c,offset:d,padding:y}}function y1(e,t,n=void 0){let a=lf(),l=sn((p,g)=>{if(p==null)return[n,null];if(typeof p=="number")return[p,null];if(typeof p=="string"){if(!g)return[n,null];let b=C2(p,g);return[b,E=>{let O=Eb(p);{let C=O.map(R=>window.getComputedStyle(g).getPropertyValue(R));a.requestAnimationFrame(function R(){a.nextFrame(R);let N=!1;for(let[F,P]of O.entries()){let B=window.getComputedStyle(g).getPropertyValue(P);if(C[F]!==B){C[F]=B,N=!0;break}}if(!N)return;let k=C2(p,g);b!==k&&(E(k),b=k)})}return a.dispose}]}return[n,null]}),c=K.useMemo(()=>l(e,t)[0],[e,t]),[d=c,y]=K.useState();return tr(()=>{let[p,g]=l(e,t);if(y(p),!!g)return g(y)},[e,t]),d}function Eb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let a=t[1].slice(0,n).trim(),l=t[1].slice(n+1).trim();return l?[a,...Eb(l)]:[a]}return[]}function C2(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let a=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),a}let fd=K.createContext(null);fd.displayName="OpenClosedContext";var Li=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Li||{});function hd(){return K.useContext(fd)}function Cp({value:e,children:t}){return Ct.createElement(fd.Provider,{value:e},t)}function f8({children:e}){return Ct.createElement(fd.Provider,{value:null},e)}function h8(e){throw new Error("Unexpected object: "+e)}var Dr=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Dr||{});function ch(e,t){let n=t.resolveItems();if(n.length<=0)return null;let a=t.resolveActiveIndex(),l=a??-1;switch(e.focus){case 0:{for(let c=0;c<n.length;++c)if(!t.resolveDisabled(n[c],c,n))return c;return a}case 1:{l===-1&&(l=n.length);for(let c=l-1;c>=0;--c)if(!t.resolveDisabled(n[c],c,n))return c;return a}case 2:{for(let c=l+1;c<n.length;++c)if(!t.resolveDisabled(n[c],c,n))return c;return a}case 3:{for(let c=n.length-1;c>=0;--c)if(!t.resolveDisabled(n[c],c,n))return c;return a}case 4:{for(let c=0;c<n.length;++c)if(t.resolveId(n[c],c,n)===e.id)return c;return a}case 5:return null;default:h8(e)}}function Sb(e){let t=sn(e),n=K.useRef(!1);K.useEffect(()=>(n.current=!1,()=>{n.current=!0,zw(()=>{n.current&&t()})}),[t])}function d8(){let e=typeof document>"u";return"useSyncExternalStore"in zh?(t=>t.useSyncExternalStore)(zh)(()=>()=>{},()=>!1,()=>!e):!1}function Ap(){let e=d8(),[t,n]=K.useState(Cl.isHandoffComplete);return t&&Cl.isHandoffComplete===!1&&n(!1),K.useEffect(()=>{t!==!0&&n(!0)},[t]),K.useEffect(()=>Cl.handoff(),[]),e?!1:t}let m8=K.createContext(!1);function p8(){return K.useContext(m8)}function g8(e){let t=p8(),n=K.useContext(Ab),[a,l]=K.useState(()=>{var c;if(!t&&n!==null)return(c=n.current)!=null?c:null;if(Cl.isServer)return null;let d=e==null?void 0:e.getElementById("headlessui-portal-root");if(d)return d;if(e===null)return null;let y=e.createElement("div");return y.setAttribute("id","headlessui-portal-root"),e.body.appendChild(y)});return K.useEffect(()=>{a!==null&&(e!=null&&e.body.contains(a)||e==null||e.body.appendChild(a))},[a,e]),K.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),a}let Cb=K.Fragment,v8=ci(function(e,t){let{ownerDocument:n=null,...a}=e,l=K.useRef(null),c=Zi(Zw(C=>{l.current=C}),t),d=Rm(l),y=n??d,p=g8(y),[g]=K.useState(()=>{var C;return Cl.isServer?null:(C=y==null?void 0:y.createElement("div"))!=null?C:null}),b=K.useContext(w8),E=Ap();tr(()=>{!p||!g||p.contains(g)||(g.setAttribute("data-headlessui-portal",""),p.appendChild(g))},[p,g]),tr(()=>{if(g&&b)return b.register(g)},[b,g]),Sb(()=>{var C;!p||!g||(hp(g)&&p.contains(g)&&p.removeChild(g),p.childNodes.length<=0&&((C=p.parentElement)==null||C.removeChild(p)))});let O=vi();return E?!p||!g?null:Es.createPortal(O({ourProps:{ref:c},theirProps:a,slot:{},defaultTag:Cb,name:"Portal"}),g):null});function y8(e,t){let n=Zi(t),{enabled:a=!0,ownerDocument:l,...c}=e,d=vi();return a?Ct.createElement(v8,{...c,ownerDocument:l,ref:n}):d({ourProps:{ref:n},theirProps:c,slot:{},defaultTag:Cb,name:"Portal"})}let _8=K.Fragment,Ab=K.createContext(null);function x8(e,t){let{target:n,...a}=e,l={ref:Zi(t)},c=vi();return Ct.createElement(Ab.Provider,{value:n},c({ourProps:l,theirProps:a,defaultTag:_8,name:"Popover.Group"}))}let w8=K.createContext(null),b8=ci(y8),E8=ci(x8),S8=Object.assign(b8,{Group:E8});function C8(){let e=K.useRef(!1);return tr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Tb(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:Ib)!==K.Fragment||Ct.Children.count(e.children)===1}let dd=K.createContext(null);dd.displayName="TransitionContext";var A8=(e=>(e.Visible="visible",e.Hidden="hidden",e))(A8||{});function T8(){let e=K.useContext(dd);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function O8(){let e=K.useContext(md);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let md=K.createContext(null);md.displayName="NestingContext";function pd(e){return"children"in e?pd(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Ob(e,t){let n=Uu(e),a=K.useRef([]),l=C8(),c=lf(),d=sn((C,R=Bo.Hidden)=>{let N=a.current.findIndex(({el:k})=>k===C);N!==-1&&(Ya(R,{[Bo.Unmount](){a.current.splice(N,1)},[Bo.Hidden](){a.current[N].state="hidden"}}),c.microTask(()=>{var k;!pd(a)&&l.current&&((k=n.current)==null||k.call(n))}))}),y=sn(C=>{let R=a.current.find(({el:N})=>N===C);return R?R.state!=="visible"&&(R.state="visible"):a.current.push({el:C,state:"visible"}),()=>d(C,Bo.Unmount)}),p=K.useRef([]),g=K.useRef(Promise.resolve()),b=K.useRef({enter:[],leave:[]}),E=sn((C,R,N)=>{p.current.splice(0),t&&(t.chains.current[R]=t.chains.current[R].filter(([k])=>k!==C)),t==null||t.chains.current[R].push([C,new Promise(k=>{p.current.push(k)})]),t==null||t.chains.current[R].push([C,new Promise(k=>{Promise.all(b.current[R].map(([F,P])=>P)).then(()=>k())})]),R==="enter"?g.current=g.current.then(()=>t==null?void 0:t.wait.current).then(()=>N(R)):N(R)}),O=sn((C,R,N)=>{Promise.all(b.current[R].splice(0).map(([k,F])=>F)).then(()=>{var k;(k=p.current.shift())==null||k()}).then(()=>N(R))});return K.useMemo(()=>({children:a,register:y,unregister:d,onStart:E,onStop:O,wait:g,chains:b}),[y,d,a,E,O,b,g])}let Ib=K.Fragment,Nb=ku.RenderStrategy;function I8(e,t){var n,a;let{transition:l=!0,beforeEnter:c,afterEnter:d,beforeLeave:y,afterLeave:p,enter:g,enterFrom:b,enterTo:E,entered:O,leave:C,leaveFrom:R,leaveTo:N,...k}=e,[F,P]=K.useState(null),B=K.useRef(null),W=Tb(e),q=Zi(...W?[B,t,P]:t===null?[]:[t]),Y=(n=k.unmount)==null||n?Bo.Unmount:Bo.Hidden,{show:V,appear:ne,initial:G}=T8(),[J,Q]=K.useState(V?"visible":"hidden"),H=O8(),{register:ee,unregister:z}=H;tr(()=>ee(B),[ee,B]),tr(()=>{if(Y===Bo.Hidden&&B.current){if(V&&J!=="visible"){Q("visible");return}return Ya(J,{hidden:()=>z(B),visible:()=>ee(B)})}},[J,B,ee,z,V,Y]);let Z=Ap();tr(()=>{if(W&&Z&&J==="visible"&&B.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[B,J,Z,W]);let ye=G&&!ne,he=ne&&V&&G,ge=K.useRef(!1),fe=Ob(()=>{ge.current||(Q("hidden"),z(B))},H),se=sn(gt=>{ge.current=!0;let Ze=gt?"enter":"leave";fe.onStart(B,Ze,ft=>{ft==="enter"?c==null||c():ft==="leave"&&(y==null||y())})}),ue=sn(gt=>{let Ze=gt?"enter":"leave";ge.current=!1,fe.onStop(B,Ze,ft=>{ft==="enter"?d==null||d():ft==="leave"&&(p==null||p())}),Ze==="leave"&&!pd(fe)&&(Q("hidden"),z(B))});K.useEffect(()=>{W&&l||(se(V),ue(V))},[V,W,l]);let pe=!(!l||!W||!Z||ye),[,Ie]=_p(pe,F,V,{start:se,end:ue}),Ae=vl({ref:q,className:((a=Tm(k.className,he&&g,he&&b,Ie.enter&&g,Ie.enter&&Ie.closed&&b,Ie.enter&&!Ie.closed&&E,Ie.leave&&C,Ie.leave&&!Ie.closed&&R,Ie.leave&&Ie.closed&&N,!Ie.transition&&V&&O))==null?void 0:a.trim())||void 0,...yp(Ie)}),Re=0;J==="visible"&&(Re|=Li.Open),J==="hidden"&&(Re|=Li.Closed),V&&J==="hidden"&&(Re|=Li.Opening),!V&&J==="visible"&&(Re|=Li.Closing);let Le=vi();return Ct.createElement(md.Provider,{value:fe},Ct.createElement(Cp,{value:Re},Le({ourProps:Ae,theirProps:k,defaultTag:Ib,features:Nb,visible:J==="visible",name:"Transition.Child"})))}function N8(e,t){let{show:n,appear:a=!1,unmount:l=!0,...c}=e,d=K.useRef(null),y=Tb(e),p=Zi(...y?[d,t]:t===null?[]:[t]);Ap();let g=hd();if(n===void 0&&g!==null&&(n=(g&Li.Open)===Li.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[b,E]=K.useState(n?"visible":"hidden"),O=Ob(()=>{n||E("hidden")}),[C,R]=K.useState(!0),N=K.useRef([n]);tr(()=>{C!==!1&&N.current[N.current.length-1]!==n&&(N.current.push(n),R(!1))},[N,n]);let k=K.useMemo(()=>({show:n,appear:a,initial:C}),[n,a,C]);tr(()=>{n?E("visible"):!pd(O)&&d.current!==null&&E("hidden")},[n,O]);let F={unmount:l},P=sn(()=>{var q;C&&R(!1),(q=e.beforeEnter)==null||q.call(e)}),B=sn(()=>{var q;C&&R(!1),(q=e.beforeLeave)==null||q.call(e)}),W=vi();return Ct.createElement(md.Provider,{value:O},Ct.createElement(dd.Provider,{value:k},W({ourProps:{...F,as:K.Fragment,children:Ct.createElement(Rb,{ref:p,...F,...c,beforeEnter:P,beforeLeave:B})},theirProps:{},defaultTag:K.Fragment,features:Nb,visible:b==="visible",name:"Transition"})))}function R8(e,t){let n=K.useContext(dd)!==null,a=hd()!==null;return Ct.createElement(Ct.Fragment,null,!n&&a?Ct.createElement(km,{ref:t,...e}):Ct.createElement(Rb,{ref:t,...e}))}let km=ci(N8),Rb=ci(I8),M8=ci(R8),Mb=Object.assign(km,{Child:M8,Root:km});var A2;let D8=(A2=Ct.startTransition)!=null?A2:function(e){e()};var L8=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(L8||{}),k8=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(k8||{});let P8={0:e=>({...e,disclosureState:Ya(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},Tp=K.createContext(null);Tp.displayName="DisclosureContext";function Op(e){let t=K.useContext(Tp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Op),n}return t}let Ip=K.createContext(null);Ip.displayName="DisclosureAPIContext";function Db(e){let t=K.useContext(Ip);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Db),n}return t}let Np=K.createContext(null);Np.displayName="DisclosurePanelContext";function B8(){return K.useContext(Np)}function j8(e,t){return Ya(t.type,P8,e,t)}let z8=K.Fragment;function U8(e,t){let{defaultOpen:n=!1,...a}=e,l=K.useRef(null),c=Zi(t,Zw(N=>{l.current=N},e.as===void 0||e.as===K.Fragment)),d=K.useReducer(j8,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:y,buttonId:p},g]=d,b=sn(N=>{g({type:1});let k=Ll(l);if(!k||!p)return;let F=N?$s(N)?N:"current"in N&&$s(N.current)?N.current:k.getElementById(p):k.getElementById(p);F==null||F.focus()}),E=K.useMemo(()=>({close:b}),[b]),O=K.useMemo(()=>({open:y===0,close:b}),[y,b]),C={ref:c},R=vi();return Ct.createElement(Tp.Provider,{value:d},Ct.createElement(Ip.Provider,{value:E},Ct.createElement(iA,{value:b},Ct.createElement(Cp,{value:Ya(y,{0:Li.Open,1:Li.Closed})},R({ourProps:C,theirProps:a,slot:O,defaultTag:z8,name:"Disclosure"})))))}let F8="button";function H8(e,t){let n=K.useId(),{id:a=`headlessui-disclosure-button-${n}`,disabled:l=!1,autoFocus:c=!1,...d}=e,[y,p]=Op("Disclosure.Button"),g=B8(),b=g===null?!1:g===y.panelId,E=K.useRef(null),O=Zi(E,t,sn(G=>{if(!b)return p({type:4,element:G})}));K.useEffect(()=>{if(!b)return p({type:2,buttonId:a}),()=>{p({type:2,buttonId:null})}},[a,p,b]);let C=sn(G=>{var J;if(b){if(y.disclosureState===1)return;switch(G.key){case Er.Space:case Er.Enter:G.preventDefault(),G.stopPropagation(),p({type:0}),(J=y.buttonElement)==null||J.focus();break}}else switch(G.key){case Er.Space:case Er.Enter:G.preventDefault(),G.stopPropagation(),p({type:0});break}}),R=sn(G=>{switch(G.key){case Er.Space:G.preventDefault();break}}),N=sn(G=>{var J;Ww(G.currentTarget)||l||(b?(p({type:0}),(J=y.buttonElement)==null||J.focus()):p({type:0}))}),{isFocusVisible:k,focusProps:F}=jw({autoFocus:c}),{isHovered:P,hoverProps:B}=Bw({isDisabled:l}),{pressed:W,pressProps:q}=Uw({disabled:l}),Y=K.useMemo(()=>({open:y.disclosureState===0,hover:P,active:W,disabled:l,focus:k,autofocus:c}),[y,P,W,k,l,c]),V=ob(e,y.buttonElement),ne=qh(b?{ref:O,type:V,disabled:l||void 0,autoFocus:c,onKeyDown:C,onClick:N}:{ref:O,id:a,type:V,"aria-expanded":y.disclosureState===0,"aria-controls":y.panelElement?y.panelId:void 0,disabled:l||void 0,autoFocus:c,onKeyDown:C,onKeyUp:R,onClick:N},F,B,q);return vi()({ourProps:ne,theirProps:d,slot:Y,defaultTag:F8,name:"Disclosure.Button"})}let V8="div",q8=ku.RenderStrategy|ku.Static;function W8(e,t){let n=K.useId(),{id:a=`headlessui-disclosure-panel-${n}`,transition:l=!1,...c}=e,[d,y]=Op("Disclosure.Panel"),{close:p}=Db("Disclosure.Panel"),[g,b]=K.useState(null),E=Zi(t,sn(P=>{D8(()=>y({type:5,element:P}))}),b);K.useEffect(()=>(y({type:3,panelId:a}),()=>{y({type:3,panelId:null})}),[a,y]);let O=hd(),[C,R]=_p(l,g,O!==null?(O&Li.Open)===Li.Open:d.disclosureState===0),N=K.useMemo(()=>({open:d.disclosureState===0,close:p}),[d.disclosureState,p]),k={ref:E,id:a,...yp(R)},F=vi();return Ct.createElement(f8,null,Ct.createElement(Np.Provider,{value:d.panelId},F({ourProps:k,theirProps:c,slot:N,defaultTag:V8,features:q8,visible:C,name:"Disclosure.Panel"})))}let G8=ci(U8),Z8=ci(H8),Y8=ci(W8),Al=Object.assign(G8,{Button:Z8,Panel:Y8});function X8(e,t){let n=K.useRef({left:0,top:0});if(tr(()=>{if(!t)return;let l=t.getBoundingClientRect();l&&(n.current=l)},[e,t]),t==null||!e||t===document.activeElement)return!1;let a=t.getBoundingClientRect();return a.top!==n.current.top||a.left!==n.current.left}let T2=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function O2(e){var t,n;let a=(t=e.innerText)!=null?t:"",l=e.cloneNode(!0);if(!Js(l))return a;let c=!1;for(let y of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))y.remove(),c=!0;let d=c?(n=l.innerText)!=null?n:"":a;return T2.test(d)&&(d=d.replace(T2,"")),d}function $8(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let a=n.split(" ").map(l=>{let c=document.getElementById(l);if(c){let d=c.getAttribute("aria-label");return typeof d=="string"?d.trim():O2(c).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return O2(e).trim()}function K8(e){let t=K.useRef(""),n=K.useRef("");return sn(()=>{let a=e.current;if(!a)return"";let l=a.innerText;if(t.current===l)return n.current;let c=$8(a).trim().toLowerCase();return t.current=l,n.current=c,c})}var Q8=Object.defineProperty,J8=(e,t,n)=>t in e?Q8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I2=(e,t,n)=>(J8(e,typeof t!="symbol"?t+"":t,n),n),gi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gi||{}),Yh=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Yh||{}),Wn=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(Wn||{});function N2(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=ab(t(e.items.slice()),c=>c.dataRef.current.domRef.current),l=n?a.indexOf(n):null;return l===-1&&(l=null),{items:a,activeItemIndex:l}}let e6={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:Dr.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var n,a,l,c,d;if(e.menuState===1)return e;let y={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Dr.Nothing)return{...y,activeItemIndex:null};if(t.focus===Dr.Specific)return{...y,activeItemIndex:e.items.findIndex(b=>b.id===t.id)};if(t.focus===Dr.Previous){let b=e.activeItemIndex;if(b!==null){let E=e.items[b].dataRef.current.domRef,O=ch(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.current.disabled});if(O!==null){let C=e.items[O].dataRef.current.domRef;if(((a=E.current)==null?void 0:a.previousElementSibling)===C.current||((l=C.current)==null?void 0:l.previousElementSibling)===null)return{...y,activeItemIndex:O}}}}else if(t.focus===Dr.Next){let b=e.activeItemIndex;if(b!==null){let E=e.items[b].dataRef.current.domRef,O=ch(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.current.disabled});if(O!==null){let C=e.items[O].dataRef.current.domRef;if(((c=E.current)==null?void 0:c.nextElementSibling)===C.current||((d=C.current)==null?void 0:d.nextElementSibling)===null)return{...y,activeItemIndex:O}}}}let p=N2(e),g=ch(t,{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});return{...y,...p,activeItemIndex:g}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(d=>{var y;return((y=d.dataRef.current.textValue)==null?void 0:y.startsWith(a))&&!d.dataRef.current.disabled}),c=l?e.items.indexOf(l):-1;return c===-1||c===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:c,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(l=>l)),a=e.activeItemIndex;return e.pendingFocus.focus!==Dr.Nothing&&(a=ch(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled})),{...e,items:n,activeItemIndex:a,pendingFocus:{focus:Dr.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,a=[],l=new Set(t.items);for(let[c,d]of n.entries())if(l.has(d.id)&&(a.push(c),l.delete(d.id),l.size===0))break;if(a.length>0){n=n.slice();for(let c of a.reverse())n.splice(c,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...N2(e),pendingShouldSort:!1}:e};class Rp extends Qw{constructor(t){super(t),I2(this,"actions",{registerItem:n2(()=>{let n=[],a=new Set;return[(l,c)=>{a.has(c)||(a.add(c),n.push({id:l,dataRef:c}))},()=>(a.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:n2(()=>{let n=[];return[a=>n.push(a),()=>this.send({type:6,items:n.splice(0)})]})}),I2(this,"selectors",{activeDescendantId(n){var a;let l=n.activeItemIndex,c=n.items;return l===null||(a=c[l])==null?void 0:a.id},isActive(n,a){var l;let c=n.activeItemIndex,d=n.items;return c!==null?((l=d[c])==null?void 0:l.id)===a:!1},shouldScrollIntoView(n,a){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,a)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,a=pp.get(null);this.disposables.add(a.on(eb.Push,l=>{!a.selectors.isTop(l,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>a.actions.push(n)),this.on(1,()=>a.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new Rp({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Dr.Nothing}})}reduce(t,n){return Ya(n.type,e6,t,n)}}const Lb=K.createContext(null);function Mp(e){let t=K.useContext(Lb);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kb),n}return t}function kb({id:e,__demoMode:t=!1}){let n=K.useMemo(()=>Rp.new({id:e,__demoMode:t}),[]);return Sb(()=>n.dispose()),n}let t6=K.Fragment;function n6(e,t){let n=K.useId(),{__demoMode:a=!1,...l}=e,c=kb({id:n,__demoMode:a}),[d,y,p]=ws(c,k=>[k.menuState,k.itemsElement,k.buttonElement]),g=Zi(t),b=pp.get(null),E=ws(b,K.useCallback(k=>b.selectors.isTop(k,n),[b,n]));MA(E,[p,y],(k,F)=>{var P;c.send({type:Wn.CloseMenu}),vp(F,gp.Loose)||(k.preventDefault(),(P=c.state.buttonElement)==null||P.focus())});let O=sn(()=>{c.send({type:Wn.CloseMenu})}),C=K.useMemo(()=>({open:d===gi.Open,close:O}),[d,O]),R={ref:g},N=vi();return Ct.createElement(l8,null,Ct.createElement(Lb.Provider,{value:c},Ct.createElement(Cp,{value:Ya(d,{[gi.Open]:Li.Open,[gi.Closed]:Li.Closed})},N({ourProps:R,theirProps:l,slot:C,defaultTag:t6,name:"Menu"}))))}let r6="button";function i6(e,t){let n=Mp("Menu.Button"),a=K.useId(),{id:l=`headlessui-menu-button-${a}`,disabled:c=!1,autoFocus:d=!1,...y}=e,p=K.useRef(null),g=a8(),b=Zi(t,p,i8(),sn(J=>n.send({type:Wn.SetButtonElement,element:J}))),E=sn(J=>{switch(J.key){case Er.Space:case Er.Enter:case Er.ArrowDown:J.preventDefault(),J.stopPropagation(),n.send({type:Wn.OpenMenu,focus:{focus:Dr.First}});break;case Er.ArrowUp:J.preventDefault(),J.stopPropagation(),n.send({type:Wn.OpenMenu,focus:{focus:Dr.Last}});break}}),O=sn(J=>{switch(J.key){case Er.Space:J.preventDefault();break}}),[C,R,N]=ws(n,J=>[J.menuState,J.buttonElement,J.itemsElement]),k=C===gi.Open;kA(k,{trigger:R,action:K.useCallback(J=>{if(R!=null&&R.contains(J.target))return lh.Ignore;let Q=J.target.closest('[role="menuitem"]:not([data-disabled])');return Js(Q)?lh.Select(Q):N!=null&&N.contains(J.target)?lh.Ignore:lh.Close},[R,N]),close:K.useCallback(()=>n.send({type:Wn.CloseMenu}),[]),select:K.useCallback(J=>J.click(),[])});let F=sn(J=>{var Q;if(J.button===0){if(Ww(J.currentTarget))return J.preventDefault();c||(C===gi.Open?(Es.flushSync(()=>n.send({type:Wn.CloseMenu})),(Q=p.current)==null||Q.focus({preventScroll:!0})):(J.preventDefault(),n.send({type:Wn.OpenMenu,focus:{focus:Dr.Nothing},trigger:Yh.Pointer})))}}),{isFocusVisible:P,focusProps:B}=jw({autoFocus:d}),{isHovered:W,hoverProps:q}=Bw({isDisabled:c}),{pressed:Y,pressProps:V}=Uw({disabled:c}),ne=K.useMemo(()=>({open:C===gi.Open,active:Y||C===gi.Open,disabled:c,hover:W,focus:P,autofocus:d}),[C,W,P,Y,c,d]),G=qh(g(),{ref:b,id:l,type:ob(e,p.current),"aria-haspopup":"menu","aria-controls":N==null?void 0:N.id,"aria-expanded":C===gi.Open,disabled:c||void 0,autoFocus:d,onKeyDown:E,onKeyUp:O,onPointerDown:F},B,q,V);return vi()({ourProps:G,theirProps:y,slot:ne,defaultTag:r6,name:"Menu.Button"})}let a6="div",s6=ku.RenderStrategy|ku.Static;function o6(e,t){let n=K.useId(),{id:a=`headlessui-menu-items-${n}`,anchor:l,portal:c=!1,modal:d=!0,transition:y=!1,...p}=e,g=r8(l),b=Mp("Menu.Items"),[E,O]=o8(g),C=s8(),[R,N]=K.useState(null),k=Zi(t,g?E:null,sn(fe=>b.send({type:Wn.SetItemsElement,element:fe})),N),[F,P]=ws(b,fe=>[fe.menuState,fe.buttonElement]),B=Rm(P),W=Rm(R);g&&(c=!0);let q=hd(),[Y,V]=_p(y,R,q!==null?(q&Li.Open)===Li.Open:F===gi.Open);_A(Y,P,()=>{b.send({type:Wn.CloseMenu})});let ne=ws(b,fe=>fe.__demoMode),G=ne?!1:d&&F===gi.Open;VA(G,W);let J=ne?!1:d&&F===gi.Open;yA(J,{allowed:K.useCallback(()=>[P,R],[P,R])});let Q=F!==gi.Open,H=X8(Q,P)?!1:Y;K.useEffect(()=>{let fe=R;fe&&F===gi.Open&&fe!==(W==null?void 0:W.activeElement)&&fe.focus({preventScroll:!0})},[F,R,W]),KA(F===gi.Open,{container:R,accept(fe){return fe.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:fe.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(fe){fe.setAttribute("role","none")}});let ee=lf(),z=sn(fe=>{var se,ue,pe;switch(ee.dispose(),fe.key){case Er.Space:if(b.state.searchQuery!=="")return fe.preventDefault(),fe.stopPropagation(),b.send({type:Wn.Search,value:fe.key});case Er.Enter:if(fe.preventDefault(),fe.stopPropagation(),b.state.activeItemIndex!==null){let{dataRef:Ie}=b.state.items[b.state.activeItemIndex];(ue=(se=Ie.current)==null?void 0:se.domRef.current)==null||ue.click()}b.send({type:Wn.CloseMenu}),ib(b.state.buttonElement);break;case Er.ArrowDown:return fe.preventDefault(),fe.stopPropagation(),b.send({type:Wn.GoToItem,focus:Dr.Next});case Er.ArrowUp:return fe.preventDefault(),fe.stopPropagation(),b.send({type:Wn.GoToItem,focus:Dr.Previous});case Er.Home:case Er.PageUp:return fe.preventDefault(),fe.stopPropagation(),b.send({type:Wn.GoToItem,focus:Dr.First});case Er.End:case Er.PageDown:return fe.preventDefault(),fe.stopPropagation(),b.send({type:Wn.GoToItem,focus:Dr.Last});case Er.Escape:fe.preventDefault(),fe.stopPropagation(),Es.flushSync(()=>b.send({type:Wn.CloseMenu})),(pe=b.state.buttonElement)==null||pe.focus({preventScroll:!0});break;case Er.Tab:fe.preventDefault(),fe.stopPropagation(),Es.flushSync(()=>b.send({type:Wn.CloseMenu})),OA(b.state.buttonElement,fe.shiftKey?Nm.Previous:Nm.Next);break;default:fe.key.length===1&&(b.send({type:Wn.Search,value:fe.key}),ee.setTimeout(()=>b.send({type:Wn.ClearSearch}),350));break}}),Z=sn(fe=>{switch(fe.key){case Er.Space:fe.preventDefault();break}}),ye=K.useMemo(()=>({open:F===gi.Open}),[F]),he=qh(g?C():{},{"aria-activedescendant":ws(b,b.selectors.activeDescendantId),"aria-labelledby":ws(b,fe=>{var se;return(se=fe.buttonElement)==null?void 0:se.id}),id:a,onKeyDown:z,onKeyUp:Z,role:"menu",tabIndex:F===gi.Open?0:void 0,ref:k,style:{...p.style,...O,"--button-width":sA(P,!0).width},...yp(V)}),ge=vi();return Ct.createElement(S8,{enabled:c?e.static||Y:!1,ownerDocument:B},ge({ourProps:he,theirProps:p,slot:ye,defaultTag:a6,features:s6,visible:H,name:"Menu.Items"}))}let l6=K.Fragment;function u6(e,t){let n=K.useId(),{id:a=`headlessui-menu-item-${n}`,disabled:l=!1,...c}=e,d=Mp("Menu.Item"),y=ws(d,Q=>d.selectors.isActive(Q,a)),p=K.useRef(null),g=Zi(t,p),b=ws(d,Q=>d.selectors.shouldScrollIntoView(Q,a));tr(()=>{if(b)return Da().requestAnimationFrame(()=>{var Q,H;(H=(Q=p.current)==null?void 0:Q.scrollIntoView)==null||H.call(Q,{block:"nearest"})})},[b,p]);let E=K8(p),O=K.useRef({disabled:l,domRef:p,get textValue(){return E()}});tr(()=>{O.current.disabled=l},[O,l]),tr(()=>(d.actions.registerItem(a,O),()=>d.actions.unregisterItem(a)),[O,a]);let C=sn(()=>{d.send({type:Wn.CloseMenu})}),R=sn(Q=>{if(l)return Q.preventDefault();d.send({type:Wn.CloseMenu}),ib(d.state.buttonElement)}),N=sn(()=>{if(l)return d.send({type:Wn.GoToItem,focus:Dr.Nothing});d.send({type:Wn.GoToItem,focus:Dr.Specific,id:a})}),k=qA(),F=sn(Q=>{k.update(Q),!l&&(y||d.send({type:Wn.GoToItem,focus:Dr.Specific,id:a,trigger:Yh.Pointer}))}),P=sn(Q=>{k.wasMoved(Q)&&(l||y||d.send({type:Wn.GoToItem,focus:Dr.Specific,id:a,trigger:Yh.Pointer}))}),B=sn(Q=>{k.wasMoved(Q)&&(l||y&&d.send({type:Wn.GoToItem,focus:Dr.Nothing}))}),[W,q]=Xw(),[Y,V]=XC(),ne=K.useMemo(()=>({active:y,focus:y,disabled:l,close:C}),[y,l,C]),G={id:a,ref:g,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-labelledby":W,"aria-describedby":Y,disabled:void 0,onClick:R,onFocus:N,onPointerEnter:F,onMouseEnter:F,onPointerMove:P,onMouseMove:P,onPointerLeave:B,onMouseLeave:B},J=vi();return Ct.createElement(q,null,Ct.createElement(V,null,J({ourProps:G,theirProps:c,slot:ne,defaultTag:l6,name:"Menu.Item"})))}let c6="div";function f6(e,t){let[n,a]=Xw(),l=e,c={ref:t,"aria-labelledby":n,role:"group"},d=vi();return Ct.createElement(a,null,d({ourProps:c,theirProps:l,slot:{},defaultTag:c6,name:"Menu.Section"}))}let h6="header";function d6(e,t){let n=K.useId(),{id:a=`headlessui-menu-heading-${n}`,...l}=e,c=mp();tr(()=>c.register(a),[a,c.register]);let d={id:a,ref:t,role:"presentation",...c.props};return vi()({ourProps:d,theirProps:l,slot:{},defaultTag:h6,name:"Menu.Heading"})}let m6="div";function p6(e,t){let n=e,a={ref:t,role:"separator"};return vi()({ourProps:a,theirProps:n,slot:{},defaultTag:m6,name:"Menu.Separator"})}let g6=ci(n6),v6=ci(i6),y6=ci(o6),_6=ci(u6),x6=ci(f6),w6=ci(d6),b6=ci(p6),fh=Object.assign(g6,{Button:v6,Items:y6,Item:_6,Section:x6,Heading:w6,Separator:b6});function E6({title:e,titleId:t,...n},a){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?K.createElement("title",{id:t},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const S6=K.forwardRef(E6);function C6({title:e,titleId:t,...n},a){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?K.createElement("title",{id:t},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Pb=K.forwardRef(C6);function A6({title:e,titleId:t,...n},a){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?K.createElement("title",{id:t},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const T6=K.forwardRef(A6);var Bb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R2=Ct.createContext&&Ct.createContext(Bb),O6=["attr","size","title"];function I6(e,t){if(e==null)return{};var n=N6(e,t),a,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)a=c[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function N6(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xh.apply(this,arguments)}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(a){R6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function R6(e,t,n){return t=M6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M6(e){var t=D6(e,"string");return typeof t=="symbol"?t:t+""}function D6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jb(e){return e&&e.map((t,n)=>Ct.createElement(t.tag,$h({key:n},t.attr),jb(t.child)))}function fn(e){return t=>Ct.createElement(L6,Xh({attr:$h({},e.attr)},t),jb(e.child))}function L6(e){var t=n=>{var{attr:a,size:l,title:c}=e,d=I6(e,O6),y=l||n.size||"1em",p;return n.className&&(p=n.className),e.className&&(p=(p?p+" ":"")+e.className),Ct.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:p,style:$h($h({color:e.color||n.color},n.style),e.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),c&&Ct.createElement("title",null,c),e.children)};return R2!==void 0?Ct.createElement(R2.Consumer,null,n=>t(n)):t(Bb)}function k6(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(e)}function P6(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function B6(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(e)}const zb="/assets/Boruya%20Logo-CuxETzjd.png",D2=[{id:1,name:"",href:"/#"},{id:2,name:"",children:[{id:21,name:"",href:"/NewsAndEvent"},{id:22,name:"",href:"/Game"},{id:23,name:"",href:"/Voucher"}]},{id:3,name:"",href:"/register"},{id:4,name:"",href:"/contact"},{id:5,name:"",href:"/Menu"},{id:6,name:"",children:[{id:61,name:"",href:"/TermsOfService"},{id:62,name:"",href:"/PrivacyPolicy"},{id:62,name:"",href:"/TermOfService"}]}];function Bu(...e){return e.filter(Boolean).join(" ")}const j6=e=>{const[t,n]=K.useState("up"),[a,l]=K.useState(0),[c,d]=K.useState(!0),y=80,p=K.useCallback(()=>{const O=window.scrollY;if(e){n("up");return}O>a&&O>y?n("down"):n("up"),d(O<y),l(O<=0?0:O)},[a,e]);return K.useEffect(()=>(window.addEventListener("scroll",p,{passive:!0}),()=>window.removeEventListener("scroll",p)),[p]),Bu("fixed top-0 left-0 right-0 w-full z-30 transition-all duration-300 ease-in-out",t==="up"?"translate-y-0":"-translate-y-full",!c&&t==="up"?"shadow-lg shadow-black/20":"",c?"bg-gray-800/95":"bg-gray-800/90 backdrop-blur-sm")},z6=({item:e,isCurrent:t})=>D.jsxs(jo,{to:e.href,className:"group relative rounded-lg px-3 py-2 text-[14px] font-medium text-gray-200 transition-colors duration-200 hover:text-white","aria-current":t?"page":void 0,children:[e.name,D.jsx("span",{className:Bu("absolute bottom-0 left-0 h-0.5 w-full bg-white transition-transform duration-300 ease-out",t?"scale-x-100":"scale-x-0 group-hover:scale-x-100")})]}),U6=({item:e,isCurrent:t,location:n})=>D.jsxs(fh,{as:"div",className:"relative",children:[D.jsxs(fh.Button,{className:"group inline-flex items-center rounded-lg px-3 py-2 text-[14px] font-medium text-gray-200 transition-colors duration-200 hover:text-white focus:outline-none",children:[D.jsx("span",{children:e.name}),D.jsx(Pb,{className:"ml-1.5 size-4 transition-transform duration-200 group-data-[open]:rotate-180","aria-hidden":"true"}),D.jsx("span",{className:Bu("absolute bottom-0 left-0 h-0.5 w-full bg-white transition-transform duration-300 ease-out",t?"scale-x-100":"scale-x-0 group-hover:scale-x-100")})]}),D.jsx(Mb,{as:K.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95 -translate-y-2",enterTo:"transform opacity-100 scale-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"transform opacity-100 scale-100 translate-y-0",leaveTo:"transform opacity-0 scale-95 -translate-y-2",children:D.jsx(fh.Items,{className:"absolute left-0 z-20 mt-2 w-56 origin-top-left rounded-xl bg-gray-900/80 p-1.5 shadow-xl backdrop-blur-md ring-1 ring-white/10 focus:outline-none",children:e.children.map(a=>D.jsx(fh.Item,{children:({active:l})=>D.jsx(jo,{to:a.href,className:Bu(l?"bg-gray-700 text-white":"text-gray-200",n.pathname===a.href?"font-semibold":"","block rounded-lg px-3 py-2.5 text-[14px] transition-colors"),children:a.name})},a.id))})})]}),Ub=({item:e,isCurrent:t,close:n})=>D.jsx(Al.Button,{as:jo,to:e.href,onClick:n,className:Bu(t?"bg-gray-700 text-white":"text-gray-200 hover:bg-gray-700/60 hover:text-white","block rounded-md px-3 py-2.5 text-base font-medium transition-colors"),"aria-current":t?"page":void 0,children:e.name}),F6=({item:e,location:t,close:n})=>D.jsx(Al,{as:"div",className:"space-y-1",children:({open:a})=>D.jsxs(D.Fragment,{children:[D.jsxs(Al.Button,{className:"w-full flex justify-between items-center rounded-md px-3 py-2.5 text-base font-medium text-gray-200 hover:bg-gray-700/60 hover:text-white transition-colors",children:[D.jsx("span",{children:e.name}),D.jsx(Pb,{className:Bu(a?"rotate-180":"","h-5 w-5 transition-transform")})]}),D.jsx(Mb,{enter:"transition-all ease-out duration-300",enterFrom:"opacity-0 max-h-0",enterTo:"opacity-100 max-h-96",leave:"transition-all ease-in duration-200",leaveFrom:"opacity-100 max-h-96",leaveTo:"opacity-0 max-h-0",children:D.jsx(Al.Panel,{className:"pl-4 space-y-1 overflow-hidden",children:e.children.map(l=>D.jsx(Ub,{item:l,isCurrent:t.pathname===l.href,close:n},l.id))})})]})}),L2=()=>D.jsx("div",{className:"flex items-center space-x-4",children:[{name:"X (Twitter)",href:"https://twitter.com",icon:B6},{name:"Facebook",href:"https://www.facebook.com/Boruyasushi",icon:k6},{name:"Instagram",href:"https://www.instagram.com/boruyasushi/",icon:P6}].map(e=>D.jsxs("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 transition-all duration-300 hover:text-white hover:scale-110",children:[D.jsx("span",{className:"sr-only",children:e.name}),D.jsx(e.icon,{"aria-hidden":"true",className:"size-5"})]},e.name))});function H6(){const e=sf();return e.pathname==="/idol_Blackneko"?D.jsx("nav",{className:"bg-slate-900 text-white p-4",children:D.jsx("div",{className:"mx-auto max-w-7xl",children:D.jsx("p",{children:" Idol Blackneko"})})}):D.jsx(Al,{as:"nav",children:({open:n,close:a})=>{const l=j6(n);return D.jsxs("div",{className:l,children:[D.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"relative flex h-20 items-center justify-between",children:[D.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:D.jsxs(Al.Button,{className:"group p-2 text-gray-200 hover:bg-gray-700/60 hover:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-white",children:[D.jsx("span",{className:"sr-only",children:"Open main menu"}),n?D.jsx(T6,{"aria-hidden":"true",className:"block size-6"}):D.jsx(S6,{"aria-hidden":"true",className:"block size-6"})]})}),D.jsx("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:D.jsx(jo,{to:"/",className:"flex-shrink-0",children:D.jsx("img",{alt:"Boruya Sushi Logo",src:zb,className:"h-12 md:h-16 w-auto transition-transform duration-300 hover:scale-105 grayscale"})})}),D.jsx("div",{className:"absolute left-1/2 top-1/2 hidden -translate-x-1/2 -translate-y-1/2 sm:block",children:D.jsx("div",{className:"flex space-x-1 md:space-x-2",children:D2.map(c=>{const d=e.pathname===c.href||c.children&&c.children.some(y=>e.pathname===y.href);return c.children?D.jsx(U6,{item:c,isCurrent:d,location:e},c.id):D.jsx(z6,{item:c,isCurrent:d},c.id)})})}),D.jsx("div",{className:"absolute inset-y-0 right-0 hidden items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0 sm:flex",children:D.jsx(L2,{})})]})}),D.jsx(Al.Panel,{className:"sm:hidden border-t border-gray-700/50 bg-gray-800",children:D.jsxs("div",{className:"space-y-2 px-2 pt-2 pb-4",children:[D2.map(c=>{const d=e.pathname===c.href;return c.children?D.jsx(F6,{item:c,location:e,close:a},c.id):D.jsx(Ub,{item:c,isCurrent:d,close:a},c.id)}),D.jsx("div",{className:"pt-4 mt-4 border-t border-gray-700/50 flex justify-center",children:D.jsx(L2,{})})]})})]})}})}const V6="modulepreload",q6=function(e){return"/"+e},k2={},Xr=function(t,n,a){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),y=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(n.map(p=>{if(p=q6(p),p in k2)return;k2[p]=!0;const g=p.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":V6,g||(E.as="script"),E.crossOrigin="",E.href=p,y&&E.setAttribute("nonce",y),document.head.appendChild(E),g)return new Promise((O,C)=>{E.addEventListener("load",O),E.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=d,window.dispatchEvent(y),!y.defaultPrevented)throw d}return l.then(d=>{for(const y of d||[])y.status==="rejected"&&c(y.reason);return t().catch(c)})},W6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xr(async()=>{const{default:a}=await Promise.resolve().then(()=>qu);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Dp extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class P2 extends Dp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B2 extends Dp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j2 extends Dp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pm||(Pm={}));var G6=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};class Z6{constructor(t,{headers:n={},customFetch:a,region:l=Pm.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=W6(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var a;return G6(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:d,signal:y}=n;let p={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${t}`);g&&g!=="any"&&(p["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let E;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(p["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(p["Content-Type"]="application/json",E=JSON.stringify(d)));const O=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:E,signal:y}).catch(k=>{throw k.name==="AbortError"?k:new P2(k)}),C=O.headers.get("x-relay-error");if(C&&C==="true")throw new B2(O);if(!O.ok)throw new j2(O);let R=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return R==="application/json"?N=yield O.json():R==="application/octet-stream"?N=yield O.blob():R==="text/event-stream"?N=O:R==="multipart/form-data"?N=yield O.formData():N=yield O.text(),{data:N,error:null,response:O}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new P2(l)}:{data:null,error:l,response:l instanceof j2||l instanceof B2?l.context:void 0}}})}}var li={},pu={},gu={},vu={},yu={},_u={},Y6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ju=Y6();const X6=ju.fetch,Fb=ju.fetch.bind(ju),Hb=ju.Headers,$6=ju.Request,K6=ju.Response,qu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hb,Request:$6,Response:K6,default:Fb,fetch:X6},Symbol.toStringTag,{value:"Module"})),Q6=lw(qu);var hh={},z2;function Vb(){if(z2)return hh;z2=1,Object.defineProperty(hh,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return hh.default=e,hh}var U2;function qb(){if(U2)return _u;U2=1;var e=_u&&_u.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(_u,"__esModule",{value:!0});const t=e(Q6),n=e(Vb());class a{constructor(c){var d,y;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(y=c.isMaybeSingle)!==null&&y!==void 0?y:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const y=this.fetch;let p=y(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var b,E,O,C;let R=null,N=null,k=null,F=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Y=await g.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?N=Y:N=JSON.parse(Y))}const W=(E=this.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),q=(O=g.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");W&&q&&q.length>1&&(k=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(R={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,k=null,F=406,P="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const W=await g.text();try{R=JSON.parse(W),Array.isArray(R)&&g.status===404&&(N=[],R=null,F=200,P="OK")}catch{g.status===404&&W===""?(F=204,P="No Content"):R={message:W}}if(R&&this.isMaybeSingle&&(!((C=R==null?void 0:R.details)===null||C===void 0)&&C.includes("0 rows"))&&(R=null,F=200,P="OK"),R&&this.shouldThrowOnError)throw new n.default(R)}return{error:R,data:N,count:k,status:F,statusText:P}});return this.shouldThrowOnError||(p=p.catch(g=>{var b,E,O;return{error:{message:`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(E=g==null?void 0:g.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(O=g==null?void 0:g.code)!==null&&O!==void 0?O:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return _u.default=a,_u}var F2;function Wb(){if(F2)return yu;F2=1;var e=yu&&yu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yu,"__esModule",{value:!0});const t=e(qb());class n extends t.default{select(l){let c=!1;const d=(l??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:d,foreignTable:y,referencedTable:p=y}={}){const g=p?`${p}.order`:"order",b=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${b?`${b},`:""}${l}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:d=c}={}){const y=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(y,`${l}`),this}range(l,c,{foreignTable:d,referencedTable:y=d}={}){const p=typeof y>"u"?"offset":`${y}.offset`,g=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(g,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:d=!1,buffers:y=!1,wal:p=!1,format:g="text"}={}){var b;const E=[l?"analyze":null,c?"verbose":null,d?"settings":null,y?"buffers":null,p?"wal":null].filter(Boolean).join("|"),O=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${O}"; options=${E};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return yu.default=n,yu}var H2;function Lp(){if(H2)return vu;H2=1;var e=vu&&vu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vu,"__esModule",{value:!0});const t=e(Wb());class n extends t.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(y=>typeof y=="string"&&new RegExp("[,()]").test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:y}={}){let p="";y==="plain"?p="pl":y==="phrase"?p="ph":y==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const y=d?`${d}.or`:"or";return this.url.searchParams.append(y,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return vu.default=n,vu}var V2;function Gb(){if(V2)return gu;V2=1;var e=gu&&gu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gu,"__esModule",{value:!0});const t=e(Lp());class n{constructor(l,{headers:c={},schema:d,fetch:y}){this.url=l,this.headers=new Headers(c),this.schema=d,this.fetch=y}select(l,{head:c=!1,count:d}={}){const y=c?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:d=!0}={}){var y;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(g.length>0){const b=[...new Set(g)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:d=!1,count:y,defaultToNull:p=!0}={}){var g;const b="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),y&&this.headers.append("Prefer",`count=${y}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const E=l.reduce((O,C)=>O.concat(Object.keys(C)),[]);if(E.length>0){const O=[...new Set(E)].map(C=>`"${C}"`);this.url.searchParams.set("columns",O.join(","))}}return new t.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:c}={}){var d;const y="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var c;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return gu.default=n,gu}var q2;function J6(){if(q2)return pu;q2=1;var e=pu&&pu.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(pu,"__esModule",{value:!0});const t=e(Gb()),n=e(Lp());class a{constructor(c,{headers:d={},schema:y,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=y,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:y=!1,get:p=!1,count:g}={}){var b;let E;const O=new URL(`${this.url}/rpc/${c}`);let C;y||p?(E=y?"HEAD":"GET",Object.entries(d).filter(([N,k])=>k!==void 0).map(([N,k])=>[N,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([N,k])=>{O.searchParams.append(N,k)})):(E="POST",C=d);const R=new Headers(this.headers);return g&&R.set("Prefer",`count=${g}`),new n.default({method:E,url:O,headers:R,schema:this.schemaName,body:C,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return pu.default=a,pu}var W2;function e5(){if(W2)return li;W2=1;var e=li&&li.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(li,"__esModule",{value:!0}),li.PostgrestError=li.PostgrestBuilder=li.PostgrestTransformBuilder=li.PostgrestFilterBuilder=li.PostgrestQueryBuilder=li.PostgrestClient=void 0;const t=e(J6());li.PostgrestClient=t.default;const n=e(Gb());li.PostgrestQueryBuilder=n.default;const a=e(Lp());li.PostgrestFilterBuilder=a.default;const l=e(Wb());li.PostgrestTransformBuilder=l.default;const c=e(qb());li.PostgrestBuilder=c.default;const d=e(Vb());return li.PostgrestError=d.default,li.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:d.default},li}var t5=e5();const n5=Vo(t5),{PostgrestClient:r5,PostgrestQueryBuilder:s7,PostgrestFilterBuilder:o7,PostgrestTransformBuilder:l7,PostgrestBuilder:u7,PostgrestError:c7}=n5;class i5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a5="2.15.5",s5=`realtime-js/${a5}`,o5="1.0.0",Bm=1e4,l5=1e3,u5=100;var Xc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xc||(Xc={}));var Yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yr||(Yr={}));var Wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wa||(Wa={}));var jm;(function(e){e.websocket="websocket"})(jm||(jm={}));var wl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wl||(wl={}));class c5{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const l=n.getUint8(1),c=n.getUint8(2);let d=this.HEADER_LENGTH+2;const y=a.decode(t.slice(d,d+l));d=d+l;const p=a.decode(t.slice(d,d+c));d=d+c;const g=JSON.parse(a.decode(t.slice(d,t.byteLength)));return{ref:null,topic:y,event:p,payload:g}}}class Zb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var er;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(er||(er={}));const G2=(e,t,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((c,d)=>(c[d]=f5(d,e,t,l),c),{})},f5=(e,t,n,a)=>{const l=t.find(y=>y.name===e),c=l==null?void 0:l.type,d=n[e];return c&&!a.includes(c)?Yb(c,d):zm(d)},Yb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return p5(t,n)}switch(e){case er.bool:return h5(t);case er.float4:case er.float8:case er.int2:case er.int4:case er.int8:case er.numeric:case er.oid:return d5(t);case er.json:case er.jsonb:return m5(t);case er.timestamp:return g5(t);case er.abstime:case er.date:case er.daterange:case er.int4range:case er.int8range:case er.money:case er.reltime:case er.text:case er.time:case er.timestamptz:case er.timetz:case er.tsrange:case er.tstzrange:return zm(t);default:return zm(t)}},zm=e=>e,h5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},d5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},m5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},p5=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let c;const d=e.slice(1,n);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(y=>Yb(t,y))}return e},g5=e=>typeof e=="string"?e.replace(" ","T"):e,Xb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class _1{constructor(t,n,a={},l=Bm){this.channel=t,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z2||(Z2={}));class $c{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:d,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$c.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=$c.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],y()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=$c.syncDiff(this.state,l,c,d),y())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,l){const c=this.cloneDeep(t),d=this.transformState(n),y={},p={};return this.map(c,(g,b)=>{d[g]||(p[g]=b)}),this.map(d,(g,b)=>{const E=c[g];if(E){const O=b.map(k=>k.presence_ref),C=E.map(k=>k.presence_ref),R=b.filter(k=>C.indexOf(k.presence_ref)<0),N=E.filter(k=>O.indexOf(k.presence_ref)<0);R.length>0&&(y[g]=R),N.length>0&&(p[g]=N)}else y[g]=b}),this.syncDiff(c,{joins:y,leaves:p},a,l)}static syncDiff(t,n,a,l){const{joins:c,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(y,p)=>{var g;const b=(g=t[y])!==null&&g!==void 0?g:[];if(t[y]=this.cloneDeep(p),b.length>0){const E=t[y].map(C=>C.presence_ref),O=b.filter(C=>E.indexOf(C.presence_ref)<0);t[y].unshift(...O)}a(y,b,p)}),this.map(d,(y,p)=>{let g=t[y];if(!g)return;const b=p.map(E=>E.presence_ref);g=g.filter(E=>b.indexOf(E.presence_ref)<0),t[y]=g,l(y,g,p),g.length===0&&delete t[y]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const l=t[a];return"metas"in l?n[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Y2||(Y2={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var Xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xs||(Xs={}));class kp{constructor(t,n={config:{}},a){this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _1(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new Zb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new $c(this),this.broadcastEndpointURL=Xb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Yr.closed){const{config:{broadcast:d,presence:y,private:p}}=this.params,g=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[Kc.PRESENCE]&&this.bindings[Kc.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,E={},O={broadcast:d,presence:Object.assign(Object.assign({},y),{enabled:b}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(C=>t==null?void 0:t(Xs.CHANNEL_ERROR,C)),this._onClose(()=>t==null?void 0:t(Xs.CLOSED)),this.updateJoinPayload(Object.assign({config:O},E)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var R;if(this.socket.setAuth(),C===void 0){t==null||t(Xs.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(R=N==null?void 0:N.length)!==null&&R!==void 0?R:0,F=[];for(let P=0;P<k;P++){const B=N[P],{filter:{event:W,schema:q,table:Y,filter:V}}=B,ne=C&&C[P];if(ne&&ne.event===W&&ne.schema===q&&ne.table===Y&&ne.filter===V)F.push(Object.assign(Object.assign({},B),{id:ne.id}));else{this.unsubscribe(),this.state=Yr.errored,t==null||t(Xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=F,t&&t(Xs.SUBSCRIBED);return}}).receive("error",C=>{this.state=Yr.errored,t==null||t(Xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Yr.joined&&t===Kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async send(t,n={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,y,p;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(y=(d=this.params)===null||d===void 0?void 0:d.config)===null||y===void 0?void 0:y.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new _1(this,Wa.leave,{},t),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yr.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),d}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new _1(this,t,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>u5){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var l,c;const d=t.toLocaleLowerCase(),{close:y,error:p,leave:g,join:b}=Wa;if(a&&[y,p,g,b].indexOf(d)>=0&&a!==this._joinRef())return;let O=this._onMessage(d,n,a);if(n&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var R,N,k;return((R=C.filter)===null||R===void 0?void 0:R.event)==="*"||((k=(N=C.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(C=>C.callback(O,a)):(c=this.bindings[d])===null||c===void 0||c.filter(C=>{var R,N,k,F,P,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const W=C.id,q=(R=C.filter)===null||R===void 0?void 0:R.event;return W&&((N=n.ids)===null||N===void 0?void 0:N.includes(W))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const W=(P=(F=C==null?void 0:C.filter)===null||F===void 0?void 0:F.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return W==="*"||W===((B=n==null?void 0:n.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof O=="object"&&"ids"in O){const R=O.data,{schema:N,table:k,commit_timestamp:F,type:P,errors:B}=R;O=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:F,eventType:P,new:{},old:{},errors:B}),this._getPayloadRecords(R))}C.callback(O,a)})}_isClosed(){return this.state===Yr.closed}_isJoined(){return this.state===Yr.joined}_isJoining(){return this.state===Yr.joining}_isLeaving(){return this.state===Yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const l=t.toLocaleLowerCase(),c={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&kp.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wa.close,{},t)}_onError(t){this._on(Wa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=G2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=G2(t.columns,t.old_record)),n}}const x1=()=>{},dh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v5=[1e3,2e3,5e3,1e4],y5=1e4,_5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x5{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bm,this.transport=null,this.heartbeatIntervalMs=dh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=x1,this.ref=0,this.reconnectTimer=null,this.logger=x1,this.conn=null,this.sendBuffer=[],this.serializer=new c5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>Xr(async()=>{const{default:y}=await Promise.resolve().then(()=>qu);return{default:y}},void 0).then(({default:y})=>y(...d)).catch(y=>{throw new Error(`Failed to load @supabase/node-fetch: ${y.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${jm.websocket}`,this.httpEndpoint=Xb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o5}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Xc.connecting:return wl.Connecting;case Xc.open:return wl.Open;case Xc.closing:return wl.Closing;default:return wl.Closed}}isConnected(){return this.connectionState()===wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new kp(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:a,payload:l,ref:c}=t,d=()=>{this.encode(t,y=>{var p;(p=this.conn)===null||p===void 0||p.send(y)})};this.log("push",`${n} ${a} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:d}=n,y=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${a} ${l} ${y}`.trim(),c),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(l,c,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${a}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([_5],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:s5};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Wa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Zb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,l,c,d,y,p,g,b;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Bm,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:dh.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(y=t==null?void 0:t.heartbeatCallback)!==null&&y!==void 0?y:x1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:E=>v5[E-1]||y5,this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:(E,O)=>O(JSON.stringify(E)),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Pp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w5 extends Pp{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Um extends Pp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var b5=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};const $b=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xr(async()=>{const{default:a}=await Promise.resolve().then(()=>qu);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},E5=()=>b5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xr(()=>Promise.resolve().then(()=>qu),void 0)).Response:Response}),Fm=e=>{if(Array.isArray(e))return e.map(n=>Fm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Fm(a)}),t},S5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var kl=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};const w1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C5=(e,t,n)=>kl(void 0,void 0,void 0,function*(){const a=yield E5();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(l=>{const c=e.status||500,d=(l==null?void 0:l.statusCode)||c+"";t(new w5(w1(l),c,d))}).catch(l=>{t(new Um(w1(l),l))}):t(new Um(w1(e),e))}),A5=(e,t,n,a)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?l:(S5(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),n))};function ff(e,t,n,a,l,c){return kl(this,void 0,void 0,function*(){return new Promise((d,y)=>{e(n,A5(t,a,l,c)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>C5(p,y,a))})})}function Kh(e,t,n,a){return kl(this,void 0,void 0,function*(){return ff(e,"GET",t,n,a)})}function _s(e,t,n,a,l){return kl(this,void 0,void 0,function*(){return ff(e,"POST",t,a,l,n)})}function Hm(e,t,n,a,l){return kl(this,void 0,void 0,function*(){return ff(e,"PUT",t,a,l,n)})}function T5(e,t,n,a){return kl(this,void 0,void 0,function*(){return ff(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Kb(e,t,n,a,l){return kl(this,void 0,void 0,function*(){return ff(e,"DELETE",t,a,l,n)})}var O5=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};class I5{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return O5(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}var N5=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};class R5{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new I5(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return N5(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}var Wi=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};const M5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D5{constructor(t,n={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=$b(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,l){return Wi(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},X2),l);let y=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=a,y["cache-control"]=`max-age=${d.cacheControl}`,y["content-type"]=d.contentType,p&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l!=null&&l.headers&&(y=Object.assign(Object.assign({},y),l.headers));const g=this._removeEmptyFolders(n),b=this._getFinalPath(g),E=yield(t=="PUT"?Hm:_s)(this.fetch,`${this.url}/object/${b}`,c,Object.assign({headers:y},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:E.Id,fullPath:E.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ur(c))return{data:null,error:c};throw c}})}upload(t,n,a){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,l){return Wi(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),y=new URL(this.url+`/object/upload/sign/${d}`);y.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:X2.upsert},l),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType);const E=yield Hm(this.fetch,y.toString(),p,{headers:b});return{data:{path:c,fullPath:E.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ur(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,n){return Wi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const c=yield _s(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+c.url),y=d.searchParams.get("token");if(!y)throw new Pp("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:y},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}update(t,n,a){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Wi(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ur(l))return{data:null,error:l};throw l}})}copy(t,n,a){return Wi(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ur(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,a){return Wi(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield _s(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ur(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,a){return Wi(this,void 0,void 0,function*(){try{const l=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ur(l))return{data:null,error:l};throw l}})}download(t,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=c?`?${c}`:"",y=this._getFinalPath(t),p=()=>Kh(this.fetch,`${this.url}/${l}/${y}${d}`,{headers:this.headers,noResolveJson:!0});return new R5(p,this.shouldThrowOnError)}info(t){return Wi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield Kh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fm(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}exists(t){return Wi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield T5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a)&&a instanceof Um){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),l=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const y=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&l.push(p);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${a}${g}`)}}}remove(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}list(t,n,a){return Wi(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},M5),n),{prefix:t||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ur(l))return{data:null,error:l};throw l}})}listV2(t,n){return Wi(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield _s(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const L5="2.12.2",k5={"X-Client-Info":`storage-js/${L5}`};var xu=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};class P5{constructor(t,n={},a,l){this.shouldThrowOnError=!1;const c=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},k5),n),this.fetch=$b(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xu(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}getBucket(t){return xu(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xu(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}updateBucket(t,n){return xu(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}emptyBucket(t){return xu(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xu(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}}class B5 extends P5{constructor(t,n={},a,l){super(t,n,a,l)}from(t){return new D5(this.url,this.headers,t,this.fetch)}}const j5="2.58.0";let qc="";typeof Deno<"u"?qc="deno":typeof document<"u"?qc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qc="react-native":qc="node";const z5={"X-Client-Info":`supabase-js-${qc}/${j5}`},U5={headers:z5},F5={schema:"public"},H5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V5={};var q5=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};const W5=e=>{let t;return e?t=e:typeof fetch>"u"?t=Fb:t=fetch,(...n)=>t(...n)},G5=()=>typeof Headers>"u"?Hb:Headers,Z5=(e,t,n)=>{const a=W5(n),l=G5();return(c,d)=>q5(void 0,void 0,void 0,function*(){var y;const p=(y=yield t())!==null&&y!==void 0?y:e;let g=new l(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),a(c,Object.assign(Object.assign({},d),{headers:g}))})};var Y5=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};function X5(e){return e.endsWith("/")?e:e+"/"}function $5(e,t){var n,a;const{db:l,auth:c,realtime:d,global:y}=e,{db:p,auth:g,realtime:b,global:E}=t,O={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},b),d),storage:{},global:Object.assign(Object.assign(Object.assign({},E),y),{headers:Object.assign(Object.assign({},(n=E==null?void 0:E.headers)!==null&&n!==void 0?n:{}),(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>Y5(this,void 0,void 0,function*(){return""})};return e.accessToken?O.accessToken=e.accessToken:delete O.accessToken,O}function K5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qb="2.72.0",Au=30*1e3,Vm=3,b1=Vm*Au,Q5="http://localhost:9999",J5="supabase.auth.token",eO={"X-Client-Info":`gotrue-js/${Qb}`},qm="X-Supabase-Api-Version",Jb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nO=10*60*1e3;class Bp extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function tn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rO extends Bp{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function iO(e){return tn(e)&&e.name==="AuthApiError"}class eE extends Bp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Zo extends Bp{constructor(t,n,a,l){super(t,a,l),this.name=n,this.status=a}}class Lo extends Zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aO(e){return tn(e)&&e.name==="AuthSessionMissingError"}class Nc extends Zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mh extends Zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ph extends Zo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sO(e){return tn(e)&&e.name==="AuthImplicitGrantRedirectError"}class $2 extends Zo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wm extends Zo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function E1(e){return tn(e)&&e.name==="AuthRetryableFetchError"}class K2 extends Zo{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Gm extends Zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q2=` 	
\r=`.split(""),oO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Q2.length;t+=1)e[Q2[t].charCodeAt(0)]=-2;for(let t=0;t<Qh.length;t+=1)e[Qh[t].charCodeAt(0)]=t;return e})();function J2(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Qh[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Qh[a]),t.queuedBits-=6}}function tE(e,t,n){const a=oO[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function e_(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{cO(d,a,n)};for(let d=0;d<e.length;d+=1)tE(e.charCodeAt(d),l,c);return t.join("")}function lO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uO(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}lO(a,t)}}function cO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function fO(e){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)tE(e.charCodeAt(l),n,a);return new Uint8Array(t)}function hO(e){const t=[];return uO(e,n=>t.push(n)),new Uint8Array(t)}function dO(e){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};return e.forEach(l=>J2(l,n,a)),J2(null,n,a),t.join("")}function mO(e){return Math.round(Date.now()/1e3)+e}function pO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ma=()=>typeof window<"u"&&typeof document<"u",pl={tested:!1,writable:!1},nE=()=>{if(!Ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pl.tested)return pl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pl.tested=!0,pl.writable=!0}catch{pl.tested=!0,pl.writable=!1}return pl.writable};function gO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return n.searchParams.forEach((a,l)=>{t[l]=a}),t}const rE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xr(async()=>{const{default:a}=await Promise.resolve().then(()=>qu);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},vO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oo=async(e,t)=>{await e.removeItem(t)};class gd{constructor(){this.promise=new gd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gd.promiseConstructor=Promise;function S1(e){const t=e.split(".");if(t.length!==3)throw new Gm("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!tO.test(t[a]))throw new Gm("JWT not in base64url format");return{header:JSON.parse(e_(t[0])),payload:JSON.parse(e_(t[1])),signature:fO(t[2]),raw:{header:t[0],payload:t[1]}}}async function yO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _O(e,t){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await e(c);if(!t(c,null,d)){a(d);return}}catch(d){if(!t(c,d)){l(d);return}}})()})}function xO(e){return("0"+e.toString(16)).substr(-2)}function wO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,xO).join("")}async function bO(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function EO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wu(e,t,n=!1){const a=wO();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await Tu(e,`${t}-code-verifier`,l);const c=await EO(a);return[c,a===c?"plain":"s256"]}const SO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CO(e){const t=e.headers.get(qm);if(!t||!t.match(SO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bu(e){if(!OO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t_(e){return JSON.parse(JSON.stringify(e))}var IO=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};const yl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NO=[502,503,504];async function n_(e){var t;if(!vO(e))throw new Wm(yl(e),0);if(NO.includes(e.status))throw new Wm(yl(e),e.status);let n;try{n=await e.json()}catch(c){throw new eE(yl(c),c)}let a;const l=CO(e);if(l&&l.getTime()>=Jb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new K2(yl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Lo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new K2(yl(n),e.status,n.weak_password.reasons);throw new rO(yl(n),e.status||500,a)}const RO=(e,t,n,a)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function xn(e,t,n,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[qm]||(c[qm]=Jb["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const y=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await MO(e,t,n+y,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function MO(e,t,n,a,l,c){const d=RO(t,a,l,c);let y;try{y=await e(n,Object.assign({},d))}catch(p){throw console.error(p),new Wm(yl(p),0)}if(y.ok||await n_(y),a!=null&&a.noResolveJson)return y;try{return await y.json()}catch(p){await n_(p)}}function ys(e){var t;let n=null;PO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mO(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function r_(e){const t=ys(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ko(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function DO(e){return{data:e,error:null}}function LO(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c}=e,d=IO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:y,user:p},error:null}}function kO(e){return e}function PO(e){return e.access_token&&e.refresh_token&&e.expires_in}const A1=["global","local","others"];var BO=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};class jO{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=rE(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=A1[0]){if(A1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A1.join(", ")}`);try{return await xn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(tn(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ko})}catch(a){if(tn(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=BO(t,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:LO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ko})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,l,c,d,y,p;try{const g={nextPage:null,lastPage:0,total:0},b=await xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:kO});if(b.error)throw b.error;const E=await b.json(),O=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(p=(y=b.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(R.split(";")[1].split("=")[1]);g[`${k}Page`]=N}),g.total=parseInt(O)),{data:Object.assign(Object.assign({},E),g),error:null}}catch(g){if(tn(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){bu(t);try{return await xn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ko})}catch(n){if(tn(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bu(t);try{return await xn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ko})}catch(a){if(tn(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){bu(t);try{return await xn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ko})}catch(a){if(tn(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){bu(t.userId);try{const{data:n,error:a}=await xn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(tn(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bu(t.userId),bu(t.id);try{return{data:await xn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}}}function i_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function zO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eu={debug:!!(globalThis&&nE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UO extends iE{}async function FO(e,t,n){Eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Eu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await n()}finally{Eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw Eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Eu.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function aE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function HO(e){return parseInt(e,16)}function VO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function qO(e){var t;const{chainId:n,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:y,requestId:p,resources:g,scheme:b,uri:E,version:O}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const C=aE(e.address),R=b?`${b}://${a}`:a,N=e.statement?`${e.statement}
`:"",k=`${R} wants you to sign in with your Ethereum account:
${C}

${N}`;let F=`URI: ${E}
Version: ${O}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(F+=`
Expiration Time: ${l.toISOString()}`),y&&(F+=`
Not Before: ${y.toISOString()}`),p&&(F+=`
Request ID: ${p}`),g){let P=`
Resources:`;for(const B of g){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);P+=`
- ${B}`}F+=P}return`${k}
${F}`}zO();const WO={url:Q5,storageKey:J5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a_(e,t,n){return await n()}const Su={};class rf{constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rf.nextInstanceID,rf.nextInstanceID+=1,this.instanceID>0&&Ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},WO),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new jO({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=rE(l.fetch),this.lock=l.lock||a_,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=FO:this.lock=a_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:nE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i_(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=i_(this.memoryStorage)),Ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Su[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Su[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gO(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ma()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),sO(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:y}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",y),await this._saveSession(d),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return tn(n)?{error:n}:{error:new eE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,l;try{const c=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:ys}),{data:d,error:y}=c;if(y||!d)return{data:{user:null,session:null},error:y};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(tn(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var n,a,l;try{let c;if("email"in t){const{email:b,password:E,options:O}=t;let C=null,R=null;this.flowType==="pkce"&&([C,R]=await wu(this.storage,this.storageKey)),c=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O==null?void 0:O.emailRedirectTo,body:{email:b,password:E,data:(n=O==null?void 0:O.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken},code_challenge:C,code_challenge_method:R},xform:ys})}else if("phone"in t){const{phone:b,password:E,options:O}=t;c=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:E,data:(a=O==null?void 0:O.data)!==null&&a!==void 0?a:{},channel:(l=O==null?void 0:O.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}},xform:ys})}else throw new mh("You must provide either an email or phone number and a password");const{data:d,error:y}=c;if(y||!d)return{data:{user:null,session:null},error:y};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(tn(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:d,options:y}=t;n=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:r_})}else if("phone"in t){const{phone:c,password:d,options:y}=t;n=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:r_})}else throw new mh("You must provide either an email or phone number and a password");const{data:a,error:l}=n;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Nc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(tn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,l,c,d,y,p,g,b,E,O;let C,R;if("message"in t)C=t.message,R=t.signature;else{const{chain:N,wallet:k,statement:F,options:P}=t;let B;if(Ma())if(typeof k=="object")B=k;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")B=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=k}const W=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),q=await B.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=aE(q[0]);let V=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const G=await B.request({method:"eth_chainId"});V=HO(G)}const ne={domain:W.host,address:Y,statement:F,uri:W.href,version:"1",chainId:V,nonce:(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(y=P==null?void 0:P.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(b=P==null?void 0:P.signInWithEthereum)===null||b===void 0?void 0:b.resources};C=qO(ne),R=await B.request({method:"personal_sign",params:[VO(C),Y]})}try{const{data:N,error:k}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:R},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(O=t.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:ys});if(k)throw k;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Nc}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:k})}catch(N){if(tn(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(t){var n,a,l,c,d,y,p,g,b,E,O,C;let R,N;if("message"in t)R=t.message,N=t.signature;else{const{chain:k,wallet:F,statement:P,options:B}=t;let W;if(Ma())if(typeof F=="object")W=F;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))W=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=F}const q=new URL((n=B==null?void 0:B.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in W&&W.signIn){const Y=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),P?{statement:P}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)R=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),N=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${q.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(a=B==null?void 0:B.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((E=(b=B==null?void 0:B.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||E===void 0)&&E.length?["Resources",...B.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=await W.signMessage(new TextEncoder().encode(R),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:k,error:F}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:dO(N)},!((O=t.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:ys});if(F)throw F;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Nc}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:F})}catch(k){if(tn(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await gl(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{const{data:c,error:d}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ys});if(await Oo(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Nc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(tn(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:n,provider:a,token:l,access_token:c,nonce:d}=t,y=await xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ys}),{data:p,error:g}=y;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Nc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(n){if(tn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,l,c,d;try{if("email"in t){const{email:y,options:p}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await wu(this.storage,this.storageKey));const{error:E}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:y,options:p}=t,{data:g,error:b}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b}}throw new mh("You must provide either an email or phone number.")}catch(y){if(tn(y))return{data:{user:null,session:null},error:y};throw y}}async verifyOtp(t){var n,a;try{let l,c;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:y}=await xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:ys});if(y)throw y;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(tn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var n,a,l;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await wu(this.storage,this.storageKey)),await xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:DO})}catch(c){if(tn(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Lo;const{error:l}=await xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(tn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:c}=t,{error:d}=await xn(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:a,type:l,options:c}=t,{data:d,error:y}=await xn(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:y}}throw new mh("You must provide either an email or phone number and a type")}catch(n){if(tn(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<b1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await gl(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=C1()}if(this.storage.isServer&&t.user){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,g,b)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,b))})}return{data:{session:t},error:null}}const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ko}):await this._useSession(async n=>{var a,l,c;const{data:d,error:y}=n;if(y)throw y;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lo}:await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:ko})})}catch(n){if(tn(n))return aO(n)&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new Lo;const d=l.session;let y=null,p=null;this.flowType==="pkce"&&t.email!=null&&([y,p]=await wu(this.storage,this.storageKey));const{data:g,error:b}=await xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:y,code_challenge_method:p}),jwt:d.access_token,xform:ko});if(b)throw b;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(tn(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lo;const n=Date.now()/1e3;let a=n,l=!0,c=null;const{payload:d}=S1(t.access_token);if(d.exp&&(a=d.exp,l=a<=n),l){const{session:y,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!y)return{data:{user:null,session:null},error:null};c=y}else{const{data:y,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:y.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(tn(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:d,error:y}=n;if(y)throw y;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Lo;const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(tn(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ma())throw new ph("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ph(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ph("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $2("No code detected.");const{data:P,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:y,expires_at:p,token_type:g}=t;if(!c||!y||!d||!g)throw new ph("No session defined in URL");const b=Math.round(Date.now()/1e3),E=parseInt(y);let O=b+E;p&&(O=parseInt(p));const C=O-b;C*1e3<=Au&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${E}s`);const R=O-E;b-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,O,b):b-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,O,b);const{data:N,error:k}=await this._getUser(c);if(k)throw k;const F={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:E,expires_at:O,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:t.type},error:null}}catch(a){if(tn(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return{error:c};const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:y}=await this.admin.signOut(d,t);if(y&&!(iO(y)&&(y.status===404||y.status===401||y.status===403)))return{error:y}}return t!=="others"&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=pO(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,l;try{const{data:{session:c},error:d}=n;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await wu(this.storage,this.storageKey,!0));try{return await xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(tn(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:a,error:l}=await this._useSession(async c=>{var d,y,p,g,b;const{data:E,error:O}=c;if(O)throw O;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(y=t.options)===null||y===void 0?void 0:y.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await xn(this.fetch,"GET",C,{headers:this.headers,jwt:(b=(g=E.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return Ma()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(tn(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:d}=n;if(d)throw d;return await xn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(tn(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await _O(async l=>(l>0&&await yO(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ys})),(l,c)=>{const d=200*Math.pow(2,l);return c&&E1(c)&&Date.now()+d-a<Au})}catch(a){if(this._debug(n,"error",a),tn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ma()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await gl(this.storage,this.storageKey);if(l&&this.userStorage){let d=await gl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Tu(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:C1()}else if(l&&!l.user&&!l.user){const d=await gl(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Oo(this.storage,this.storageKey+"-user"),await Tu(this.storage,this.storageKey,l)):l.user=C1()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<b1;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${b1}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),E1(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:y}=await this._getUser(l.access_token);!y&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new gd;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new Lo;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const y={session:c.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(c){if(this._debug(l,"error",c),tn(c)){const d={session:null,error:c};return E1(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(t,n)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let y=0;y<c.length;y+=1)console.error(c[y]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Tu(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=t_(l);await Tu(this.storage,this.storageKey,c)}else{const l=t_(n);await Tu(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Oo(this.storage,this.storageKey),await Oo(this.storage,this.storageKey+"-code-verifier"),await Oo(this.storage,this.storageKey+"-user"),this.userStorage&&await Oo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Au);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Au);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Au}ms, refresh threshold is ${Vm} ticks`),l<=Vm&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await wu(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(y.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?{data:null,error:c}:await xn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(tn(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:d}=n;if(d)return{data:null,error:d};const y=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:g}=await xn(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(tn(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return{data:null,error:c};const{data:d,error:y}=await xn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:y})})}catch(n){if(tn(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?{data:null,error:c}:await xn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(tn(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(t==null?void 0:t.factors)||[],l=a.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=a.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:a,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,a;const{data:{session:l},error:c}=t;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=S1(l.access_token);let y=null;d.aal&&(y=d.aal);let p=y;((a=(n=l.user.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const b=d.amr||[];return{data:{currentLevel:y,nextLevel:p,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(y=>y.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(y=>y.kid===t),a&&this.jwks_cached_at+nO>l)return a;const{data:c,error:d}=await xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(y=>y.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:C,error:R}=await this.getSession();if(R||!C.session)return{data:null,error:R};a=C.session.access_token}const{header:l,payload:c,signature:d,raw:{header:y,payload:p}}=S1(a);n!=null&&n.allowExpired||AO(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:c,header:l,signature:d},error:null}}const b=TO(l.alg),E=await crypto.subtle.importKey("jwk",g,b,!0,["verify"]);if(!await crypto.subtle.verify(b,E,d,hO(`${y}.${p}`)))throw new Gm("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(a){if(tn(a))return{data:null,error:a};throw a}}}rf.nextInstanceID=0;const GO=rf;class ZO extends GO{constructor(t){super(t)}}var YO=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})};class XO{constructor(t,n,a){var l,c,d;this.supabaseUrl=t,this.supabaseKey=n;const y=K5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const p=`sb-${y.hostname.split(".")[0]}-auth-token`,g={db:F5,realtime:V5,auth:Object.assign(Object.assign({},H5),{storageKey:p}),global:U5},b=$5(a??{},g);this.storageKey=(l=b.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=b.global.headers)!==null&&c!==void 0?c:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(E,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=Z5(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new r5(new URL("rest/v1",y).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new B5(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Z6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return YO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,storageKey:d,flowType:y,lock:p,debug:g},b,E){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZO({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),b),storageKey:d,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,flowType:y,lock:p,debug:g,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new x5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $O=(e,t,n)=>new XO(e,t,n);function KO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}KO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QO="https://fgbyfkicksksedoekfej.supabase.co",JO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnYnlma2lja3Nrc2Vkb2VrZmVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MTI5NzAsImV4cCI6MjA2NTM4ODk3MH0.o8jkarh-yv6SUs7cNRyjRqM-kFO38ZqtflzBSUgU-jo",da=$O(QO,JO);function eI(e){return fn({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function tI(e){return fn({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(e)}function nI(e){return fn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"},child:[]}]})(e)}const rI=()=>{const[e,t]=K.useState(null),[n,a]=K.useState(!1),[l,c]=K.useState(!1),[d,y]=K.useState(!0);K.useEffect(()=>{(async()=>{try{const{data:b,error:E}=await da.from("announcements").select("id, message, link").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);if(E)throw E;if(b&&b.length>0){const O=b[0];localStorage.getItem("dismissedAnnouncementId")!==String(O.id)&&(t(O),a(!0),setTimeout(()=>c(!0),100))}}catch(b){console.error("Error fetching announcements:",b.message)}finally{y(!1)}})()},[]);const p=()=>{e&&localStorage.setItem("dismissedAnnouncementId",e.id),c(!1),setTimeout(()=>a(!1),300)};return d||!n||!e?null:D.jsx("aside",{role:"banner",className:`bg-white text-gray-800 shadow-md border-b border-gray-200 z-50 transition-all duration-300 ease-in-out ${l?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:D.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"flex items-center justify-between p-3 min-h-[60px] relative",children:[D.jsxs("div",{className:"flex-grow flex items-center min-w-0 mr-4",children:[D.jsx("div",{className:"flex-shrink-0 mr-4",children:D.jsx("div",{className:"bg-sky-100 text-sky-600 p-2 rounded-full animate-subtle-pulse",children:D.jsx(nI,{className:"h-6 w-6","aria-hidden":"true"})})}),e.link?D.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm sm:text-base font-semibold text-gray-700 truncate hover:text-sky-600 hover:underline focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 rounded-md",children:e.message}):D.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700 truncate",children:e.message})]}),D.jsx("div",{className:"flex-shrink-0",children:D.jsx("button",{onClick:p,"aria-label":"Dismiss",className:"p-1 rounded-full text-gray-500 hover:text-gray-800 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors duration-200",children:D.jsx(tI,{className:"h-6 w-6","aria-hidden":"true"})})})]})})})};var cr={},gh={},vh={},yh={},T1,s_;function iI(){if(s_)return T1;s_=1;var e="Expected a function",t=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=parseInt,p=typeof Mi=="object"&&Mi&&Mi.Object===Object&&Mi,g=typeof self=="object"&&self&&self.Object===Object&&self,b=p||g||Function("return this")(),E=Object.prototype,O=E.toString,C=Math.max,R=Math.min,N=function(){return b.Date.now()};function k(Y,V,ne){var G,J,Q,H,ee,z,Z=0,ye=!1,he=!1,ge=!0;if(typeof Y!="function")throw new TypeError(e);V=q(V)||0,P(ne)&&(ye=!!ne.leading,he="maxWait"in ne,Q=he?C(q(ne.maxWait)||0,V):Q,ge="trailing"in ne?!!ne.trailing:ge);function fe(Ze){var ft=G,wt=J;return G=J=void 0,Z=Ze,H=Y.apply(wt,ft),H}function se(Ze){return Z=Ze,ee=setTimeout(Ie,V),ye?fe(Ze):H}function ue(Ze){var ft=Ze-z,wt=Ze-Z,Mt=V-ft;return he?R(Mt,Q-wt):Mt}function pe(Ze){var ft=Ze-z,wt=Ze-Z;return z===void 0||ft>=V||ft<0||he&&wt>=Q}function Ie(){var Ze=N();if(pe(Ze))return Ae(Ze);ee=setTimeout(Ie,ue(Ze))}function Ae(Ze){return ee=void 0,ge&&G?fe(Ze):(G=J=void 0,H)}function Re(){ee!==void 0&&clearTimeout(ee),Z=0,G=z=J=ee=void 0}function Le(){return ee===void 0?H:Ae(N())}function gt(){var Ze=N(),ft=pe(Ze);if(G=arguments,J=this,z=Ze,ft){if(ee===void 0)return se(z);if(he)return ee=setTimeout(Ie,V),fe(z)}return ee===void 0&&(ee=setTimeout(Ie,V)),H}return gt.cancel=Re,gt.flush=Le,gt}function F(Y,V,ne){var G=!0,J=!0;if(typeof Y!="function")throw new TypeError(e);return P(ne)&&(G="leading"in ne?!!ne.leading:G,J="trailing"in ne?!!ne.trailing:J),k(Y,V,{leading:G,maxWait:V,trailing:J})}function P(Y){var V=typeof Y;return!!Y&&(V=="object"||V=="function")}function B(Y){return!!Y&&typeof Y=="object"}function W(Y){return typeof Y=="symbol"||B(Y)&&O.call(Y)==n}function q(Y){if(typeof Y=="number")return Y;if(W(Y))return t;if(P(Y)){var V=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=P(V)?V+"":V}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(a,"");var ne=c.test(Y);return ne||d.test(Y)?y(Y.slice(2),ne?2:8):l.test(Y)?t:+Y}return T1=F,T1}var Rc={},o_;function jp(){if(o_)return Rc;o_=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.addPassiveEventListener=function(n,a,l){var c=l.name;c||(c=a,console.warn("Listener must be a named function.")),e.has(a)||e.set(a,new Set);var d=e.get(a);if(!d.has(c)){var y=function(){var p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch{}return p}();n.addEventListener(a,l,y?{passive:!0}:!1),d.add(c)}},Rc.removePassiveEventListener=function(n,a,l){n.removeEventListener(a,l),e.get(a).delete(l.name||a)};var e=new Map;return Rc}var l_;function zp(){if(l_)return yh;l_=1,Object.defineProperty(yh,"__esModule",{value:!0});var e=iI(),t=a(e),n=jp();function a(d){return d&&d.__esModule?d:{default:d}}var l=function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,t.default)(y,p)},c={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(y,p){if(y){var g=l(function(b){c.scrollHandler(y)},p);return c.scrollSpyContainers.push(y),(0,n.addPassiveEventListener)(y,"scroll",g),function(){(0,n.removePassiveEventListener)(y,"scroll",g),c.scrollSpyContainers.splice(c.scrollSpyContainers.indexOf(y),1)}}return function(){}},isMounted:function(y){return c.scrollSpyContainers.indexOf(y)!==-1},currentPositionX:function(y){if(y===document){var p=window.scrollY!==void 0,g=(document.compatMode||"")==="CSS1Compat";return p?window.scrollX:g?document.documentElement.scrollLeft:document.body.scrollLeft}else return y.scrollLeft},currentPositionY:function(y){if(y===document){var p=window.scrollX!==void 0,g=(document.compatMode||"")==="CSS1Compat";return p?window.scrollY:g?document.documentElement.scrollTop:document.body.scrollTop}else return y.scrollTop},scrollHandler:function(y){var p=c.scrollSpyContainers[c.scrollSpyContainers.indexOf(y)].spyCallbacks||[];p.forEach(function(g){return g(c.currentPositionX(y),c.currentPositionY(y))})},addStateHandler:function(y){c.spySetState.push(y)},addSpyHandler:function(y,p){var g=c.scrollSpyContainers[c.scrollSpyContainers.indexOf(p)];g.spyCallbacks||(g.spyCallbacks=[]),g.spyCallbacks.push(y)},updateStates:function(){c.spySetState.forEach(function(y){return y()})},unmount:function(y,p){c.scrollSpyContainers.forEach(function(g){return g.spyCallbacks&&g.spyCallbacks.length&&g.spyCallbacks.indexOf(p)>-1&&g.spyCallbacks.splice(g.spyCallbacks.indexOf(p),1)}),c.spySetState&&c.spySetState.length&&c.spySetState.indexOf(y)>-1&&c.spySetState.splice(c.spySetState.indexOf(y),1),document.removeEventListener("scroll",c.scrollHandler)},update:function(){return c.scrollSpyContainers.forEach(function(y){return c.scrollHandler(y)})}};return yh.default=c,yh}var _h={},xh={},u_;function vd(){if(u_)return xh;u_=1,Object.defineProperty(xh,"__esModule",{value:!0});var e=function(y,p){var g=y.indexOf("#")===0?y.substring(1):y,b=g?"#"+g:"",E=window&&window.location,O=b?E.pathname+E.search+b:E.pathname+E.search;p?history.pushState(history.state,"",O):history.replaceState(history.state,"",O)},t=function(){return window.location.hash.replace(/^#/,"")},n=function(y){return function(p){return y.contains?y!=p&&y.contains(p):!!(y.compareDocumentPosition(p)&16)}},a=function(y){return getComputedStyle(y).position!=="static"},l=function(y,p){for(var g=y.offsetTop,b=y.offsetParent;b&&!p(b);)g+=b.offsetTop,b=b.offsetParent;return{offsetTop:g,offsetParent:b}},c=function(y,p,g){if(g)return y===document?p.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(y).position!=="static"?p.offsetLeft:p.offsetLeft-y.offsetLeft;if(y===document)return p.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(a(y)){if(p.offsetParent!==y){var b=function(k){return k===y||k===document},E=l(p,b),O=E.offsetTop,C=E.offsetParent;if(C!==y)throw new Error("Seems containerElement is not an ancestor of the Element");return O}return p.offsetTop}if(p.offsetParent===y.offsetParent)return p.offsetTop-y.offsetTop;var R=function(k){return k===document};return l(p,R).offsetTop-l(y,R).offsetTop};return xh.default={updateHash:e,getHash:t,filterElementInContainer:n,scrollOffset:c},xh}var wh={},bh={},c_;function aI(){return c_||(c_=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.default={defaultEasing:function(t){return t<.5?Math.pow(t*2,2)/2:1-Math.pow((1-t)*2,2)/2},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}),bh}var Eh={},f_;function sI(){if(f_)return Eh;f_=1,Object.defineProperty(Eh,"__esModule",{value:!0});var e=jp(),t=["mousedown","wheel","touchmove","keydown"];return Eh.default={subscribe:function(a){return typeof document<"u"&&t.forEach(function(l){return(0,e.addPassiveEventListener)(document,l,a)})}},Eh}var Sh={},h_;function Up(){if(h_)return Sh;h_=1,Object.defineProperty(Sh,"__esModule",{value:!0});var e={registered:{},scrollEvent:{register:function(n,a){e.registered[n]=a},remove:function(n){e.registered[n]=null}}};return Sh.default=e,Sh}var d_;function sE(){if(d_)return wh;d_=1,Object.defineProperty(wh,"__esModule",{value:!0});var e=Object.assign||function(J){for(var Q=1;Q<arguments.length;Q++){var H=arguments[Q];for(var ee in H)Object.prototype.hasOwnProperty.call(H,ee)&&(J[ee]=H[ee])}return J},t=vd();p(t);var n=aI(),a=p(n),l=sI(),c=p(l),d=Up(),y=p(d);function p(J){return J&&J.__esModule?J:{default:J}}var g=function(Q){return a.default[Q.smooth]||a.default.defaultEasing},b=function(Q){return typeof Q=="function"?Q:function(){return Q}},E=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},O=function(){return E()||function(J,Q,H){window.setTimeout(J,H||1e3/60,new Date().getTime())}}(),C=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},R=function(Q){var H=Q.data.containerElement;if(H&&H!==document&&H!==document.body)return H.scrollLeft;var ee=window.pageXOffset!==void 0,z=(document.compatMode||"")==="CSS1Compat";return ee?window.pageXOffset:z?document.documentElement.scrollLeft:document.body.scrollLeft},N=function(Q){var H=Q.data.containerElement;if(H&&H!==document&&H!==document.body)return H.scrollTop;var ee=window.pageXOffset!==void 0,z=(document.compatMode||"")==="CSS1Compat";return ee?window.pageYOffset:z?document.documentElement.scrollTop:document.body.scrollTop},k=function(Q){var H=Q.data.containerElement;if(H&&H!==document&&H!==document.body)return H.scrollWidth-H.offsetWidth;var ee=document.body,z=document.documentElement;return Math.max(ee.scrollWidth,ee.offsetWidth,z.clientWidth,z.scrollWidth,z.offsetWidth)},F=function(Q){var H=Q.data.containerElement;if(H&&H!==document&&H!==document.body)return H.scrollHeight-H.offsetHeight;var ee=document.body,z=document.documentElement;return Math.max(ee.scrollHeight,ee.offsetHeight,z.clientHeight,z.scrollHeight,z.offsetHeight)},P=function J(Q,H,ee){var z=H.data;if(!H.ignoreCancelEvents&&z.cancel){y.default.registered.end&&y.default.registered.end(z.to,z.target,z.currentPositionY);return}if(z.delta=Math.round(z.targetPosition-z.startPosition),z.start===null&&(z.start=ee),z.progress=ee-z.start,z.percent=z.progress>=z.duration?1:Q(z.progress/z.duration),z.currentPosition=z.startPosition+Math.ceil(z.delta*z.percent),z.containerElement&&z.containerElement!==document&&z.containerElement!==document.body?H.horizontal?z.containerElement.scrollLeft=z.currentPosition:z.containerElement.scrollTop=z.currentPosition:H.horizontal?window.scrollTo(z.currentPosition,0):window.scrollTo(0,z.currentPosition),z.percent<1){var Z=J.bind(null,Q,H);O.call(window,Z);return}y.default.registered.end&&y.default.registered.end(z.to,z.target,z.currentPosition)},B=function(Q){Q.data.containerElement=Q?Q.containerId?document.getElementById(Q.containerId):Q.container&&Q.container.nodeType?Q.container:document:null},W=function(Q,H,ee,z){H.data=H.data||C(),window.clearTimeout(H.data.delayTimeout);var Z=function(){H.data.cancel=!0};if(c.default.subscribe(Z),B(H),H.data.start=null,H.data.cancel=!1,H.data.startPosition=H.horizontal?R(H):N(H),H.data.targetPosition=H.absolute?Q:Q+H.data.startPosition,H.data.startPosition===H.data.targetPosition){y.default.registered.end&&y.default.registered.end(H.data.to,H.data.target,H.data.currentPosition);return}H.data.delta=Math.round(H.data.targetPosition-H.data.startPosition),H.data.duration=b(H.duration)(H.data.delta),H.data.duration=isNaN(parseFloat(H.data.duration))?1e3:parseFloat(H.data.duration),H.data.to=ee,H.data.target=z;var ye=g(H),he=P.bind(null,ye,H);if(H&&H.delay>0){H.data.delayTimeout=window.setTimeout(function(){y.default.registered.begin&&y.default.registered.begin(H.data.to,H.data.target),O.call(window,he)},H.delay);return}y.default.registered.begin&&y.default.registered.begin(H.data.to,H.data.target),O.call(window,he)},q=function(Q){return Q=e({},Q),Q.data=Q.data||C(),Q.absolute=!0,Q},Y=function(Q){W(0,q(Q))},V=function(Q,H){W(Q,q(H))},ne=function(Q){Q=q(Q),B(Q),W(Q.horizontal?k(Q):F(Q),Q)},G=function(Q,H){H=q(H),B(H);var ee=H.horizontal?R(H):N(H);W(Q+ee,H)};return wh.default={animateTopScroll:W,getAnimationType:g,scrollToTop:Y,scrollToBottom:ne,scrollTo:V,scrollMore:G},wh}var m_;function yd(){if(m_)return _h;m_=1,Object.defineProperty(_h,"__esModule",{value:!0});var e=Object.assign||function(b){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(b[C]=O[C])}return b},t=vd(),n=y(t),a=sE(),l=y(a),c=Up(),d=y(c);function y(b){return b&&b.__esModule?b:{default:b}}var p={},g=void 0;return _h.default={unmount:function(){p={}},register:function(E,O){p[E]=O},unregister:function(E){delete p[E]},get:function(E){return p[E]||document.getElementById(E)||document.getElementsByName(E)[0]||document.getElementsByClassName(E)[0]},setActiveLink:function(E){return g=E},getActiveLink:function(){return g},scrollTo:function(E,O){var C=this.get(E);if(!C){console.warn("target Element not found");return}O=e({},O,{absolute:!1});var R=O.containerId,N=O.container,k=void 0;R?k=document.getElementById(R):N&&N.nodeType?k=N:k=document,O.absolute=!0;var F=O.horizontal,P=n.default.scrollOffset(k,C,F)+(O.offset||0);if(!O.smooth){d.default.registered.begin&&d.default.registered.begin(E,C),k===document?O.horizontal?window.scrollTo(P,0):window.scrollTo(0,P):k.scrollTop=P,d.default.registered.end&&d.default.registered.end(E,C);return}l.default.animateTopScroll(P,O,E,C)}},_h}var O1={exports:{}},I1,p_;function oI(){if(p_)return I1;p_=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return I1=e,I1}var N1,g_;function lI(){if(g_)return N1;g_=1;var e=oI();function t(){}function n(){}return n.resetWarningCache=t,N1=function(){function a(d,y,p,g,b,E){if(E!==e){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}a.isRequired=a;function l(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:t};return c.PropTypes=c,c},N1}var v_;function Pl(){return v_||(v_=1,O1.exports=lI()()),O1.exports}var Ch={},y_;function oE(){if(y_)return Ch;y_=1,Object.defineProperty(Ch,"__esModule",{value:!0}),jp();var e=vd(),t=n(e);function n(l){return l&&l.__esModule?l:{default:l}}var a={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(c){this.scroller=c,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(c,d){this.containers[c]=d},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var c=this,d=this.getHash();d?window.setTimeout(function(){c.scrollTo(d,!0),c.initialized=!0},10):this.initialized=!0},scrollTo:function(c,d){var y=this.scroller,p=y.get(c);if(p&&(d||c!==y.getActiveLink())){var g=this.containers[c]||document;y.scrollTo(c,{container:g})}},getHash:function(){return t.default.getHash()},changeHash:function(c,d){this.isInitialized()&&t.default.getHash()!==c&&t.default.updateHash(c,d)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return Ch.default=a,Ch}var __;function Fp(){if(__)return vh;__=1,Object.defineProperty(vh,"__esModule",{value:!0});var e=Object.assign||function(F){for(var P=1;P<arguments.length;P++){var B=arguments[P];for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(F[W]=B[W])}return F},t=function(){function F(P,B){for(var W=0;W<B.length;W++){var q=B[W];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}return function(P,B,W){return B&&F(P.prototype,B),W&&F(P,W),P}}(),n=ui(),a=O(n),l=zp(),c=O(l),d=yd(),y=O(d),p=Pl(),g=O(p),b=oE(),E=O(b);function O(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function N(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var k={to:g.default.string.isRequired,containerId:g.default.string,container:g.default.object,activeClass:g.default.string,activeStyle:g.default.object,spy:g.default.bool,horizontal:g.default.bool,smooth:g.default.oneOfType([g.default.bool,g.default.string]),offset:g.default.number,delay:g.default.number,isDynamic:g.default.bool,onClick:g.default.func,duration:g.default.oneOfType([g.default.number,g.default.func]),absolute:g.default.bool,onSetActive:g.default.func,onSetInactive:g.default.func,ignoreCancelEvents:g.default.bool,hashSpy:g.default.bool,saveHashHistory:g.default.bool,spyThrottle:g.default.number};return vh.default=function(F,P){var B=P||y.default,W=function(Y){N(V,Y);function V(ne){C(this,V);var G=R(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,ne));return q.call(G),G.state={active:!1},G.beforeUnmountCallbacks=[],G}return t(V,[{key:"getScrollSpyContainer",value:function(){var G=this.props.containerId,J=this.props.container;return G&&!J?document.getElementById(G):J&&J.nodeType?J:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var G=this.getScrollSpyContainer();if(!c.default.isMounted(G)){var J=c.default.mount(G,this.props.spyThrottle);this.beforeUnmountCallbacks.push(J)}this.props.hashSpy&&(E.default.isMounted()||E.default.mount(B),E.default.mapContainer(this.props.to,G)),c.default.addSpyHandler(this.spyHandler,G),this.setState({container:G})}}},{key:"componentWillUnmount",value:function(){c.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(G){return G()})}},{key:"render",value:function(){var G="";this.state&&this.state.active?G=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():G=this.props.className;var J={};this.state&&this.state.active?J=e({},this.props.style,this.props.activeStyle):J=e({},this.props.style);var Q=e({},this.props);for(var H in k)Q.hasOwnProperty(H)&&delete Q[H];return Q.className=G,Q.style=J,Q.onClick=this.handleClick,a.default.createElement(F,Q)}}]),V}(a.default.PureComponent),q=function(){var V=this;this.scrollTo=function(ne,G){B.scrollTo(ne,e({},V.state,G))},this.handleClick=function(ne){V.props.onClick&&V.props.onClick(ne),ne.stopPropagation&&ne.stopPropagation(),ne.preventDefault&&ne.preventDefault(),V.scrollTo(V.props.to,V.props)},this.spyHandler=function(ne,G){var J=V.getScrollSpyContainer();if(!(E.default.isMounted()&&!E.default.isInitialized())){var Q=V.props.horizontal,H=V.props.to,ee=null,z=void 0,Z=void 0;if(Q){var ye=0,he=0,ge=0;if(J.getBoundingClientRect){var fe=J.getBoundingClientRect();ge=fe.left}if(!ee||V.props.isDynamic){if(ee=B.get(H),!ee)return;var se=ee.getBoundingClientRect();ye=se.left-ge+ne,he=ye+se.width}var ue=ne-V.props.offset;z=ue>=Math.floor(ye)&&ue<Math.floor(he),Z=ue<Math.floor(ye)||ue>=Math.floor(he)}else{var pe=0,Ie=0,Ae=0;if(J.getBoundingClientRect){var Re=J.getBoundingClientRect();Ae=Re.top}if(!ee||V.props.isDynamic){if(ee=B.get(H),!ee)return;var Le=ee.getBoundingClientRect();pe=Le.top-Ae+G,Ie=pe+Le.height}var gt=G-V.props.offset;z=gt>=Math.floor(pe)&&gt<Math.floor(Ie),Z=gt<Math.floor(pe)||gt>=Math.floor(Ie)}var Ze=B.getActiveLink();if(Z){if(H===Ze&&B.setActiveLink(void 0),V.props.hashSpy&&E.default.getHash()===H){var ft=V.props.saveHashHistory,wt=ft===void 0?!1:ft;E.default.changeHash("",wt)}V.props.spy&&V.state.active&&(V.setState({active:!1}),V.props.onSetInactive&&V.props.onSetInactive(H,ee))}if(z&&(Ze!==H||V.state.active===!1)){B.setActiveLink(H);var Mt=V.props.saveHashHistory,Yt=Mt===void 0?!1:Mt;V.props.hashSpy&&E.default.changeHash(H,Yt),V.props.spy&&(V.setState({active:!0}),V.props.onSetActive&&V.props.onSetActive(H,ee))}}}};return W.propTypes=k,W.defaultProps={offset:0},W},vh}var x_;function uI(){if(x_)return gh;x_=1,Object.defineProperty(gh,"__esModule",{value:!0});var e=ui(),t=l(e),n=Fp(),a=l(n);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function y(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var p=function(g){y(b,g);function b(){var E,O,C,R;c(this,b);for(var N=arguments.length,k=Array(N),F=0;F<N;F++)k[F]=arguments[F];return R=(O=(C=d(this,(E=b.__proto__||Object.getPrototypeOf(b)).call.apply(E,[this].concat(k))),C),C.render=function(){return t.default.createElement("a",C.props,C.props.children)},O),d(C,R)}return b}(t.default.Component);return gh.default=(0,a.default)(p),gh}var Ah={},w_;function cI(){if(w_)return Ah;w_=1,Object.defineProperty(Ah,"__esModule",{value:!0});var e=function(){function b(E,O){for(var C=0;C<O.length;C++){var R=O[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,O,C){return O&&b(E.prototype,O),C&&b(E,C),E}}(),t=ui(),n=c(t),a=Fp(),l=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function d(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function y(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function p(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var g=function(b){p(E,b);function E(){return d(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return e(E,[{key:"render",value:function(){return n.default.createElement("button",this.props,this.props.children)}}]),E}(n.default.Component);return Ah.default=(0,l.default)(g),Ah}var Th={},Oh={},b_;function lE(){if(b_)return Oh;b_=1,Object.defineProperty(Oh,"__esModule",{value:!0});var e=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(C[k]=N[k])}return C},t=function(){function C(R,N){for(var k=0;k<N.length;k++){var F=N[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,N,k){return N&&C(R.prototype,N),k&&C(R,k),R}}(),n=ui(),a=g(n),l=rd();g(l);var c=yd(),d=g(c),y=Pl(),p=g(y);function g(C){return C&&C.__esModule?C:{default:C}}function b(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function E(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:C}function O(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}return Oh.default=function(C){var R=function(N){O(k,N);function k(F){b(this,k);var P=E(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,F));return P.childBindings={domNode:null},P}return t(k,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(P){this.props.name!==P.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;d.default.unregister(this.props.name)}},{key:"registerElems",value:function(P){d.default.register(P,this.childBindings.domNode)}},{key:"render",value:function(){return a.default.createElement(C,e({},this.props,{parentBindings:this.childBindings}))}}]),k}(a.default.Component);return R.propTypes={name:p.default.string,id:p.default.string},R},Oh}var E_;function fI(){if(E_)return Th;E_=1,Object.defineProperty(Th,"__esModule",{value:!0});var e=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(C[k]=N[k])}return C},t=function(){function C(R,N){for(var k=0;k<N.length;k++){var F=N[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,N,k){return N&&C(R.prototype,N),k&&C(R,k),R}}(),n=ui(),a=p(n),l=lE(),c=p(l),d=Pl(),y=p(d);function p(C){return C&&C.__esModule?C:{default:C}}function g(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function b(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:C}function E(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}var O=function(C){E(R,C);function R(){return g(this,R),b(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return t(R,[{key:"render",value:function(){var k=this,F=e({},this.props);return delete F.name,F.parentBindings&&delete F.parentBindings,a.default.createElement("div",e({},F,{ref:function(B){k.props.parentBindings.domNode=B}}),this.props.children)}}]),R}(a.default.Component);return O.propTypes={name:y.default.string,id:y.default.string},Th.default=(0,c.default)(O),Th}var R1,S_;function hI(){if(S_)return R1;S_=1;var e=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var R=arguments[C];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(O[N]=R[N])}return O},t=function(){function O(C,R){for(var N=0;N<R.length;N++){var k=R[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,R,N){return R&&O(C.prototype,R),N&&O(C,N),C}}();function n(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function a(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function l(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var c=ui();rd(),vd();var d=zp(),y=yd(),p=Pl(),g=oE(),b={to:p.string.isRequired,containerId:p.string,container:p.object,activeClass:p.string,spy:p.bool,smooth:p.oneOfType([p.bool,p.string]),offset:p.number,delay:p.number,isDynamic:p.bool,onClick:p.func,duration:p.oneOfType([p.number,p.func]),absolute:p.bool,onSetActive:p.func,onSetInactive:p.func,ignoreCancelEvents:p.bool,hashSpy:p.bool,spyThrottle:p.number},E={Scroll:function(C,R){console.warn("Helpers.Scroll is deprecated since v1.7.0");var N=R||y,k=function(P){l(B,P);function B(W){n(this,B);var q=a(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,W));return F.call(q),q.state={active:!1},q}return t(B,[{key:"getScrollSpyContainer",value:function(){var q=this.props.containerId,Y=this.props.container;return q?document.getElementById(q):Y&&Y.nodeType?Y:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var q=this.getScrollSpyContainer();d.isMounted(q)||d.mount(q,this.props.spyThrottle),this.props.hashSpy&&(g.isMounted()||g.mount(N),g.mapContainer(this.props.to,q)),this.props.spy&&d.addStateHandler(this.stateHandler),d.addSpyHandler(this.spyHandler,q),this.setState({container:q})}}},{key:"componentWillUnmount",value:function(){d.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var q="";this.state&&this.state.active?q=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():q=this.props.className;var Y=e({},this.props);for(var V in b)Y.hasOwnProperty(V)&&delete Y[V];return Y.className=q,Y.onClick=this.handleClick,c.createElement(C,Y)}}]),B}(c.Component),F=function(){var B=this;this.scrollTo=function(W,q){N.scrollTo(W,e({},B.state,q))},this.handleClick=function(W){B.props.onClick&&B.props.onClick(W),W.stopPropagation&&W.stopPropagation(),W.preventDefault&&W.preventDefault(),B.scrollTo(B.props.to,B.props)},this.stateHandler=function(){N.getActiveLink()!==B.props.to&&(B.state!==null&&B.state.active&&B.props.onSetInactive&&B.props.onSetInactive(),B.setState({active:!1}))},this.spyHandler=function(W){var q=B.getScrollSpyContainer();if(!(g.isMounted()&&!g.isInitialized())){var Y=B.props.to,V=null,ne=0,G=0,J=0;if(q.getBoundingClientRect){var Q=q.getBoundingClientRect();J=Q.top}if(!V||B.props.isDynamic){if(V=N.get(Y),!V)return;var H=V.getBoundingClientRect();ne=H.top-J+W,G=ne+H.height}var ee=W-B.props.offset,z=ee>=Math.floor(ne)&&ee<Math.floor(G),Z=ee<Math.floor(ne)||ee>=Math.floor(G),ye=N.getActiveLink();if(Z)return Y===ye&&N.setActiveLink(void 0),B.props.hashSpy&&g.getHash()===Y&&g.changeHash(),B.props.spy&&B.state.active&&(B.setState({active:!1}),B.props.onSetInactive&&B.props.onSetInactive()),d.updateStates();if(z&&ye!==Y)return N.setActiveLink(Y),B.props.hashSpy&&g.changeHash(Y),B.props.spy&&(B.setState({active:!0}),B.props.onSetActive&&B.props.onSetActive(Y)),d.updateStates()}}};return k.propTypes=b,k.defaultProps={offset:0},k},Element:function(C){console.warn("Helpers.Element is deprecated since v1.7.0");var R=function(N){l(k,N);function k(F){n(this,k);var P=a(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,F));return P.childBindings={domNode:null},P}return t(k,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(P){this.props.name!==P.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;y.unregister(this.props.name)}},{key:"registerElems",value:function(P){y.register(P,this.childBindings.domNode)}},{key:"render",value:function(){return c.createElement(C,e({},this.props,{parentBindings:this.childBindings}))}}]),k}(c.Component);return R.propTypes={name:p.string,id:p.string},R}};return R1=E,R1}var C_;function dI(){if(C_)return cr;C_=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.Helpers=cr.ScrollElement=cr.ScrollLink=cr.animateScroll=cr.scrollSpy=cr.Events=cr.scroller=cr.Element=cr.Button=cr.Link=void 0;var e=uI(),t=W(e),n=cI(),a=W(n),l=fI(),c=W(l),d=yd(),y=W(d),p=Up(),g=W(p),b=zp(),E=W(b),O=sE(),C=W(O),R=Fp(),N=W(R),k=lE(),F=W(k),P=hI(),B=W(P);function W(q){return q&&q.__esModule?q:{default:q}}return cr.Link=t.default,cr.Button=a.default,cr.Element=c.default,cr.scroller=y.default,cr.Events=g.default,cr.scrollSpy=E.default,cr.animateScroll=C.default,cr.ScrollLink=N.default,cr.ScrollElement=F.default,cr.Helpers=B.default,cr.default={Link:t.default,Button:a.default,Element:c.default,scroller:y.default,Events:g.default,scrollSpy:E.default,animateScroll:C.default,ScrollLink:N.default,ScrollElement:F.default,Helpers:B.default},cr}var mI=dI();function pI({title:e,titleId:t,...n},a){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?K.createElement("title",{id:t},e):null,K.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const gI=K.forwardRef(pI),vI=()=>{const[e,t]=K.useState(!1);return K.useEffect(()=>{const n=()=>{t(window.scrollY>=400)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),D.jsx(mI.Link,{to:"myHeader",smooth:!0,duration:700,offset:-70,className:`
        fixed bottom-6 left-1/2 z-30 
        w-11 h-11 md:w-12 md:h-12 
        flex items-center justify-center
        rounded-full 
        cursor-pointer
        transform -translate-x-1/2  /*  */
        
        bg-neutral-800/70 text-neutral-100 /* ,  */
        dark:bg-neutral-900/80 dark:text-neutral-200 /*  Dark Mode */
        
        backdrop-blur-sm /*  */
        border border-neutral-700/50 dark:border-neutral-600/50 /*  */
        
        shadow-xl hover:shadow-neutral-900/40 dark:hover:shadow-black/50 /*  */
        
        hover:bg-neutral-700 dark:hover:bg-neutral-800 /*  hover */
        hover:scale-105 /*  hover */
        
        focus:outline-none focus:ring-2 focus:ring-neutral-500 
        dark:focus:ring-neutral-400 focus:ring-offset-2 
        focus:ring-offset-white dark:focus:ring-offset-neutral-900 /* Focus state */
        
        transition-all duration-300 ease-in-out /* Transition  */
        
        ${e?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-10 pointer-events-none"}
      `,"aria-label":"Scroll to top",children:D.jsx(gI,{className:"h-5 w-5 md:h-6 md:h-6"})})};function yI(e){return fn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Zm(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(e)}function _I(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function uE(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Jh(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function xI(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function cE(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Bl(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function A_(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function fE(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function wI(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function bI(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 72.96l54.77 54.76a132.036 132.036 0 0 0 72.71 37.06l76.71 12.15c27.51 4.36 55.7-.11 80.53-12.76l69.13-35.21a132.273 132.273 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function hE(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function T_(e){return fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function dE(e){return fn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function EI(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function SI(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function CI(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"},child:[]}]})(e)}function AI(e){return fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function O_(e){return fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function TI(e){return fn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function OI(e){return fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function mE(e){return fn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function II(e){return fn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function NI(e){return fn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"},child:[]}]})(e)}const RI=()=>{const e=new Date().getFullYear(),t=[{title:"",links:[{name:"",href:"/"},{name:"",href:"/NewsAndEvent"},{name:"",href:"/Game"},{name:"",href:"/register"}]},{title:" & ",links:[{name:"",href:"/Menu"},{name:"",href:"/Menu"}]},{title:"",links:[{name:"",href:"/contact"},{name:"",href:"/contact"}]}],n=[{icon:D.jsx(dE,{}),text:" MBK Center,    10330"},{icon:D.jsx(SI,{}),text:"064 232 8899"},{icon:D.jsx(hE,{}),text:"Boruyasushi.mbk@gmail.com"}],a=[{icon:D.jsx(wI,{}),days:"",hours:"11.00 . - 05.00 ."}],l=[{name:"Facebook",icon:D.jsx(yI,{}),href:"https://www.facebook.com/profile.php?id=61576826248467"},{name:"Instagram",icon:D.jsx(uE,{}),href:"https://www.instagram.com/boruyasushi/"},{name:"TikTok",icon:D.jsx(Jh,{}),href:"#"}],c=[{name:"",href:"/PrivacyPolicy"},{name:"",href:"/TermsOfService"}];return D.jsxs("footer",{className:"bg-gray-800",children:[D.jsx("div",{className:"container mx-auto px-6 lg:px-8",children:D.jsxs("div",{className:"py-20 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-x-8 gap-y-12",children:[D.jsxs("div",{className:"md:col-span-2 xl:col-span-2",children:[D.jsx(jo,{to:"/",className:"inline-block mb-6",children:D.jsx("img",{src:zb,alt:"Boruya Sushi Logo",className:"h-16 w-auto grayscale"})}),D.jsx("p",{className:"text-gray-400 max-w-sm",children:"  MBK Center"}),D.jsxs("div",{className:"mt-8",children:[D.jsx("h4",{className:"font-semibold text-white mb-3",children:""}),a.map((d,y)=>D.jsxs("div",{className:"flex items-center text-gray-300",children:[D.jsx("span",{className:"text-white mr-3",children:d.icon}),D.jsxs("span",{children:[D.jsxs("strong",{children:[d.days,":"]})," ",d.hours]})]},y))]})]}),t.map(d=>D.jsxs("div",{children:[D.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-5",children:d.title}),D.jsx("ul",{className:"space-y-3",children:d.links.map(y=>D.jsx("li",{children:D.jsx(jo,{to:y.href,className:"text-gray-400 hover:text-white hover:translate-x-1 block transition-all duration-300",children:y.name})},y.name))})]},d.title)),D.jsxs("div",{children:[D.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-5",children:""}),D.jsx("ul",{className:"space-y-4",children:n.map((d,y)=>D.jsxs("li",{className:"flex items-start",children:[D.jsx("span",{className:"text-white mr-3 mt-1 flex-shrink-0",children:d.icon}),D.jsx("span",{className:"text-gray-300",children:d.text})]},y))})]})]})}),D.jsx("div",{className:"bg-black/10 border-t border-gray-700/50",children:D.jsx("div",{className:"container mx-auto px-6 lg:px-8 py-6",children:D.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-6",children:[D.jsxs("div",{className:"text-sm text-gray-400 text-center md:text-left",children:[" ",e," Boruya Sushi. All Rights Reserved."]}),D.jsx("div",{className:"flex items-center gap-x-6",children:c.map(d=>D.jsx(jo,{to:d.href,className:"text-xs text-gray-400 hover:text-white transition-colors",children:d.name},d.name))}),D.jsx("div",{className:"flex items-center gap-x-3",children:l.map(d=>D.jsx("a",{href:d.href,target:"_blank",rel:"noopener noreferrer","aria-label":` ${d.name}  Boruya Sushi`,className:"group w-9 h-9 flex items-center justify-center rounded-full bg-white/10 hover:bg-white transition-all duration-300",children:D.jsx("span",{className:"text-gray-300 group-hover:text-gray-800 transition-colors duration-300",children:Ct.cloneElement(d.icon,{className:"w-4 h-4"})})},d.name))})]})})})]})},M1=[{id:"hero",label:""},{id:"NewsAndEvent",label:""},{id:"Media",label:""},{id:"Map",label:""}],MI=()=>{var p;const[e,t]=K.useState(((p=M1[0])==null?void 0:p.id)||""),[n,a]=K.useState(!0),l=K.useRef(null),c=()=>{a(!1)},d=()=>{a(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(c,3e3)};K.useEffect(()=>{const g=()=>{d();let b=e;for(const E of M1){const O=document.getElementById(E.id);if(O){const C=O.getBoundingClientRect();if(C.top<=window.innerHeight/2&&C.bottom>=window.innerHeight/2){b=E.id;break}}}e!==b&&t(b)};return window.addEventListener("scroll",g,{passive:!0}),()=>{window.removeEventListener("scroll",g),l.current&&clearTimeout(l.current)}},[e]);const y=g=>{const b=document.getElementById(g);b&&b.scrollIntoView({behavior:"smooth",block:"start"})};return D.jsx("div",{className:"hidden md:block",children:D.jsxs(D.Fragment,{children:[!n&&D.jsx("button",{onClick:d,className:"fixed top-1/2 -translate-y-1/2 left-4 z-40 bg-white/50 dark:bg-rose-900/50 backdrop-blur-sm text-rose-700 dark:text-rose-200 p-2 rounded-full shadow-lg transition-all duration-300 hover:bg-white/80 dark:hover:bg-rose-900/80 hover:scale-110","aria-label":"Open Navigation",children:D.jsx(eI,{className:"h-6 w-6"})}),D.jsx("nav",{className:`
            fixed top-1/2 -translate-y-1/2 left-5 z-50
            transition-all duration-500 ease-in-out
            ${n?"opacity-100 translate-x-0":"opacity-0 -translate-x-16 pointer-events-none"}
          `,children:D.jsx("div",{className:"bg-white/50 dark:bg-rose-900/50 backdrop-blur-sm p-3 rounded-full shadow-lg border border-rose-100/20 dark:border-rose-800/50",children:D.jsx("ul",{className:"flex flex-col items-center justify-center space-y-5",children:M1.map(g=>D.jsxs("li",{className:"relative group",children:[D.jsx("a",{href:`#${g.id}`,onClick:b=>{b.preventDefault(),y(g.id)},className:`
                      block w-3 h-3 rounded-full cursor-pointer
                      transition-all duration-300 ease-in-out
                      ${e===g.id?"bg-rose-600 scale-125":"bg-rose-300 dark:bg-rose-500 hover:bg-rose-600 hover:scale-110"}
                    `,"aria-label":g.label}),D.jsxs("div",{className:`
                      absolute left-full top-1/2 -translate-y-1/2 ml-4 px-3 py-1
                      bg-rose-800 text-white text-xs font-bold rounded-md
                      whitespace-nowrap opacity-0 pointer-events-none
                      transition-all duration-300 ease-in-out
                      group-hover:opacity-100 group-hover:translate-x-0
                      ${e===g.id?"opacity-100 translate-x-0":"translate-x-[-10px]"}
                    `,children:[g.label,D.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-1 w-0 h-0 border-t-4 border-t-transparent border-b-4 border-b-transparent border-r-4 border-r-rose-800"})]})]},g.id))})})})]})})},Ih=["","","","","","","","","","","",""],DI=({event:e,onCardClick:t,opacity:n})=>D.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-slate-200 cursor-pointer group overflow-hidden",style:{opacity:n,transitionProperty:"opacity, transform, box-shadow"},onClick:()=>t(e),children:[D.jsxs("div",{className:"relative overflow-hidden",children:[D.jsx("img",{src:e.image,alt:e.title,className:"w-full h-56 object-cover object-center transition-transform duration-500 group-hover:scale-110"}),D.jsxs("span",{className:"absolute top-4 right-4 bg-white/90 text-sky-800 text-xs font-semibold rounded-full px-3 py-1.5 backdrop-blur-sm shadow-sm flex items-center gap-1.5 border border-slate-200",children:[D.jsx(Bl,{className:"text-sky-600"}),new Date(e.date).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})]})]}),D.jsxs("div",{className:"p-6",children:[D.jsx("h3",{className:"text-lg font-bold text-slate-800 line-clamp-2 mb-2 h-14",children:e.title}),D.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 leading-relaxed mb-4 h-[4.5rem]",children:e.shortDescription}),D.jsxs("div",{className:"inline-flex items-center gap-1.5 text-sm font-semibold text-sky-600 hover:text-sky-500 transition-colors duration-200 group/button",children:["",D.jsx(cE,{className:"transform transition-transform duration-200 group-hover/button:translate-x-1"})]})]})]}),LI=({event:e,onClose:t})=>e?D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[100] animate-fade-in",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto my-8 relative max-h-[90vh] flex flex-col transform scale-95 animate-scale-in border border-slate-200",children:[D.jsxs("div",{className:"relative",children:[D.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover object-center rounded-t-2xl"}),D.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-600 bg-white/80 hover:bg-white transition duration-200 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:D.jsx(mE,{size:20})})]}),D.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-grow",children:[D.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:e.title}),D.jsxs("p",{className:"text-sm text-slate-500 mb-6 flex items-center gap-2",children:[D.jsx(Bl,{className:"text-sky-500"}),D.jsx("span",{className:"font-medium",children:":"})," ",new Date(e.date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})]}),D.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 leading-relaxed whitespace-pre-wrap",children:e.fullDescription})]})]})}):null,kI=()=>{const[e,t]=K.useState([]),[n,a]=K.useState(!0),[l,c]=K.useState(null),[d,y]=K.useState(""),[p,g]=K.useState(0),[b,E]=K.useState(!1),[O,C]=K.useState(!1),[R,N]=K.useState(null);K.useEffect(()=>{(async()=>{a(!0),c(null);try{const{data:V,error:ne}=await da.from("events").select("id, title, description, short_description, image_url, event_date").order("event_date",{ascending:!1});if(ne)throw ne;const G=V.map(J=>{const H=new Date(J.event_date).toLocaleDateString("th-TH",{month:"long"}),ee=J.short_description||(J.description?J.description.substring(0,120)+"...":"");return{id:J.id,title:J.title,date:J.event_date,month:H,image:J.image_url,fullDescription:J.description,shortDescription:ee}});if(t(G),G.length>0&&!d)y(G[0].month);else if(G.length===0&&!d){const J=new Date().toLocaleDateString("th-TH",{month:"long"});y(Ih.includes(J)?J:Ih[0])}}catch(V){console.error("Error fetching events:",V),c(V.message||" Event ")}a(!1)})()},[]);const k=K.useMemo(()=>e.length?e.reduce((Y,V)=>((Y[V.month]=Y[V.month]||[]).push(V),Y),{}):{},[e]),F=K.useMemo(()=>k[d]||[],[d,k]),P=K.useMemo(()=>{const Y=new Set(e.map(V=>V.month));return Ih.filter(V=>Y.has(V))},[e]),B=K.useCallback(Y=>{g(0),setTimeout(()=>y(Y),150),E(!1)},[]),W=K.useCallback(Y=>{N(Y),C(!0),document.body.style.overflow="hidden"},[]),q=K.useCallback(()=>{C(!1),N(null),document.body.style.overflow="auto"},[]);return K.useEffect(()=>{const Y=setTimeout(()=>g(1),50);return()=>clearTimeout(Y)},[d,F]),K.useEffect(()=>{const Y=V=>{b&&!V.target.closest(".month-selector-wrapper")&&E(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[b]),n?D.jsx("div",{className:"bg-white min-h-screen flex items-center justify-center",children:D.jsx("p",{className:"text-xl text-slate-600",children:"..."})}):l?D.jsxs("div",{className:"bg-white min-h-screen flex flex-col items-center justify-center p-4",children:[D.jsx("p",{className:"text-xl text-red-500 mb-4",children:""}),D.jsx("p",{className:"text-md text-slate-700 text-center",children:l}),D.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 bg-sky-600 hover:bg-sky-700 text-white font-medium py-2 px-5 rounded-lg transition-colors",children:""})]}):D.jsx("div",{className:"bg-white min-h-screen py-16 sm:py-24 transition-colors duration-300",children:D.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-12 sm:mb-16",children:[D.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight text-slate-900 mb-6 sm:mb-0",children:""}),D.jsxs("div",{className:"relative month-selector-wrapper",children:[D.jsxs("button",{type:"button",className:"inline-flex items-center justify-between w-48 bg-slate-50 text-slate-700 border border-slate-300 rounded-lg px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-slate-100 hover:border-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>E(!b),children:[D.jsx("span",{className:"font-semibold",children:d||""}),D.jsx(fE,{className:`text-xs text-slate-500 ml-1 transition-transform duration-200 ${b?"rotate-180":""}`})]}),b&&D.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-20 border border-slate-200 max-h-72 overflow-y-auto custom-scrollbar animate-fade-in-short",children:(P.length>0?P:Ih).map(Y=>D.jsx("button",{type:"button",className:`block px-4 py-2.5 text-slate-700 hover:bg-slate-100 text-sm w-full text-left transition-colors duration-150 ${d===Y?"bg-sky-50 font-semibold text-sky-700":""}`,onClick:()=>B(Y),children:Y},Y))})]})]}),F.length>0?D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:F.map(Y=>D.jsx(DI,{event:Y,onCardClick:W,opacity:p},Y.id))}):D.jsxs("div",{className:"col-span-full text-center py-20 text-slate-500 transition-opacity duration-500 ease-in-out",style:{opacity:p},children:[D.jsx("div",{className:"inline-block p-5 bg-slate-100 rounded-full",children:D.jsx(Bl,{className:"mx-auto text-4xl text-slate-400"})}),D.jsxs("p",{className:"text-xl font-medium mt-6 mb-2 text-slate-700",children:[" ",d||""]}),D.jsx("p",{className:"text-sm",children:" "})]}),O&&R&&D.jsx(LI,{event:R,onClose:q})]})})};var D1,I_;function PI(){if(I_)return D1;I_=1,D1=function(l,c,d){var y=document.head||document.getElementsByTagName("head")[0],p=document.createElement("script");typeof c=="function"&&(d=c,c={}),c=c||{},d=d||function(){},p.type=c.type||"text/javascript",p.charset=c.charset||"utf8",p.async="async"in c?!!c.async:!0,p.src=l,c.attrs&&e(p,c.attrs),c.text&&(p.text=""+c.text);var g="onload"in p?t:n;g(p,d),p.onload||t(p,d),y.appendChild(p)};function e(a,l){for(var c in l)a.setAttribute(c,l[c])}function t(a,l){a.onload=function(){this.onerror=this.onload=null,l(null,a)},a.onerror=function(){this.onerror=this.onload=null,l(new Error("Failed to load "+this.src),a)}}function n(a,l){a.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,l(null,a))}}return D1}var L1,N_;function pE(){if(N_)return L1;N_=1;var e=function(P){return t(P)&&!n(P)};function t(F){return!!F&&typeof F=="object"}function n(F){var P=Object.prototype.toString.call(F);return P==="[object RegExp]"||P==="[object Date]"||c(F)}var a=typeof Symbol=="function"&&Symbol.for,l=a?Symbol.for("react.element"):60103;function c(F){return F.$$typeof===l}function d(F){return Array.isArray(F)?[]:{}}function y(F,P){return P.clone!==!1&&P.isMergeableObject(F)?N(d(F),F,P):F}function p(F,P,B){return F.concat(P).map(function(W){return y(W,B)})}function g(F,P){if(!P.customMerge)return N;var B=P.customMerge(F);return typeof B=="function"?B:N}function b(F){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(F).filter(function(P){return Object.propertyIsEnumerable.call(F,P)}):[]}function E(F){return Object.keys(F).concat(b(F))}function O(F,P){try{return P in F}catch{return!1}}function C(F,P){return O(F,P)&&!(Object.hasOwnProperty.call(F,P)&&Object.propertyIsEnumerable.call(F,P))}function R(F,P,B){var W={};return B.isMergeableObject(F)&&E(F).forEach(function(q){W[q]=y(F[q],B)}),E(P).forEach(function(q){C(F,q)||(O(F,q)&&B.isMergeableObject(P[q])?W[q]=g(q,B)(F[q],P[q],B):W[q]=y(P[q],B))}),W}function N(F,P,B){B=B||{},B.arrayMerge=B.arrayMerge||p,B.isMergeableObject=B.isMergeableObject||e,B.cloneUnlessOtherwiseSpecified=y;var W=Array.isArray(P),q=Array.isArray(F),Y=W===q;return Y?W?B.arrayMerge(F,P,B):R(F,P,B):y(P,B)}N.all=function(P,B){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(W,q){return N(W,q,B)},{})};var k=N;return L1=k,L1}var k1,R_;function _d(){if(R_)return k1;R_=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(fe,se)=>{for(var ue in se)t(fe,ue,{get:se[ue],enumerable:!0})},y=(fe,se,ue,pe)=>{if(se&&typeof se=="object"||typeof se=="function")for(let Ie of a(se))!c.call(fe,Ie)&&Ie!==ue&&t(fe,Ie,{get:()=>se[Ie],enumerable:!(pe=n(se,Ie))||pe.enumerable});return fe},p=(fe,se,ue)=>(ue=fe!=null?e(l(fe)):{},y(!fe||!fe.__esModule?t(ue,"default",{value:fe,enumerable:!0}):ue,fe)),g=fe=>y(t({},"__esModule",{value:!0}),fe),b={};d(b,{callPlayer:()=>z,getConfig:()=>H,getSDK:()=>Q,isBlobUrl:()=>ye,isMediaStream:()=>Z,lazy:()=>R,omit:()=>ee,parseEndTime:()=>Y,parseStartTime:()=>q,queryString:()=>ne,randomString:()=>V,supportsWebKitPresentationMode:()=>he}),k1=g(b);var E=p(ui()),O=p(PI()),C=p(pE());const R=fe=>E.default.lazy(async()=>{const se=await fe();return typeof se.default=="function"?se:se.default}),N=/[?&#](?:start|t)=([0-9hms]+)/,k=/[?&#]end=([0-9hms]+)/,F=/(\d+)(h|m|s)/g,P=/^\d+$/;function B(fe,se){if(fe instanceof Array)return;const ue=fe.match(se);if(ue){const pe=ue[1];if(pe.match(F))return W(pe);if(P.test(pe))return parseInt(pe)}}function W(fe){let se=0,ue=F.exec(fe);for(;ue!==null;){const[,pe,Ie]=ue;Ie==="h"&&(se+=parseInt(pe,10)*60*60),Ie==="m"&&(se+=parseInt(pe,10)*60),Ie==="s"&&(se+=parseInt(pe,10)),ue=F.exec(fe)}return se}function q(fe){return B(fe,N)}function Y(fe){return B(fe,k)}function V(){return Math.random().toString(36).substr(2,5)}function ne(fe){return Object.keys(fe).map(se=>`${se}=${fe[se]}`).join("&")}function G(fe){return window[fe]?window[fe]:window.exports&&window.exports[fe]?window.exports[fe]:window.module&&window.module.exports&&window.module.exports[fe]?window.module.exports[fe]:null}const J={},Q=function(se,ue,pe=null,Ie=()=>!0,Ae=O.default){const Re=G(ue);return Re&&Ie(Re)?Promise.resolve(Re):new Promise((Le,gt)=>{if(J[se]){J[se].push({resolve:Le,reject:gt});return}J[se]=[{resolve:Le,reject:gt}];const Ze=ft=>{J[se].forEach(wt=>wt.resolve(ft))};if(pe){const ft=window[pe];window[pe]=function(){ft&&ft(),Ze(G(ue))}}Ae(se,ft=>{ft?(J[se].forEach(wt=>wt.reject(ft)),J[se]=null):pe||Ze(G(ue))})})};function H(fe,se){return(0,C.default)(se.config,fe.config)}function ee(fe,...se){const ue=[].concat(...se),pe={},Ie=Object.keys(fe);for(const Ae of Ie)ue.indexOf(Ae)===-1&&(pe[Ae]=fe[Ae]);return pe}function z(fe,...se){if(!this.player||!this.player[fe]){let ue=`ReactPlayer: ${this.constructor.displayName} player could not call %c${fe}%c  `;return this.player?this.player[fe]||(ue+="The method was not available"):ue+="The player was not available",console.warn(ue,"font-weight: bold",""),null}return this.player[fe](...se)}function Z(fe){return typeof window<"u"&&typeof window.MediaStream<"u"&&fe instanceof window.MediaStream}function ye(fe){return/^blob:/.test(fe)}function he(fe=document.createElement("video")){const se=/iPhone|iPod/.test(navigator.userAgent)===!1;return fe.webkitSupportsPresentationMode&&typeof fe.webkitSetPresentationMode=="function"&&se}function ge(fe){return fe}return k1}var P1,M_;function BI(){if(M_)return P1;M_=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(z,Z)=>{for(var ye in Z)e(z,ye,{get:Z[ye],enumerable:!0})},c=(z,Z,ye,he)=>{if(Z&&typeof Z=="object"||typeof Z=="function")for(let ge of n(Z))!a.call(z,ge)&&ge!==ye&&e(z,ge,{get:()=>Z[ge],enumerable:!(he=t(Z,ge))||he.enumerable});return z},d=z=>c(e({},"__esModule",{value:!0}),z),y={};l(y,{AUDIO_EXTENSIONS:()=>V,DASH_EXTENSIONS:()=>J,FLV_EXTENSIONS:()=>Q,HLS_EXTENSIONS:()=>G,MATCH_URL_DAILYMOTION:()=>B,MATCH_URL_FACEBOOK:()=>C,MATCH_URL_FACEBOOK_WATCH:()=>R,MATCH_URL_KALTURA:()=>Y,MATCH_URL_MIXCLOUD:()=>W,MATCH_URL_MUX:()=>O,MATCH_URL_SOUNDCLOUD:()=>b,MATCH_URL_STREAMABLE:()=>N,MATCH_URL_TWITCH_CHANNEL:()=>P,MATCH_URL_TWITCH_VIDEO:()=>F,MATCH_URL_VIDYARD:()=>q,MATCH_URL_VIMEO:()=>E,MATCH_URL_WISTIA:()=>k,MATCH_URL_YOUTUBE:()=>g,VIDEO_EXTENSIONS:()=>ne,canPlay:()=>ee}),P1=d(y);var p=_d();const g=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,b=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,E=/vimeo\.com\/(?!progressive_redirect).+/,O=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,C=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,R=/^https?:\/\/fb\.watch\/.+$/,N=/streamable\.com\/([a-z0-9]+)$/,k=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,F=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,P=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,B=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,W=/mixcloud\.com\/([^/]+\/[^/]+)/,q=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,V=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,ne=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,G=/\.(m3u8)($|\?)/i,J=/\.(mpd)($|\?)/i,Q=/\.(flv)($|\?)/i,H=z=>{if(z instanceof Array){for(const Z of z)if(typeof Z=="string"&&H(Z)||H(Z.src))return!0;return!1}return(0,p.isMediaStream)(z)||(0,p.isBlobUrl)(z)?!0:V.test(z)||ne.test(z)||G.test(z)||J.test(z)||Q.test(z)},ee={youtube:z=>z instanceof Array?z.every(Z=>g.test(Z)):g.test(z),soundcloud:z=>b.test(z)&&!V.test(z),vimeo:z=>E.test(z)&&!ne.test(z)&&!G.test(z),mux:z=>O.test(z),facebook:z=>C.test(z)||R.test(z),streamable:z=>N.test(z),wistia:z=>k.test(z),twitch:z=>F.test(z)||P.test(z),dailymotion:z=>B.test(z),mixcloud:z=>W.test(z),vidyard:z=>q.test(z),kaltura:z=>Y.test(z),file:H};return P1}var B1,D_;function jI(){if(D_)return B1;D_=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(E,O)=>{for(var C in O)e(E,C,{get:O[C],enumerable:!0})},c=(E,O,C,R)=>{if(O&&typeof O=="object"||typeof O=="function")for(let N of n(O))!a.call(E,N)&&N!==C&&e(E,N,{get:()=>O[N],enumerable:!(R=t(O,N))||R.enumerable});return E},d=E=>c(e({},"__esModule",{value:!0}),E),y={};l(y,{default:()=>b}),B1=d(y);var p=_d(),g=BI(),b=[{key:"youtube",name:"YouTube",canPlay:g.canPlay.youtube,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./YouTube-BWoPox89.js").then(E=>E.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:g.canPlay.soundcloud,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./SoundCloud-tZXR9laO.js").then(E=>E.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:g.canPlay.vimeo,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Vimeo-E8LIiZVG.js").then(E=>E.V),[]))},{key:"mux",name:"Mux",canPlay:g.canPlay.mux,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Mux-DXkzYC2B.js").then(E=>E.M),[]))},{key:"facebook",name:"Facebook",canPlay:g.canPlay.facebook,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Facebook-Cp15JqyB.js").then(E=>E.F),[]))},{key:"streamable",name:"Streamable",canPlay:g.canPlay.streamable,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Streamable-2lBJ24bW.js").then(E=>E.S),[]))},{key:"wistia",name:"Wistia",canPlay:g.canPlay.wistia,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Wistia-Dp7EATPt.js").then(E=>E.W),[]))},{key:"twitch",name:"Twitch",canPlay:g.canPlay.twitch,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Twitch-BwCCG2jy.js").then(E=>E.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:g.canPlay.dailymotion,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./DailyMotion-kM6E89JD.js").then(E=>E.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:g.canPlay.mixcloud,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Mixcloud-DYq_Ezfh.js").then(E=>E.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:g.canPlay.vidyard,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Vidyard-B2W3nGTa.js").then(E=>E.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:g.canPlay.kaltura,lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./Kaltura-DubQR0_e.js").then(E=>E.K),[]))},{key:"file",name:"FilePlayer",canPlay:g.canPlay.file,canEnablePIP:E=>g.canPlay.file(E)&&(document.pictureInPictureEnabled||(0,p.supportsWebKitPresentationMode)())&&!g.AUDIO_EXTENSIONS.test(E),lazyPlayer:(0,p.lazy)(()=>Xr(()=>import("./FilePlayer-CzxBePwA.js").then(E=>E.F),[]))}];return B1}var L_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function zI(e,t){return!!(e===t||L_(e)&&L_(t))}function UI(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!zI(e[n],t[n]))return!1;return!0}function FI(e,t){t===void 0&&(t=UI);var n,a=[],l,c=!1;function d(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];return c&&n===this&&t(y,a)||(l=e.apply(this,y),c=!0,n=this,a=y),l}return d}const HI=Object.freeze(Object.defineProperty({__proto__:null,default:FI},Symbol.toStringTag,{value:"Module"})),VI=lw(HI);var j1,k_;function gE(){if(k_)return j1;k_=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var y,p,g;if(Array.isArray(c)){if(y=c.length,y!=d.length)return!1;for(p=y;p--!==0;)if(!l(c[p],d[p]))return!1;return!0}var b;if(t&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(b=c.entries();!(p=b.next()).done;)if(!d.has(p.value[0]))return!1;for(b=c.entries();!(p=b.next()).done;)if(!l(p.value[1],d.get(p.value[0])))return!1;return!0}if(n&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(b=c.entries();!(p=b.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if(y=c.length,y!=d.length)return!1;for(p=y;p--!==0;)if(c[p]!==d[p])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if(g=Object.keys(c),y=g.length,y!==Object.keys(d).length)return!1;for(p=y;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(e&&c instanceof Element)return!1;for(p=y;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&c.$$typeof)&&!l(c[g[p]],d[g[p]]))return!1;return!0}return c!==c&&d!==d}return j1=function(d,y){try{return l(d,y)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},j1}var z1,P_;function vE(){if(P_)return z1;P_=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(ne,G)=>{for(var J in G)t(ne,J,{get:G[J],enumerable:!0})},y=(ne,G,J,Q)=>{if(G&&typeof G=="object"||typeof G=="function")for(let H of a(G))!c.call(ne,H)&&H!==J&&t(ne,H,{get:()=>G[H],enumerable:!(Q=n(G,H))||Q.enumerable});return ne},p=(ne,G,J)=>(J=ne!=null?e(l(ne)):{},y(!ne||!ne.__esModule?t(J,"default",{value:ne,enumerable:!0}):J,ne)),g=ne=>y(t({},"__esModule",{value:!0}),ne),b={};d(b,{defaultProps:()=>V,propTypes:()=>q}),z1=g(b);var E=p(Pl());const{string:O,bool:C,number:R,array:N,oneOfType:k,shape:F,object:P,func:B,node:W}=E.default,q={url:k([O,N,P]),playing:C,loop:C,controls:C,volume:R,muted:C,playbackRate:R,width:k([O,R]),height:k([O,R]),style:P,progressInterval:R,playsinline:C,pip:C,stopOnUnmount:C,light:k([C,O,P]),playIcon:W,previewTabIndex:R,previewAriaLabel:O,fallback:W,oEmbedUrl:O,wrapper:k([O,B,F({render:B.isRequired})]),config:F({soundcloud:F({options:P}),youtube:F({playerVars:P,embedOptions:P,onUnstarted:B}),facebook:F({appId:O,version:O,playerId:O,attributes:P}),dailymotion:F({params:P}),vimeo:F({playerOptions:P,title:O}),mux:F({attributes:P,version:O}),file:F({attributes:P,tracks:N,forceVideo:C,forceAudio:C,forceHLS:C,forceSafariHLS:C,forceDisableHls:C,forceDASH:C,forceFLV:C,hlsOptions:P,hlsVersion:O,dashVersion:O,flvVersion:O}),wistia:F({options:P,playerId:O,customControls:N}),mixcloud:F({options:P}),twitch:F({options:P,playerId:O}),vidyard:F({options:P})}),onReady:B,onStart:B,onPlay:B,onPause:B,onBuffer:B,onBufferEnd:B,onEnded:B,onError:B,onDuration:B,onSeek:B,onPlaybackRateChange:B,onPlaybackQualityChange:B,onProgress:B,onClickPreview:B,onEnablePIP:B,onDisablePIP:B},Y=()=>{},V={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Y,onStart:Y,onPlay:Y,onPause:Y,onBuffer:Y,onBufferEnd:Y,onEnded:Y,onError:Y,onDuration:Y,onSeek:Y,onPlaybackRateChange:Y,onPlaybackQualityChange:Y,onProgress:Y,onClickPreview:Y,onEnablePIP:Y,onDisablePIP:Y};return z1}var U1,B_;function qI(){if(B_)return U1;B_=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(B,W,q)=>W in B?t(B,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):B[W]=q,y=(B,W)=>{for(var q in W)t(B,q,{get:W[q],enumerable:!0})},p=(B,W,q,Y)=>{if(W&&typeof W=="object"||typeof W=="function")for(let V of a(W))!c.call(B,V)&&V!==q&&t(B,V,{get:()=>W[V],enumerable:!(Y=n(W,V))||Y.enumerable});return B},g=(B,W,q)=>(q=B!=null?e(l(B)):{},p(!B||!B.__esModule?t(q,"default",{value:B,enumerable:!0}):q,B)),b=B=>p(t({},"__esModule",{value:!0}),B),E=(B,W,q)=>(d(B,typeof W!="symbol"?W+"":W,q),q),O={};y(O,{default:()=>P}),U1=b(O);var C=g(ui()),R=g(gE()),N=vE(),k=_d();const F=5e3;class P extends C.Component{constructor(){super(...arguments),E(this,"mounted",!1),E(this,"isReady",!1),E(this,"isPlaying",!1),E(this,"isLoading",!0),E(this,"loadOnReady",null),E(this,"startOnPlay",!0),E(this,"seekOnPlay",null),E(this,"onDurationCalled",!1),E(this,"handlePlayerMount",W=>{if(this.player){this.progress();return}this.player=W,this.player.load(this.props.url),this.progress()}),E(this,"getInternalPlayer",W=>this.player?this.player[W]:null),E(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const W=this.getCurrentTime()||0,q=this.getSecondsLoaded(),Y=this.getDuration();if(Y){const V={playedSeconds:W,played:W/Y};q!==null&&(V.loadedSeconds=q,V.loaded=q/Y),(V.playedSeconds!==this.prevPlayed||V.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(V),this.prevPlayed=V.playedSeconds,this.prevLoaded=V.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),E(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:W,playing:q,volume:Y,muted:V}=this.props;W(),!V&&Y!==null&&this.player.setVolume(Y),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):q&&this.player.play(),this.handleDurationCheck()}),E(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:W,onPlay:q,playbackRate:Y}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&Y!==1&&this.player.setPlaybackRate(Y),W(),this.startOnPlay=!1),q(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),E(this,"handlePause",W=>{this.isPlaying=!1,this.isLoading||this.props.onPause(W)}),E(this,"handleEnded",()=>{const{activePlayer:W,loop:q,onEnded:Y}=this.props;W.loopOnEnded&&q&&this.seekTo(0),q||(this.isPlaying=!1,Y())}),E(this,"handleError",(...W)=>{this.isLoading=!1,this.props.onError(...W)}),E(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const W=this.getDuration();W?this.onDurationCalled||(this.props.onDuration(W),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),E(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(W){if(!this.player)return;const{url:q,playing:Y,volume:V,muted:ne,playbackRate:G,pip:J,loop:Q,activePlayer:H,disableDeferredLoading:ee}=this.props;if(!(0,R.default)(W.url,q)){if(this.isLoading&&!H.forceLoad&&!ee&&!(0,k.isMediaStream)(q)){console.warn(`ReactPlayer: the attempt to load ${q} is being deferred until the player has loaded`),this.loadOnReady=q;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(q,this.isReady)}!W.playing&&Y&&!this.isPlaying&&this.player.play(),W.playing&&!Y&&this.isPlaying&&this.player.pause(),!W.pip&&J&&this.player.enablePIP&&this.player.enablePIP(),W.pip&&!J&&this.player.disablePIP&&this.player.disablePIP(),W.volume!==V&&V!==null&&this.player.setVolume(V),W.muted!==ne&&(ne?this.player.mute():(this.player.unmute(),V!==null&&setTimeout(()=>this.player.setVolume(V)))),W.playbackRate!==G&&this.player.setPlaybackRate&&this.player.setPlaybackRate(G),W.loop!==Q&&this.player.setLoop&&this.player.setLoop(Q)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(W,q,Y){if(!this.isReady){W!==0&&(this.seekOnPlay=W,setTimeout(()=>{this.seekOnPlay=null},F));return}if(q?q==="fraction":W>0&&W<1){const ne=this.player.getDuration();if(!ne){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(ne*W,Y);return}this.player.seekTo(W,Y)}render(){const W=this.props.activePlayer;return W?C.default.createElement(W,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return E(P,"displayName","Player"),E(P,"propTypes",N.propTypes),E(P,"defaultProps",N.defaultProps),U1}var F1,j_;function WI(){if(j_)return F1;j_=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(Q,H,ee)=>H in Q?t(Q,H,{enumerable:!0,configurable:!0,writable:!0,value:ee}):Q[H]=ee,y=(Q,H)=>{for(var ee in H)t(Q,ee,{get:H[ee],enumerable:!0})},p=(Q,H,ee,z)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Z of a(H))!c.call(Q,Z)&&Z!==ee&&t(Q,Z,{get:()=>H[Z],enumerable:!(z=n(H,Z))||z.enumerable});return Q},g=(Q,H,ee)=>(ee=Q!=null?e(l(Q)):{},p(!Q||!Q.__esModule?t(ee,"default",{value:Q,enumerable:!0}):ee,Q)),b=Q=>p(t({},"__esModule",{value:!0}),Q),E=(Q,H,ee)=>(d(Q,typeof H!="symbol"?H+"":H,ee),ee),O={};y(O,{createReactPlayer:()=>J}),F1=b(O);var C=g(ui()),R=g(pE()),N=g(VI),k=g(gE()),F=vE(),P=_d(),B=g(qI());const W=(0,P.lazy)(()=>Xr(()=>import("./Preview-Czhj0Hvm.js").then(Q=>Q.P),[])),q=typeof window<"u"&&window.document&&typeof document<"u",Y=typeof Mi<"u"&&Mi.window&&Mi.window.document,V=Object.keys(F.propTypes),ne=q||Y?C.Suspense:()=>null,G=[],J=(Q,H)=>{var ee;return ee=class extends C.Component{constructor(){super(...arguments),E(this,"state",{showPreview:!!this.props.light}),E(this,"references",{wrapper:z=>{this.wrapper=z},player:z=>{this.player=z}}),E(this,"handleClickPreview",z=>{this.setState({showPreview:!1}),this.props.onClickPreview(z)}),E(this,"showPreview",()=>{this.setState({showPreview:!0})}),E(this,"getDuration",()=>this.player?this.player.getDuration():null),E(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),E(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),E(this,"getInternalPlayer",(z="player")=>this.player?this.player.getInternalPlayer(z):null),E(this,"seekTo",(z,Z,ye)=>{if(!this.player)return null;this.player.seekTo(z,Z,ye)}),E(this,"handleReady",()=>{this.props.onReady(this)}),E(this,"getActivePlayer",(0,N.default)(z=>{for(const Z of[...G,...Q])if(Z.canPlay(z))return Z;return H||null})),E(this,"getConfig",(0,N.default)((z,Z)=>{const{config:ye}=this.props;return R.default.all([F.defaultProps.config,F.defaultProps.config[Z]||{},ye,ye[Z]||{}])})),E(this,"getAttributes",(0,N.default)(z=>(0,P.omit)(this.props,V))),E(this,"renderActivePlayer",z=>{if(!z)return null;const Z=this.getActivePlayer(z);if(!Z)return null;const ye=this.getConfig(z,Z.key);return C.default.createElement(B.default,{...this.props,key:Z.key,ref:this.references.player,config:ye,activePlayer:Z.lazyPlayer||Z,onReady:this.handleReady})})}shouldComponentUpdate(z,Z){return!(0,k.default)(this.props,z)||!(0,k.default)(this.state,Z)}componentDidUpdate(z){const{light:Z}=this.props;!z.light&&Z&&this.setState({showPreview:!0}),z.light&&!Z&&this.setState({showPreview:!1})}renderPreview(z){if(!z)return null;const{light:Z,playIcon:ye,previewTabIndex:he,oEmbedUrl:ge,previewAriaLabel:fe}=this.props;return C.default.createElement(W,{url:z,light:Z,playIcon:ye,previewTabIndex:he,previewAriaLabel:fe,oEmbedUrl:ge,onClick:this.handleClickPreview})}render(){const{url:z,style:Z,width:ye,height:he,fallback:ge,wrapper:fe}=this.props,{showPreview:se}=this.state,ue=this.getAttributes(z),pe=typeof fe=="string"?this.references.wrapper:void 0;return C.default.createElement(fe,{ref:pe,style:{...Z,width:ye,height:he},...ue},C.default.createElement(ne,{fallback:ge},se?this.renderPreview(z):this.renderActivePlayer(z)))}},E(ee,"displayName","ReactPlayer"),E(ee,"propTypes",F.propTypes),E(ee,"defaultProps",F.defaultProps),E(ee,"addCustomPlayer",z=>{G.push(z)}),E(ee,"removeCustomPlayers",()=>{G.length=0}),E(ee,"canPlay",z=>{for(const Z of[...G,...Q])if(Z.canPlay(z))return!0;return!1}),E(ee,"canEnablePIP",z=>{for(const Z of[...G,...Q])if(Z.canEnablePIP&&Z.canEnablePIP(z))return!0;return!1}),ee};return F1}var H1,z_;function GI(){if(z_)return H1;z_=1;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(N,k)=>{for(var F in k)t(N,F,{get:k[F],enumerable:!0})},y=(N,k,F,P)=>{if(k&&typeof k=="object"||typeof k=="function")for(let B of a(k))!c.call(N,B)&&B!==F&&t(N,B,{get:()=>k[B],enumerable:!(P=n(k,B))||P.enumerable});return N},p=(N,k,F)=>(F=N!=null?e(l(N)):{},y(!N||!N.__esModule?t(F,"default",{value:N,enumerable:!0}):F,N)),g=N=>y(t({},"__esModule",{value:!0}),N),b={};d(b,{default:()=>R}),H1=g(b);var E=p(jI()),O=WI();const C=E.default[E.default.length-1];var R=(0,O.createReactPlayer)(E.default,C);return H1}var ZI=GI();const YI=Vo(ZI),XI=()=>D.jsx("div",{className:"animate-pulse",children:D.jsx("div",{className:"relative bg-gray-200 rounded-md aspect-video"})}),$I=()=>D.jsxs("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3 py-16 flex flex-col items-center justify-center text-center",children:[D.jsx(NI,{className:"text-5xl text-gray-400 mb-4"}),D.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),U_=({videos:e,title:t,facebook:n=!1,tiktok:a=!1,loading:l=!1})=>{const[c,d]=K.useState(!1);return K.useEffect(()=>{if(!l){const y=setTimeout(()=>d(!0),100);return()=>clearTimeout(y)}},[l]),!l&&e.length===0?D.jsxs("div",{className:"mb-16",children:[D.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center text-gray-800",children:[n?D.jsx(Zm,{className:"mr-2 text-blue-600"}):a?D.jsx(Jh,{className:"mr-2 text-black"}):null,t]}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:D.jsx($I,{})})]}):D.jsxs("div",{className:"mb-16",children:[D.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center text-gray-800",children:[n?D.jsx(Zm,{className:"mr-2 text-blue-600"}):a?D.jsx(Jh,{className:"mr-2 text-black"}):null,t]}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:l?Array.from({length:6}).map((y,p)=>D.jsx(XI,{},p)):e.map((y,p)=>D.jsx("div",{className:`transform transition-all duration-700 ease-out   
                            ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}  
                            hover:scale-[1.03]`,style:{transitionDelay:`${p*150}ms`},children:D.jsxs("div",{className:`relative overflow-hidden bg-white rounded-md shadow-lg border border-gray-100
                                ${n||a?"aspect-[9/16]":"aspect-video"}`,children:[n?D.jsx("div",{className:"w-full aspect-[9/16] relative",children:D.jsx("iframe",{src:`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(y.url)}&show_text=0&width=360`,className:"absolute top-0 left-0 w-full h-full rounded-md",style:{border:"none",overflow:"hidden",objectFit:"cover"},scrolling:"no",frameBorder:"0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}):a?D.jsx("iframe",{src:y.url,className:"absolute top-0 left-0 w-full h-full",style:{objectFit:"cover"},frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:`TikTok Video ${y.id}`}):D.jsx(YI,{controls:!0,url:y.url,width:"100%",height:"100%",style:{objectFit:"cover"},className:"rounded-md"}),!(n||a)&&D.jsx(CI,{className:"absolute top-2 right-2 text-white text-xl drop-shadow"})]})},y.id))})]})},KI=()=>{const[e,t]=K.useState("facebook"),[n,a]=K.useState([]),[l,c]=K.useState([]),[d,y]=K.useState(!0),[p,g]=K.useState(null);return K.useEffect(()=>{(async()=>{y(!0),g(null);try{const{data:E,error:O}=await da.from("videos").select("*").order("created_at",{ascending:!1});if(O)throw O;E&&(a(E.filter(C=>C.platform==="facebook")),c(E.filter(C=>C.platform==="tiktok")))}catch(E){console.error("Error fetching videos:",E.message),g("")}finally{y(!1)}})()},[]),p?D.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gray-50",children:D.jsx("p",{className:"text-xl text-red-500",children:p})}):D.jsx("div",{className:"min-h-screen bg-white text-gray-800",children:D.jsxs("div",{className:"max-w-7xl mx-auto py-8 pt-40 px-4 sm:px-6 lg:px-8",children:[D.jsx("h2",{className:"text-4xl font-extrabold text-center mb-12 text-gray-900",children:""}),D.jsxs("div",{className:"flex justify-center mb-10 gap-1",children:[D.jsxs("button",{className:`px-6 py-2 text-lg font-semibold rounded-l-full transition-colors duration-300 ${e==="facebook"?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>t("facebook"),children:[D.jsx(Zm,{className:"inline mr-2"}),"Facebook"]}),D.jsxs("button",{className:`px-6 py-2 text-lg font-semibold rounded-r-full transition-colors duration-300 ${e==="tiktok"?"bg-black text-white shadow-md":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>t("tiktok"),children:[D.jsx(Jh,{className:"inline mr-2"}),"TikTok"]})]}),e==="facebook"&&D.jsx(U_,{videos:n,title:" Facebook",facebook:!0,loading:d}),e==="tiktok"&&D.jsx(U_,{videos:l,title:" TikTok",tiktok:!0,loading:d})]})})};var Wc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var QI=Wc.exports,F_;function JI(){return F_||(F_=1,function(e,t){(function(n,a){a(t)})(QI,function(n){var a="1.9.4";function l(u){var _,A,U,X;for(A=1,U=arguments.length;A<U;A++){X=arguments[A];for(_ in X)u[_]=X[_]}return u}var c=Object.create||function(){function u(){}return function(_){return u.prototype=_,new u}}();function d(u,_){var A=Array.prototype.slice;if(u.bind)return u.bind.apply(u,A.call(arguments,1));var U=A.call(arguments,2);return function(){return u.apply(_,U.length?U.concat(A.call(arguments)):arguments)}}var y=0;function p(u){return"_leaflet_id"in u||(u._leaflet_id=++y),u._leaflet_id}function g(u,_,A){var U,X,oe,we;return we=function(){U=!1,X&&(oe.apply(A,X),X=!1)},oe=function(){U?X=arguments:(u.apply(A,arguments),setTimeout(we,_),U=!0)},oe}function b(u,_,A){var U=_[1],X=_[0],oe=U-X;return u===U&&A?u:((u-X)%oe+oe)%oe+X}function E(){return!1}function O(u,_){if(_===!1)return u;var A=Math.pow(10,_===void 0?6:_);return Math.round(u*A)/A}function C(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function R(u){return C(u).split(/\s+/)}function N(u,_){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?c(u.options):{});for(var A in _)u.options[A]=_[A];return u.options}function k(u,_,A){var U=[];for(var X in u)U.push(encodeURIComponent(A?X.toUpperCase():X)+"="+encodeURIComponent(u[X]));return(!_||_.indexOf("?")===-1?"?":"&")+U.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function P(u,_){return u.replace(F,function(A,U){var X=_[U];if(X===void 0)throw new Error("No value provided for variable "+A);return typeof X=="function"&&(X=X(_)),X})}var B=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function W(u,_){for(var A=0;A<u.length;A++)if(u[A]===_)return A;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var V=0;function ne(u){var _=+new Date,A=Math.max(0,16-(_-V));return V=_+A,window.setTimeout(u,A)}var G=window.requestAnimationFrame||Y("RequestAnimationFrame")||ne,J=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function Q(u,_,A){if(A&&G===ne)u.call(_);else return G.call(window,d(u,_))}function H(u){u&&J.call(window,u)}var ee={__proto__:null,extend:l,create:c,bind:d,get lastId(){return y},stamp:p,throttle:g,wrapNum:b,falseFn:E,formatNum:O,trim:C,splitWords:R,setOptions:N,getParamString:k,template:P,isArray:B,indexOf:W,emptyImageUrl:q,requestFn:G,cancelFn:J,requestAnimFrame:Q,cancelAnimFrame:H};function z(){}z.extend=function(u){var _=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=_.__super__=this.prototype,U=c(A);U.constructor=_,_.prototype=U;for(var X in this)Object.prototype.hasOwnProperty.call(this,X)&&X!=="prototype"&&X!=="__super__"&&(_[X]=this[X]);return u.statics&&l(_,u.statics),u.includes&&(Z(u.includes),l.apply(null,[U].concat(u.includes))),l(U,u),delete U.statics,delete U.includes,U.options&&(U.options=A.options?c(A.options):{},l(U.options,u.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,we=U._initHooks.length;oe<we;oe++)U._initHooks[oe].call(this)}},_},z.include=function(u){var _=this.prototype.options;return l(this.prototype,u),u.options&&(this.prototype.options=_,this.mergeOptions(u.options)),this},z.mergeOptions=function(u){return l(this.prototype.options,u),this},z.addInitHook=function(u){var _=Array.prototype.slice.call(arguments,1),A=typeof u=="function"?u:function(){this[u].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function Z(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=B(u)?u:[u];for(var _=0;_<u.length;_++)u[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(u,_,A){if(typeof u=="object")for(var U in u)this._on(U,u[U],_);else{u=R(u);for(var X=0,oe=u.length;X<oe;X++)this._on(u[X],_,A)}return this},off:function(u,_,A){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var U in u)this._off(U,u[U],_);else{u=R(u);for(var X=arguments.length===1,oe=0,we=u.length;oe<we;oe++)X?this._off(u[oe]):this._off(u[oe],_,A)}return this},_on:function(u,_,A,U){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(u,_,A)===!1){A===this&&(A=void 0);var X={fn:_,ctx:A};U&&(X.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(X)}},_off:function(u,_,A){var U,X,oe;if(this._events&&(U=this._events[u],!!U)){if(arguments.length===1){if(this._firingCount)for(X=0,oe=U.length;X<oe;X++)U[X].fn=E;delete this._events[u];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var we=this._listens(u,_,A);if(we!==!1){var Me=U[we];this._firingCount&&(Me.fn=E,this._events[u]=U=U.slice()),U.splice(we,1)}}},fire:function(u,_,A){if(!this.listens(u,A))return this;var U=l({},_,{type:u,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var X=this._events[u];if(X){this._firingCount=this._firingCount+1||1;for(var oe=0,we=X.length;oe<we;oe++){var Me=X[oe],We=Me.fn;Me.once&&this.off(u,We,Me.ctx),We.call(Me.ctx||this,U)}this._firingCount--}}return A&&this._propagateEvent(U),this},listens:function(u,_,A,U){typeof u!="string"&&console.warn('"string" type argument expected');var X=_;typeof _!="function"&&(U=!!_,X=void 0,A=void 0);var oe=this._events&&this._events[u];if(oe&&oe.length&&this._listens(u,X,A)!==!1)return!0;if(U){for(var we in this._eventParents)if(this._eventParents[we].listens(u,_,A,U))return!0}return!1},_listens:function(u,_,A){if(!this._events)return!1;var U=this._events[u]||[];if(!_)return!!U.length;A===this&&(A=void 0);for(var X=0,oe=U.length;X<oe;X++)if(U[X].fn===_&&U[X].ctx===A)return X;return!1},once:function(u,_,A){if(typeof u=="object")for(var U in u)this._on(U,u[U],_,!0);else{u=R(u);for(var X=0,oe=u.length;X<oe;X++)this._on(u[X],_,A,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[p(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[p(u)],this},_propagateEvent:function(u){for(var _ in this._eventParents)this._eventParents[_].fire(u.type,l({layer:u.target,propagatedFrom:u.target},u),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var he=z.extend(ye);function ge(u,_,A){this.x=A?Math.round(u):u,this.y=A?Math.round(_):_}var fe=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ge.prototype={clone:function(){return new ge(this.x,this.y)},add:function(u){return this.clone()._add(se(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(se(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ge(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ge(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(u){u=se(u);var _=u.x-this.x,A=u.y-this.y;return Math.sqrt(_*_+A*A)},equals:function(u){return u=se(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=se(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function se(u,_,A){return u instanceof ge?u:B(u)?new ge(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ge(u.x,u.y):new ge(u,_,A)}function ue(u,_){if(u)for(var A=_?[u,_]:u,U=0,X=A.length;U<X;U++)this.extend(A[U])}ue.prototype={extend:function(u){var _,A;if(!u)return this;if(u instanceof ge||typeof u[0]=="number"||"x"in u)_=A=se(u);else if(u=pe(u),_=u.min,A=u.max,!_||!A)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=A.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(u){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var _,A;return typeof u[0]=="number"||u instanceof ge?u=se(u):u=pe(u),u instanceof ue?(_=u.min,A=u.max):_=A=u,_.x>=this.min.x&&A.x<=this.max.x&&_.y>=this.min.y&&A.y<=this.max.y},intersects:function(u){u=pe(u);var _=this.min,A=this.max,U=u.min,X=u.max,oe=X.x>=_.x&&U.x<=A.x,we=X.y>=_.y&&U.y<=A.y;return oe&&we},overlaps:function(u){u=pe(u);var _=this.min,A=this.max,U=u.min,X=u.max,oe=X.x>_.x&&U.x<A.x,we=X.y>_.y&&U.y<A.y;return oe&&we},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var _=this.min,A=this.max,U=Math.abs(_.x-A.x)*u,X=Math.abs(_.y-A.y)*u;return pe(se(_.x-U,_.y-X),se(A.x+U,A.y+X))},equals:function(u){return u?(u=pe(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function pe(u,_){return!u||u instanceof ue?u:new ue(u,_)}function Ie(u,_){if(u)for(var A=_?[u,_]:u,U=0,X=A.length;U<X;U++)this.extend(A[U])}Ie.prototype={extend:function(u){var _=this._southWest,A=this._northEast,U,X;if(u instanceof Re)U=u,X=u;else if(u instanceof Ie){if(U=u._southWest,X=u._northEast,!U||!X)return this}else return u?this.extend(Le(u)||Ae(u)):this;return!_&&!A?(this._southWest=new Re(U.lat,U.lng),this._northEast=new Re(X.lat,X.lng)):(_.lat=Math.min(U.lat,_.lat),_.lng=Math.min(U.lng,_.lng),A.lat=Math.max(X.lat,A.lat),A.lng=Math.max(X.lng,A.lng)),this},pad:function(u){var _=this._southWest,A=this._northEast,U=Math.abs(_.lat-A.lat)*u,X=Math.abs(_.lng-A.lng)*u;return new Ie(new Re(_.lat-U,_.lng-X),new Re(A.lat+U,A.lng+X))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Re||"lat"in u?u=Le(u):u=Ae(u);var _=this._southWest,A=this._northEast,U,X;return u instanceof Ie?(U=u.getSouthWest(),X=u.getNorthEast()):U=X=u,U.lat>=_.lat&&X.lat<=A.lat&&U.lng>=_.lng&&X.lng<=A.lng},intersects:function(u){u=Ae(u);var _=this._southWest,A=this._northEast,U=u.getSouthWest(),X=u.getNorthEast(),oe=X.lat>=_.lat&&U.lat<=A.lat,we=X.lng>=_.lng&&U.lng<=A.lng;return oe&&we},overlaps:function(u){u=Ae(u);var _=this._southWest,A=this._northEast,U=u.getSouthWest(),X=u.getNorthEast(),oe=X.lat>_.lat&&U.lat<A.lat,we=X.lng>_.lng&&U.lng<A.lng;return oe&&we},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,_){return u?(u=Ae(u),this._southWest.equals(u.getSouthWest(),_)&&this._northEast.equals(u.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ae(u,_){return u instanceof Ie?u:new Ie(u,_)}function Re(u,_,A){if(isNaN(u)||isNaN(_))throw new Error("Invalid LatLng object: ("+u+", "+_+")");this.lat=+u,this.lng=+_,A!==void 0&&(this.alt=+A)}Re.prototype={equals:function(u,_){if(!u)return!1;u=Le(u);var A=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return A<=(_===void 0?1e-9:_)},toString:function(u){return"LatLng("+O(this.lat,u)+", "+O(this.lng,u)+")"},distanceTo:function(u){return Ze.distance(this,Le(u))},wrap:function(){return Ze.wrapLatLng(this)},toBounds:function(u){var _=180*u/40075017,A=_/Math.cos(Math.PI/180*this.lat);return Ae([this.lat-_,this.lng-A],[this.lat+_,this.lng+A])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Le(u,_,A){return u instanceof Re?u:B(u)&&typeof u[0]!="object"?u.length===3?new Re(u[0],u[1],u[2]):u.length===2?new Re(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Re(u.lat,"lng"in u?u.lng:u.lon,u.alt):_===void 0?null:new Re(u,_,A)}var gt={latLngToPoint:function(u,_){var A=this.projection.project(u),U=this.scale(_);return this.transformation._transform(A,U)},pointToLatLng:function(u,_){var A=this.scale(_),U=this.transformation.untransform(u,A);return this.projection.unproject(U)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var _=this.projection.bounds,A=this.scale(u),U=this.transformation.transform(_.min,A),X=this.transformation.transform(_.max,A);return new ue(U,X)},infinite:!1,wrapLatLng:function(u){var _=this.wrapLng?b(u.lng,this.wrapLng,!0):u.lng,A=this.wrapLat?b(u.lat,this.wrapLat,!0):u.lat,U=u.alt;return new Re(A,_,U)},wrapLatLngBounds:function(u){var _=u.getCenter(),A=this.wrapLatLng(_),U=_.lat-A.lat,X=_.lng-A.lng;if(U===0&&X===0)return u;var oe=u.getSouthWest(),we=u.getNorthEast(),Me=new Re(oe.lat-U,oe.lng-X),We=new Re(we.lat-U,we.lng-X);return new Ie(Me,We)}},Ze=l({},gt,{wrapLng:[-180,180],R:6371e3,distance:function(u,_){var A=Math.PI/180,U=u.lat*A,X=_.lat*A,oe=Math.sin((_.lat-u.lat)*A/2),we=Math.sin((_.lng-u.lng)*A/2),Me=oe*oe+Math.cos(U)*Math.cos(X)*we*we,We=2*Math.atan2(Math.sqrt(Me),Math.sqrt(1-Me));return this.R*We}}),ft=6378137,wt={R:ft,MAX_LATITUDE:85.0511287798,project:function(u){var _=Math.PI/180,A=this.MAX_LATITUDE,U=Math.max(Math.min(A,u.lat),-A),X=Math.sin(U*_);return new ge(this.R*u.lng*_,this.R*Math.log((1+X)/(1-X))/2)},unproject:function(u){var _=180/Math.PI;return new Re((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*_,u.x*_/this.R)},bounds:function(){var u=ft*Math.PI;return new ue([-u,-u],[u,u])}()};function Mt(u,_,A,U){if(B(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=_,this._c=A,this._d=U}Mt.prototype={transform:function(u,_){return this._transform(u.clone(),_)},_transform:function(u,_){return _=_||1,u.x=_*(this._a*u.x+this._b),u.y=_*(this._c*u.y+this._d),u},untransform:function(u,_){return _=_||1,new ge((u.x/_-this._b)/this._a,(u.y/_-this._d)/this._c)}};function Yt(u,_,A,U){return new Mt(u,_,A,U)}var Tt=l({},Ze,{code:"EPSG:3857",projection:wt,transformation:function(){var u=.5/(Math.PI*wt.R);return Yt(u,.5,-u,.5)}()}),re=l({},Tt,{code:"EPSG:900913"});function Ye(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Ue(u,_){var A="",U,X,oe,we,Me,We;for(U=0,oe=u.length;U<oe;U++){for(Me=u[U],X=0,we=Me.length;X<we;X++)We=Me[X],A+=(X?"L":"M")+We.x+" "+We.y;A+=_?Ge.svg?"z":"x":""}return A||"M0 0"}var _e=document.documentElement.style,de="ActiveXObject"in window,Ee=de&&!document.addEventListener,Je="msLaunchUri"in navigator&&!("documentMode"in document),ke=Xe("webkit"),je=Xe("android"),ct=Xe("android 2")||Xe("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ut=je&&Xe("Google")&&lt<537&&!("AudioNode"in window),yt=!!window.opera,dn=!Je&&Xe("chrome"),It=Xe("gecko")&&!ke&&!yt&&!de,nn=!dn&&Xe("safari"),fi=Xe("phantom"),nr="OTransition"in _e,Yi=navigator.platform.indexOf("Win")===0,Nt=de&&"transition"in _e,rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ct,Ln="MozPerspective"in _e,Ft=!window.L_DISABLE_3D&&(Nt||rt||Ln)&&!nr&&!fi,Gt=typeof orientation<"u"||Xe("mobile"),ki=Gt&&ke,Pi=Gt&&rt,ma=!window.PointerEvent&&window.MSPointerEvent,Zt=!!(window.PointerEvent||ma),rr="ontouchstart"in window||!!window.TouchEvent,Fr=!window.L_NO_TOUCH&&(rr||Zt),pa=Gt&&yt,Sr=Gt&&It,Xa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$n=function(){var u=!1;try{var _=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",E,_),window.removeEventListener("testPassiveEventSupport",E,_)}catch{}return u}(),yi=function(){return!!document.createElement("canvas").getContext}(),Bi=!!(document.createElementNS&&Ye("svg").createSVGRect),Lr=!!Bi&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Se=!Bi&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var _=u.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}}(),Ne=navigator.platform.indexOf("Mac")===0,He=navigator.platform.indexOf("Linux")===0;function Xe(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Ge={ie:de,ielt9:Ee,edge:Je,webkit:ke,android:je,android23:ct,androidStock:ut,opera:yt,chrome:dn,gecko:It,safari:nn,phantom:fi,opera12:nr,win:Yi,ie3d:Nt,webkit3d:rt,gecko3d:Ln,any3d:Ft,mobile:Gt,mobileWebkit:ki,mobileWebkit3d:Pi,msPointer:ma,pointer:Zt,touch:Fr,touchNative:rr,mobileOpera:pa,mobileGecko:Sr,retina:Xa,passiveEvents:$n,canvas:yi,svg:Bi,vml:Se,inlineSvg:Lr,mac:Ne,linux:He},xt=Ge.msPointer?"MSPointerDown":"pointerdown",$e=Ge.msPointer?"MSPointerMove":"pointermove",dt=Ge.msPointer?"MSPointerUp":"pointerup",pt=Ge.msPointer?"MSPointerCancel":"pointercancel",ht={touchstart:xt,touchmove:$e,touchend:dt,touchcancel:pt},bt={touchstart:hn,touchmove:or,touchend:or,touchcancel:or},Bt={},$t=!1;function In(u,_,A){return _==="touchstart"&&vn(),bt[_]?(A=bt[_].bind(this,A),u.addEventListener(ht[_],A,!1),A):(console.warn("wrong event specified:",_),E)}function En(u,_,A){if(!ht[_]){console.warn("wrong event specified:",_);return}u.removeEventListener(ht[_],A,!1)}function mn(u){Bt[u.pointerId]=u}function en(u){Bt[u.pointerId]&&(Bt[u.pointerId]=u)}function Rn(u){delete Bt[u.pointerId]}function vn(){$t||(document.addEventListener(xt,mn,!0),document.addEventListener($e,en,!0),document.addEventListener(dt,Rn,!0),document.addEventListener(pt,Rn,!0),$t=!0)}function or(u,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var A in Bt)_.touches.push(Bt[A]);_.changedTouches=[_],u(_)}}function hn(u,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&lr(_),or(u,_)}function ga(u){var _={},A,U;for(U in u)A=u[U],_[U]=A&&A.bind?A.bind(u):A;return u=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var et=200;function Hr(u,_){u.addEventListener("dblclick",_);var A=0,U;function X(oe){if(oe.detail!==1){U=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var we=ka(oe);if(!(we.some(function(We){return We instanceof HTMLLabelElement&&We.attributes.for})&&!we.some(function(We){return We instanceof HTMLInputElement||We instanceof HTMLSelectElement}))){var Me=Date.now();Me-A<=et?(U++,U===2&&_(ga(oe))):U=1,A=Me}}}return u.addEventListener("click",X),{dblclick:_,simDblclick:X}}function Sn(u,_){u.removeEventListener("dblclick",_.dblclick),u.removeEventListener("click",_.simDblclick)}var ir=Be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rn=Be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dt=rn==="webkitTransition"||rn==="OTransition"?rn+"End":"transitionend";function Kt(u){return typeof u=="string"?document.getElementById(u):u}function qt(u,_){var A=u.style[_]||u.currentStyle&&u.currentStyle[_];if((!A||A==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(u,null);A=U?U[_]:null}return A==="auto"?null:A}function Ot(u,_,A){var U=document.createElement(u);return U.className=_||"",A&&A.appendChild(U),U}function pn(u){var _=u.parentNode;_&&_.removeChild(u)}function Cr(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function on(u){var _=u.parentNode;_&&_.lastChild!==u&&_.appendChild(u)}function $r(u){var _=u.parentNode;_&&_.firstChild!==u&&_.insertBefore(u,_.firstChild)}function Yo(u,_){if(u.classList!==void 0)return u.classList.contains(_);var A=Xi(u);return A.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(A)}function Et(u,_){if(u.classList!==void 0)for(var A=R(_),U=0,X=A.length;U<X;U++)u.classList.add(A[U]);else if(!Yo(u,_)){var oe=Xi(u);$a(u,(oe?oe+" ":"")+_)}}function Nn(u,_){u.classList!==void 0?u.classList.remove(_):$a(u,C((" "+Xi(u)+" ").replace(" "+_+" "," ")))}function $a(u,_){u.className.baseVal===void 0?u.className=_:u.className.baseVal=_}function Xi(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function jt(u,_){"opacity"in u.style?u.style.opacity=_:"filter"in u.style&&gr(u,_)}function gr(u,_){var A=!1,U="DXImageTransform.Microsoft.Alpha";try{A=u.filters.item(U)}catch{if(_===1)return}_=Math.round(_*100),A?(A.Enabled=_!==100,A.Opacity=_):u.style.filter+=" progid:"+U+"(opacity="+_+")"}function Be(u){for(var _=document.documentElement.style,A=0;A<u.length;A++)if(u[A]in _)return u[A];return!1}function me(u,_,A){var U=_||new ge(0,0);u.style[ir]=(Ge.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(A?" scale("+A+")":"")}function mt(u,_){u._leaflet_pos=_,Ge.any3d?me(u,_):(u.style.left=_.x+"px",u.style.top=_.y+"px")}function zn(u){return u._leaflet_pos||new ge(0,0)}var Ar,ji,As;if("onselectstart"in document)Ar=function(){Ht(window,"selectstart",lr)},ji=function(){vt(window,"selectstart",lr)};else{var Tr=Be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(Tr){var u=document.documentElement.style;As=u[Tr],u[Tr]="none"}},ji=function(){Tr&&(document.documentElement.style[Tr]=As,As=void 0)}}function Rt(){Ht(window,"dragstart",lr)}function kn(){vt(window,"dragstart",lr)}var Ts,Xo;function va(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&($i(),Ts=u,Xo=u.style.outlineStyle,u.style.outlineStyle="none",Ht(window,"keydown",$i))}function $i(){Ts&&(Ts.style.outlineStyle=Xo,Ts=void 0,Xo=void 0,vt(window,"keydown",$i))}function Ka(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function ya(u){var _=u.getBoundingClientRect();return{x:_.width/u.offsetWidth||1,y:_.height/u.offsetHeight||1,boundingClientRect:_}}var Gn={__proto__:null,TRANSFORM:ir,TRANSITION:rn,TRANSITION_END:Dt,get:Kt,getStyle:qt,create:Ot,remove:pn,empty:Cr,toFront:on,toBack:$r,hasClass:Yo,addClass:Et,removeClass:Nn,setClass:$a,getClass:Xi,setOpacity:jt,testProp:Be,setTransform:me,setPosition:mt,getPosition:zn,get disableTextSelection(){return Ar},get enableTextSelection(){return ji},disableImageDrag:Rt,enableImageDrag:kn,preventOutline:va,restoreOutline:$i,getSizedParentNode:Ka,getScale:ya};function Ht(u,_,A,U){if(_&&typeof _=="object")for(var X in _)Zn(u,X,_[X],A);else{_=R(_);for(var oe=0,we=_.length;oe<we;oe++)Zn(u,_[oe],A,U)}return this}var hr="_leaflet_events";function vt(u,_,A,U){if(arguments.length===1)Qa(u),delete u[hr];else if(_&&typeof _=="object")for(var X in _)zi(u,X,_[X],A);else if(_=R(_),arguments.length===2)Qa(u,function(Me){return W(_,Me)!==-1});else for(var oe=0,we=_.length;oe<we;oe++)zi(u,_[oe],A,U);return this}function Qa(u,_){for(var A in u[hr]){var U=A.split(/\d/)[0];(!_||_(U))&&zi(u,U,null,null,A)}}var Wt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zn(u,_,A,U){var X=_+p(A)+(U?"_"+p(U):"");if(u[hr]&&u[hr][X])return this;var oe=function(Me){return A.call(U||u,Me||window.event)},we=oe;!Ge.touchNative&&Ge.pointer&&_.indexOf("touch")===0?oe=In(u,_,oe):Ge.touch&&_==="dblclick"?oe=Hr(u,oe):"addEventListener"in u?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?u.addEventListener(Wt[_]||_,oe,Ge.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(oe=function(Me){Me=Me||window.event,Si(u,Me)&&we(Me)},u.addEventListener(Wt[_],oe,!1)):u.addEventListener(_,we,!1):u.attachEvent("on"+_,oe),u[hr]=u[hr]||{},u[hr][X]=oe}function zi(u,_,A,U,X){X=X||_+p(A)+(U?"_"+p(U):"");var oe=u[hr]&&u[hr][X];if(!oe)return this;!Ge.touchNative&&Ge.pointer&&_.indexOf("touch")===0?En(u,_,oe):Ge.touch&&_==="dblclick"?Sn(u,oe):"removeEventListener"in u?u.removeEventListener(Wt[_]||_,oe,!1):u.detachEvent("on"+_,oe),u[hr][X]=null}function Ei(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function La(u){return Zn(u,"wheel",Ei),this}function _i(u){return Ht(u,"mousedown touchstart dblclick contextmenu",Ei),u._leaflet_disable_click=!0,this}function lr(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Kr(u){return lr(u),Ei(u),this}function ka(u){if(u.composedPath)return u.composedPath();for(var _=[],A=u.target;A;)_.push(A),A=A.parentNode;return _}function dr(u,_){if(!_)return new ge(u.clientX,u.clientY);var A=ya(_),U=A.boundingClientRect;return new ge((u.clientX-U.left)/A.x-_.clientLeft,(u.clientY-U.top)/A.y-_.clientTop)}var _a=Ge.linux&&Ge.chrome?window.devicePixelRatio:Ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ki(u){return Ge.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/_a:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Si(u,_){var A=_.relatedTarget;if(!A)return!0;try{for(;A&&A!==u;)A=A.parentNode}catch{return!1}return A!==u}var Qr={__proto__:null,on:Ht,off:vt,stopPropagation:Ei,disableScrollPropagation:La,disableClickPropagation:_i,preventDefault:lr,stop:Kr,getPropagationPath:ka,getMousePosition:dr,getWheelDelta:Ki,isExternalTarget:Si,addListener:Ht,removeListener:vt},Os=he.extend({run:function(u,_,A,U){this.stop(),this._el=u,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=zn(u),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(u){var _=+new Date-this._startTime,A=this._duration*1e3;_<A?this._runFrame(this._easeOut(_/A),u):(this._runFrame(1),this._complete())},_runFrame:function(u,_){var A=this._startPos.add(this._offset.multiplyBy(u));_&&A._round(),mt(this._el,A),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),ln=he.extend({options:{crs:Tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,_){_=N(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(Le(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rn&&Ge.any3d&&!Ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ht(this._proxy,Dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,_,A){if(_=_===void 0?this._zoom:this._limitZoom(_),u=this._limitCenter(Le(u),_,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=l({animate:A.animate},A.zoom),A.pan=l({animate:A.animate,duration:A.duration},A.pan));var U=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,_,A.zoom):this._tryAnimatedPan(u,A.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(u,_,A.pan&&A.pan.noMoveStart),this},setZoom:function(u,_){return this._loaded?this.setView(this.getCenter(),u,{zoom:_}):(this._zoom=u,this)},zoomIn:function(u,_){return u=u||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,_)},zoomOut:function(u,_){return u=u||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,_)},setZoomAround:function(u,_,A){var U=this.getZoomScale(_),X=this.getSize().divideBy(2),oe=u instanceof ge?u:this.latLngToContainerPoint(u),we=oe.subtract(X).multiplyBy(1-1/U),Me=this.containerPointToLatLng(X.add(we));return this.setView(Me,_,{zoom:A})},_getBoundsCenterZoom:function(u,_){_=_||{},u=u.getBounds?u.getBounds():Ae(u);var A=se(_.paddingTopLeft||_.padding||[0,0]),U=se(_.paddingBottomRight||_.padding||[0,0]),X=this.getBoundsZoom(u,!1,A.add(U));if(X=typeof _.maxZoom=="number"?Math.min(_.maxZoom,X):X,X===1/0)return{center:u.getCenter(),zoom:X};var oe=U.subtract(A).divideBy(2),we=this.project(u.getSouthWest(),X),Me=this.project(u.getNorthEast(),X),We=this.unproject(we.add(Me).divideBy(2).add(oe),X);return{center:We,zoom:X}},fitBounds:function(u,_){if(u=Ae(u),!u.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(u,_);return this.setView(A.center,A.zoom,_)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,_){return this.setView(u,this._zoom,{pan:_})},panBy:function(u,_){if(u=se(u).round(),_=_||{},!u.x&&!u.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){Et(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,A,_.duration||.25,_.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,_,A){if(A=A||{},A.animate===!1||!Ge.any3d)return this.setView(u,_,A);this._stop();var U=this.project(this.getCenter()),X=this.project(u),oe=this.getSize(),we=this._zoom;u=Le(u),_=_===void 0?we:_;var Me=Math.max(oe.x,oe.y),We=Me*this.getZoomScale(we,_),tt=X.distanceTo(U)||1,_t=1.42,Ut=_t*_t;function Qt(Kn){var ks=Kn?-1:1,nl=Kn?We:Me,Zl=We*We-Me*Me+ks*Ut*Ut*tt*tt,gf=2*nl*Ut*tt,Yl=Zl/gf,fs=Math.sqrt(Yl*Yl+1)-Yl,vf=fs<1e-9?-18:Math.log(fs);return vf}function Rr(Kn){return(Math.exp(Kn)-Math.exp(-Kn))/2}function ur(Kn){return(Math.exp(Kn)+Math.exp(-Kn))/2}function ii(Kn){return Rr(Kn)/ur(Kn)}var di=Qt(0);function cs(Kn){return Me*(ur(di)/ur(di+_t*Kn))}function df(Kn){return Me*(ur(di)*ii(di+_t*Kn)-Rr(di))/Ut}function Gl(Kn){return 1-Math.pow(1-Kn,1.5)}var mf=Date.now(),oo=(Qt(1)-di)/_t,pf=A.duration?1e3*A.duration:1e3*oo*.8;function Ls(){var Kn=(Date.now()-mf)/pf,ks=Gl(Kn)*oo;Kn<=1?(this._flyToFrame=Q(Ls,this),this._move(this.unproject(U.add(X.subtract(U).multiplyBy(df(ks)/tt)),we),this.getScaleZoom(Me/cs(ks),we),{flyTo:!0})):this._move(u,_)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),Ls.call(this),this},flyToBounds:function(u,_){var A=this._getBoundsCenterZoom(u,_);return this.flyTo(A.center,A.zoom,_)},setMaxBounds:function(u){return u=Ae(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var _=this.options.minZoom;return this.options.minZoom=u,this._loaded&&_!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var _=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&_!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,_){this._enforcingBounds=!0;var A=this.getCenter(),U=this._limitCenter(A,this._zoom,Ae(u));return A.equals(U)||this.panTo(U,_),this._enforcingBounds=!1,this},panInside:function(u,_){_=_||{};var A=se(_.paddingTopLeft||_.padding||[0,0]),U=se(_.paddingBottomRight||_.padding||[0,0]),X=this.project(this.getCenter()),oe=this.project(u),we=this.getPixelBounds(),Me=pe([we.min.add(A),we.max.subtract(U)]),We=Me.getSize();if(!Me.contains(oe)){this._enforcingBounds=!0;var tt=oe.subtract(Me.getCenter()),_t=Me.extend(oe).getSize().subtract(We);X.x+=tt.x<0?-_t.x:_t.x,X.y+=tt.y<0?-_t.y:_t.y,this.panTo(this.unproject(X),_),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=l({animate:!1,pan:!0},u===!0?{animate:!0}:u);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),U=_.divideBy(2).round(),X=A.divideBy(2).round(),oe=U.subtract(X);return!oe.x&&!oe.y?this:(u.animate&&u.pan?this.panBy(oe):(u.pan&&this._rawPanBy(oe),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=l({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=d(this._handleGeolocationResponse,this),A=d(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,A,u):navigator.geolocation.getCurrentPosition(_,A,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var _=u.code,A=u.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var _=u.coords.latitude,A=u.coords.longitude,U=new Re(_,A),X=U.toBounds(u.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var we=this.getBoundsZoom(X);this.setView(U,oe.maxZoom?Math.min(we,oe.maxZoom):we)}var Me={latlng:U,bounds:X,timestamp:u.timestamp};for(var We in u.coords)typeof u.coords[We]=="number"&&(Me[We]=u.coords[We]);this.fire("locationfound",Me)}},addHandler:function(u,_){if(!_)return this;var A=this[u]=new _(this);return this._handlers.push(A),this.options[u]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)pn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,_){var A="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),U=Ot("div",A,_||this._mapPane);return u&&(this._panes[u]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),_=this.unproject(u.getBottomLeft()),A=this.unproject(u.getTopRight());return new Ie(_,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,_,A){u=Ae(u),A=se(A||[0,0]);var U=this.getZoom()||0,X=this.getMinZoom(),oe=this.getMaxZoom(),we=u.getNorthWest(),Me=u.getSouthEast(),We=this.getSize().subtract(A),tt=pe(this.project(Me,U),this.project(we,U)).getSize(),_t=Ge.any3d?this.options.zoomSnap:1,Ut=We.x/tt.x,Qt=We.y/tt.y,Rr=_?Math.max(Ut,Qt):Math.min(Ut,Qt);return U=this.getScaleZoom(Rr,U),_t&&(U=Math.round(U/(_t/100))*(_t/100),U=_?Math.ceil(U/_t)*_t:Math.floor(U/_t)*_t),Math.max(X,Math.min(oe,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ge(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,_){var A=this._getTopLeftPoint(u,_);return new ue(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,_){var A=this.options.crs;return _=_===void 0?this._zoom:_,A.scale(u)/A.scale(_)},getScaleZoom:function(u,_){var A=this.options.crs;_=_===void 0?this._zoom:_;var U=A.zoom(u*A.scale(_));return isNaN(U)?1/0:U},project:function(u,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(Le(u),_)},unproject:function(u,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng(se(u),_)},layerPointToLatLng:function(u){var _=se(u).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(u){var _=this.project(Le(u))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Le(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(Ae(u))},distance:function(u,_){return this.options.crs.distance(Le(u),Le(_))},containerPointToLayerPoint:function(u){return se(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return se(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var _=this.containerPointToLayerPoint(se(u));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(u)))},mouseEventToContainerPoint:function(u){return dr(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var _=this._container=Kt(u);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ht(_,"scroll",this._onScroll,this),this._containerId=p(_)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ge.any3d,Et(u,"leaflet-container"+(Ge.touch?" leaflet-touch":"")+(Ge.retina?" leaflet-retina":"")+(Ge.ielt9?" leaflet-oldie":"")+(Ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=qt(u,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new ge(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Et(u.markerPane,"leaflet-zoom-hide"),Et(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,_,A){mt(this._mapPane,new ge(0,0));var U=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var X=this._zoom!==_;this._moveStart(X,A)._move(u,_)._moveEnd(X),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(u,_){return u&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(u,_,A,U){_===void 0&&(_=this._zoom);var X=this._zoom!==_;return this._zoom=_,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),U?A&&A.pinch&&this.fire("zoom",A):((X||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){mt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[p(this._container)]=this;var _=u?vt:Ht;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Ge.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,_){for(var A=[],U,X=_==="mouseout"||_==="mouseover",oe=u.target||u.srcElement,we=!1;oe;){if(U=this._targets[p(oe)],U&&(_==="click"||_==="preclick")&&this._draggableMoved(U)){we=!0;break}if(U&&U.listens(_,!0)&&(X&&!Si(oe,u)||(A.push(U),X))||oe===this._container)break;oe=oe.parentNode}return!A.length&&!we&&!X&&this.listens(_,!0)&&(A=[this]),A},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var _=u.target||u.srcElement;if(!(!this._loaded||_._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(_))){var A=u.type;A==="mousedown"&&va(_),this._fireDOMEvent(u,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,_,A){if(u.type==="click"){var U=l({},u);U.type="preclick",this._fireDOMEvent(U,U.type,A)}var X=this._findEventTargets(u,_);if(A){for(var oe=[],we=0;we<A.length;we++)A[we].listens(_,!0)&&oe.push(A[we]);X=oe.concat(X)}if(X.length){_==="contextmenu"&&lr(u);var Me=X[0],We={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var tt=Me.getLatLng&&(!Me._radius||Me._radius<=10);We.containerPoint=tt?this.latLngToContainerPoint(Me.getLatLng()):this.mouseEventToContainerPoint(u),We.layerPoint=this.containerPointToLayerPoint(We.containerPoint),We.latlng=tt?Me.getLatLng():this.layerPointToLatLng(We.layerPoint)}for(we=0;we<X.length;we++)if(X[we].fire(_,We,!0),We.originalEvent._stopped||X[we].options.bubblingMouseEvents===!1&&W(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,_=this._handlers.length;u<_;u++)this._handlers[u].disable()},whenReady:function(u,_){return this._loaded?u.call(_||this,{target:this}):this.on("load",u,_),this},_getMapPanePos:function(){return zn(this._mapPane)||new ge(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,_){var A=u&&_!==void 0?this._getNewPixelOrigin(u,_):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,_){var A=this.getSize()._divideBy(2);return this.project(u,_)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,_,A){var U=this._getNewPixelOrigin(A,_);return this.project(u,_)._subtract(U)},_latLngBoundsToNewLayerBounds:function(u,_,A){var U=this._getNewPixelOrigin(A,_);return pe([this.project(u.getSouthWest(),_)._subtract(U),this.project(u.getNorthWest(),_)._subtract(U),this.project(u.getSouthEast(),_)._subtract(U),this.project(u.getNorthEast(),_)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,_,A){if(!A)return u;var U=this.project(u,_),X=this.getSize().divideBy(2),oe=new ue(U.subtract(X),U.add(X)),we=this._getBoundsOffset(oe,A,_);return Math.abs(we.x)<=1&&Math.abs(we.y)<=1?u:this.unproject(U.add(we),_)},_limitOffset:function(u,_){if(!_)return u;var A=this.getPixelBounds(),U=new ue(A.min.add(u),A.max.add(u));return u.add(this._getBoundsOffset(U,_))},_getBoundsOffset:function(u,_,A){var U=pe(this.project(_.getNorthEast(),A),this.project(_.getSouthWest(),A)),X=U.min.subtract(u.min),oe=U.max.subtract(u.max),we=this._rebound(X.x,-oe.x),Me=this._rebound(X.y,-oe.y);return new ge(we,Me)},_rebound:function(u,_){return u+_>0?Math.round(u-_)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(_))},_limitZoom:function(u){var _=this.getMinZoom(),A=this.getMaxZoom(),U=Ge.any3d?this.options.zoomSnap:1;return U&&(u=Math.round(u/U)*U),Math.max(_,Math.min(A,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,_){var A=this._getCenterOffset(u)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,_),!0)},_createAnimProxy:function(){var u=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(_){var A=ir,U=this._proxy.style[A];me(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),U===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),_=this.getZoom();me(this._proxy,this.project(u,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,_,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(_),X=this._getCenterOffset(u)._divideBy(1-1/U);return A.animate!==!0&&!this.getSize().contains(X)?!1:(Q(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(u,_,!0)},this),!0)},_animateZoom:function(u,_,A,U){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=_,Et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:_,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ja(u,_){return new ln(u,_)}var Jr=z.extend({options:{position:"topright"},initialize:function(u){N(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var _=this._map;return _&&_.removeControl(this),this.options.position=u,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var _=this._container=this.onAdd(u),A=this.getPosition(),U=u._controlCorners[A];return Et(_,"leaflet-control"),A.indexOf("bottom")!==-1?U.insertBefore(_,U.firstChild):U.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),es=function(u){return new Jr(u)};ln.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},_="leaflet-",A=this._controlContainer=Ot("div",_+"control-container",this._container);function U(X,oe){var we=_+X+" "+_+oe;u[X+oe]=Ot("div",we,A)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)pn(this._controlCorners[u]);pn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ul=Jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,_,A,U){return A<U?-1:U<A?1:0}},initialize:function(u,_,A){N(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in u)this._addLayer(u[U],U);for(U in _)this._addLayer(_[U],U,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Jr.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,_){return this._addLayer(u,_),this._map?this._update():this},addOverlay:function(u,_){return this._addLayer(u,_,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var _=this._getLayer(p(u));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){Et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Nn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",_=this._container=Ot("div",u),A=this.options.collapsed;_.setAttribute("aria-haspopup",!0),_i(_),La(_);var U=this._section=Ot("section",u+"-list");A&&(this._map.on("click",this.collapse,this),Ht(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var X=this._layersLink=Ot("a",u+"-toggle",_);X.href="#",X.title="Layers",X.setAttribute("role","button"),Ht(X,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){lr(oe),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Ot("div",u+"-base",U),this._separator=Ot("div",u+"-separator",U),this._overlaysList=Ot("div",u+"-overlays",U),_.appendChild(U)},_getLayer:function(u){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&p(this._layers[_].layer)===u)return this._layers[_]},_addLayer:function(u,_,A){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:_,overlay:A}),this.options.sortLayers&&this._layers.sort(d(function(U,X){return this.options.sortFunction(U.layer,X.layer,U.name,X.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cr(this._baseLayersList),Cr(this._overlaysList),this._layerControlInputs=[];var u,_,A,U,X=0;for(A=0;A<this._layers.length;A++)U=this._layers[A],this._addItem(U),_=_||U.overlay,u=u||!U.overlay,X+=U.overlay?0:1;return this.options.hideSingleBase&&(u=u&&X>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=_&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var _=this._getLayer(p(u.target)),A=_.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;A&&this._map.fire(A,_)},_createRadioElement:function(u,_){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(_?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=A,U.firstChild},_addItem:function(u){var _=document.createElement("label"),A=this._map.hasLayer(u.layer),U;u.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=A):U=this._createRadioElement("leaflet-base-layers_"+p(this),A),this._layerControlInputs.push(U),U.layerId=p(u.layer),Ht(U,"click",this._onInputClick,this);var X=document.createElement("span");X.innerHTML=" "+u.name;var oe=document.createElement("span");_.appendChild(oe),oe.appendChild(U),oe.appendChild(X);var we=u.overlay?this._overlaysList:this._baseLayersList;return we.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,_,A,U=[],X=[];this._handlingClick=!0;for(var oe=u.length-1;oe>=0;oe--)_=u[oe],A=this._getLayer(_.layerId).layer,_.checked?U.push(A):_.checked||X.push(A);for(oe=0;oe<X.length;oe++)this._map.hasLayer(X[oe])&&this._map.removeLayer(X[oe]);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])||this._map.addLayer(U[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,_,A,U=this._map.getZoom(),X=u.length-1;X>=0;X--)_=u[X],A=this._getLayer(_.layerId).layer,_.disabled=A.options.minZoom!==void 0&&U<A.options.minZoom||A.options.maxZoom!==void 0&&U>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,Ht(u,"click",lr),this.expand();var _=this;setTimeout(function(){vt(u,"click",lr),_._preventClick=!1})}}),Mn=function(u,_,A){return new Ul(u,_,A)},eo=Jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var _="leaflet-control-zoom",A=Ot("div",_+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,_+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,_+"-out",A,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,_,A,U,X){var oe=Ot("a",A,U);return oe.innerHTML=u,oe.href="#",oe.title=_,oe.setAttribute("role","button"),oe.setAttribute("aria-label",_),_i(oe),Ht(oe,"click",Kr),Ht(oe,"click",X,this),Ht(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var u=this._map,_="leaflet-disabled";Nn(this._zoomInButton,_),Nn(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Et(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Et(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});ln.mergeOptions({zoomControl:!0}),ln.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new eo,this.addControl(this.zoomControl))});var ts=function(u){return new eo(u)},Qi=Jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var _="leaflet-control-scale",A=Ot("div",_),U=this.options;return this._addScales(U,_+"-line",A),u.on(U.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),A},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,_,A){u.metric&&(this._mScale=Ot("div",_,A)),u.imperial&&(this._iScale=Ot("div",_,A))},_update:function(){var u=this._map,_=u.getSize().y/2,A=u.distance(u.containerPointToLatLng([0,_]),u.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(A)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var _=this._getRoundNum(u),A=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,A,_/u)},_updateImperial:function(u){var _=u*3.2808399,A,U,X;_>5280?(A=_/5280,U=this._getRoundNum(A),this._updateScale(this._iScale,U+" mi",U/A)):(X=this._getRoundNum(_),this._updateScale(this._iScale,X+" ft",X/_))},_updateScale:function(u,_,A){u.style.width=Math.round(this.options.maxWidth*A)+"px",u.innerHTML=_},_getRoundNum:function(u){var _=Math.pow(10,(Math.floor(u)+"").length-1),A=u/_;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,_*A}}),Wu=function(u){return new Qi(u)},qe='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xt=Jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ge.inlineSvg?qe+" ":"")+"Leaflet</a>"},initialize:function(u){N(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),_i(this._container);for(var _ in u._layers)u._layers[_].getAttribution&&this.addAttribution(u._layers[_].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var _ in this._attributions)this._attributions[_]&&u.push(_);var A=[];this.options.prefix&&A.push(this.options.prefix),u.length&&A.push(u.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});ln.mergeOptions({attributionControl:!0}),ln.addInitHook(function(){this.options.attributionControl&&new Xt().addTo(this)});var Or=function(u){return new Xt(u)};Jr.Layers=Ul,Jr.Zoom=eo,Jr.Scale=Qi,Jr.Attribution=Xt,es.layers=Mn,es.zoom=ts,es.scale=Wu,es.attribution=Or;var ei=z.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ei.addTo=function(u,_){return u.addHandler(_,this),this};var Fl={Events:ye},Hl=Ge.touch?"touchstart mousedown":"mousedown",xa=he.extend({options:{clickTolerance:3},initialize:function(u,_,A,U){N(this,U),this._element=u,this._dragStartTarget=_||u,this._preventOutline=A},enable:function(){this._enabled||(Ht(this._dragStartTarget,Hl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xa._dragging===this&&this.finishDrag(!0),vt(this._dragStartTarget,Hl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Yo(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){xa._dragging===this&&this.finishDrag();return}if(!(xa._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(xa._dragging=this,this._preventOutline&&va(this._element),Rt(),Ar(),!this._moving)){this.fire("down");var _=u.touches?u.touches[0]:u,A=Ka(this._element);this._startPoint=new ge(_.clientX,_.clientY),this._startPos=zn(this._element),this._parentScale=ya(A);var U=u.type==="mousedown";Ht(document,U?"mousemove":"touchmove",this._onMove,this),Ht(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var _=u.touches&&u.touches.length===1?u.touches[0]:u,A=new ge(_.clientX,_.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,lr(u),this._moved||(this.fire("dragstart"),this._moved=!0,Et(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),mt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Nn(document.body,"leaflet-dragging"),this._lastTarget&&(Nn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vt(document,"mousemove touchmove",this._onMove,this),vt(document,"mouseup touchend touchcancel",this._onUp,this),kn(),ji();var _=this._moved&&this._moving;this._moving=!1,xa._dragging=!1,_&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Vl(u,_,A){var U,X=[1,4,2,8],oe,we,Me,We,tt,_t,Ut,Qt;for(oe=0,_t=u.length;oe<_t;oe++)u[oe]._code=Ba(u[oe],_);for(Me=0;Me<4;Me++){for(Ut=X[Me],U=[],oe=0,_t=u.length,we=_t-1;oe<_t;we=oe++)We=u[oe],tt=u[we],We._code&Ut?tt._code&Ut||(Qt=Ji(tt,We,Ut,_,A),Qt._code=Ba(Qt,_),U.push(Qt)):(tt._code&Ut&&(Qt=Ji(tt,We,Ut,_,A),Qt._code=Ba(Qt,_),U.push(Qt)),U.push(We));u=U}return u}function ns(u,_){var A,U,X,oe,we,Me,We,tt,_t;if(!u||u.length===0)throw new Error("latlngs not passed");Ir(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ut=Le([0,0]),Qt=Ae(u),Rr=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());Rr<1700&&(Ut=ar(u));var ur=u.length,ii=[];for(A=0;A<ur;A++){var di=Le(u[A]);ii.push(_.project(Le([di.lat-Ut.lat,di.lng-Ut.lng])))}for(Me=We=tt=0,A=0,U=ur-1;A<ur;U=A++)X=ii[A],oe=ii[U],we=X.y*oe.x-oe.y*X.x,We+=(X.x+oe.x)*we,tt+=(X.y+oe.y)*we,Me+=we*3;Me===0?_t=ii[0]:_t=[We/Me,tt/Me];var cs=_.unproject(se(_t));return Le([cs.lat+Ut.lat,cs.lng+Ut.lng])}function ar(u){for(var _=0,A=0,U=0,X=0;X<u.length;X++){var oe=Le(u[X]);_+=oe.lat,A+=oe.lng,U++}return Le([_/U,A/U])}var $o={__proto__:null,clipPolygon:Vl,polygonCenter:ns,centroid:ar};function Yn(u,_){if(!_||!u.length)return u.slice();var A=_*_;return u=Gu(u,A),u=Pn(u,A),u}function rs(u,_,A){return Math.sqrt(ea(u,_,A,!0))}function Pa(u,_,A){return ea(u,_,A)}function Pn(u,_){var A=u.length,U=typeof Uint8Array<"u"?Uint8Array:Array,X=new U(A);X[0]=X[A-1]=1,kt(u,X,_,0,A-1);var oe,we=[];for(oe=0;oe<A;oe++)X[oe]&&we.push(u[oe]);return we}function kt(u,_,A,U,X){var oe=0,we,Me,We;for(Me=U+1;Me<=X-1;Me++)We=ea(u[Me],u[U],u[X],!0),We>oe&&(we=Me,oe=We);oe>A&&(_[we]=1,kt(u,_,A,U,we),kt(u,_,A,we,X))}function Gu(u,_){for(var A=[u[0]],U=1,X=0,oe=u.length;U<oe;U++)Ui(u[U],u[X])>_&&(A.push(u[U]),X=U);return X<oe-1&&A.push(u[oe-1]),A}var Bn;function wa(u,_,A,U,X){var oe=U?Bn:Ba(u,A),we=Ba(_,A),Me,We,tt;for(Bn=we;;){if(!(oe|we))return[u,_];if(oe&we)return!1;Me=oe||we,We=Ji(u,_,Me,A,X),tt=Ba(We,A),Me===oe?(u=We,oe=tt):(_=We,we=tt)}}function Ji(u,_,A,U,X){var oe=_.x-u.x,we=_.y-u.y,Me=U.min,We=U.max,tt,_t;return A&8?(tt=u.x+oe*(We.y-u.y)/we,_t=We.y):A&4?(tt=u.x+oe*(Me.y-u.y)/we,_t=Me.y):A&2?(tt=We.x,_t=u.y+we*(We.x-u.x)/oe):A&1&&(tt=Me.x,_t=u.y+we*(Me.x-u.x)/oe),new ge(tt,_t,X)}function Ba(u,_){var A=0;return u.x<_.min.x?A|=1:u.x>_.max.x&&(A|=2),u.y<_.min.y?A|=4:u.y>_.max.y&&(A|=8),A}function Ui(u,_){var A=_.x-u.x,U=_.y-u.y;return A*A+U*U}function ea(u,_,A,U){var X=_.x,oe=_.y,we=A.x-X,Me=A.y-oe,We=we*we+Me*Me,tt;return We>0&&(tt=((u.x-X)*we+(u.y-oe)*Me)/We,tt>1?(X=A.x,oe=A.y):tt>0&&(X+=we*tt,oe+=Me*tt)),we=u.x-X,Me=u.y-oe,U?we*we+Me*Me:new ge(X,oe)}function Ir(u){return!B(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function to(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ir(u)}function no(u,_){var A,U,X,oe,we,Me,We,tt;if(!u||u.length===0)throw new Error("latlngs not passed");Ir(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var _t=Le([0,0]),Ut=Ae(u),Qt=Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest());Qt<1700&&(_t=ar(u));var Rr=u.length,ur=[];for(A=0;A<Rr;A++){var ii=Le(u[A]);ur.push(_.project(Le([ii.lat-_t.lat,ii.lng-_t.lng])))}for(A=0,U=0;A<Rr-1;A++)U+=ur[A].distanceTo(ur[A+1])/2;if(U===0)tt=ur[0];else for(A=0,oe=0;A<Rr-1;A++)if(we=ur[A],Me=ur[A+1],X=we.distanceTo(Me),oe+=X,oe>U){We=(oe-U)/X,tt=[Me.x-We*(Me.x-we.x),Me.y-We*(Me.y-we.y)];break}var di=_.unproject(se(tt));return Le([di.lat+_t.lat,di.lng+_t.lng])}var Ko={__proto__:null,simplify:Yn,pointToSegmentDistance:rs,closestPointOnSegment:Pa,clipSegment:wa,_getEdgeIntersection:Ji,_getBitCode:Ba,_sqClosestPointOnSegment:ea,isFlat:Ir,_flat:to,polylineCenter:no},ro={project:function(u){return new ge(u.lng,u.lat)},unproject:function(u){return new Re(u.y,u.x)},bounds:new ue([-180,-90],[180,90])},ta={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var _=Math.PI/180,A=this.R,U=u.lat*_,X=this.R_MINOR/A,oe=Math.sqrt(1-X*X),we=oe*Math.sin(U),Me=Math.tan(Math.PI/4-U/2)/Math.pow((1-we)/(1+we),oe/2);return U=-A*Math.log(Math.max(Me,1e-10)),new ge(u.lng*_*A,U)},unproject:function(u){for(var _=180/Math.PI,A=this.R,U=this.R_MINOR/A,X=Math.sqrt(1-U*U),oe=Math.exp(-u.y/A),we=Math.PI/2-2*Math.atan(oe),Me=0,We=.1,tt;Me<15&&Math.abs(We)>1e-7;Me++)tt=X*Math.sin(we),tt=Math.pow((1-tt)/(1+tt),X/2),We=Math.PI/2-2*Math.atan(oe*tt)-we,we+=We;return new Re(we*_,u.x*_/A)}},io={__proto__:null,LonLat:ro,Mercator:ta,SphericalMercator:wt},is=l({},Ze,{code:"EPSG:3395",projection:ta,transformation:function(){var u=.5/(Math.PI*ta.R);return Yt(u,.5,-u,.5)}()}),as=l({},Ze,{code:"EPSG:4326",projection:ro,transformation:Yt(1/180,1,-1/180,.5)}),Zu=l({},gt,{projection:ro,transformation:Yt(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,_){var A=_.lng-u.lng,U=_.lat-u.lat;return Math.sqrt(A*A+U*U)},infinite:!0});gt.Earth=Ze,gt.EPSG3395=is,gt.EPSG3857=Tt,gt.EPSG900913=re,gt.EPSG4326=as,gt.Simple=Zu;var vr=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[p(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[p(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var _=u.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var A=this.getEvents();_.on(A,this),this.once("remove",function(){_.off(A,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});ln.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var _=p(u);return this._layers[_]?this:(this._layers[_]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var _=p(u);return this._layers[_]?(this._loaded&&u.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return p(u)in this._layers},eachLayer:function(u,_){for(var A in this._layers)u.call(_,this._layers[A]);return this},_addLayers:function(u){u=u?B(u)?u:[u]:[];for(var _=0,A=u.length;_<A;_++)this.addLayer(u[_])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[p(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var _=p(u);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,_=-1/0,A=this._getZoomSpan();for(var U in this._zoomBoundLayers){var X=this._zoomBoundLayers[U].options;u=X.minZoom===void 0?u:Math.min(u,X.minZoom),_=X.maxZoom===void 0?_:Math.max(_,X.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=u===1/0?void 0:u,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fi=vr.extend({initialize:function(u,_){N(this,_),this._layers={};var A,U;if(u)for(A=0,U=u.length;A<U;A++)this.addLayer(u[A])},addLayer:function(u){var _=this.getLayerId(u);return this._layers[_]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var _=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(u){var _=typeof u=="number"?u:this.getLayerId(u);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var _=Array.prototype.slice.call(arguments,1),A,U;for(A in this._layers)U=this._layers[A],U[u]&&U[u].apply(U,_);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,_){for(var A in this._layers)u.call(_,this._layers[A]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return p(u)}}),hi=function(u,_){return new Fi(u,_)},ti=Fi.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Fi.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Fi.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new Ie;for(var _ in this._layers){var A=this._layers[_];u.extend(A.getBounds?A.getBounds():A.getLatLng())}return u}}),ni=function(u,_){return new ti(u,_)},ss=z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){N(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,_){var A=this._getIconUrl(u);if(!A){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(A,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(U,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(u,_){var A=this.options,U=A[_+"Size"];typeof U=="number"&&(U=[U,U]);var X=se(U),oe=se(_==="shadow"&&A.shadowAnchor||A.iconAnchor||X&&X.divideBy(2,!0));u.className="leaflet-marker-"+_+" "+(A.className||""),oe&&(u.style.marginLeft=-oe.x+"px",u.style.marginTop=-oe.y+"px"),X&&(u.style.width=X.x+"px",u.style.height=X.y+"px")},_createImg:function(u,_){return _=_||document.createElement("img"),_.src=u,_},_getIconUrl:function(u){return Ge.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function os(u){return new ss(u)}var ls=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof ls.imagePath!="string"&&(ls.imagePath=this._detectIconPath()),(this.options.imagePath||ls.imagePath)+ss.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var _=function(A,U,X){var oe=U.exec(A);return oe&&oe[X]};return u=_(u,/^url\((['"])?(.+)\1\)$/,2),u&&_(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Ot("div","leaflet-default-icon-path",document.body),_=qt(u,"background-image")||qt(u,"backgroundImage");if(document.body.removeChild(u),_=this._stripUrl(_),_)return _;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),ao=ei.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new xa(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Et(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var _=this._marker,A=_._map,U=this._marker.options.autoPanSpeed,X=this._marker.options.autoPanPadding,oe=zn(_._icon),we=A.getPixelBounds(),Me=A.getPixelOrigin(),We=pe(we.min._subtract(Me).add(X),we.max._subtract(Me).subtract(X));if(!We.contains(oe)){var tt=se((Math.max(We.max.x,oe.x)-We.max.x)/(we.max.x-We.max.x)-(Math.min(We.min.x,oe.x)-We.min.x)/(we.min.x-We.min.x),(Math.max(We.max.y,oe.y)-We.max.y)/(we.max.y-We.max.y)-(Math.min(We.min.y,oe.y)-We.min.y)/(we.min.y-We.min.y)).multiplyBy(U);A.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),mt(_._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=Q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var _=this._marker,A=_._shadow,U=zn(_._icon),X=_._map.layerPointToLatLng(U);A&&mt(A,U),_._latlng=X,u.latlng=X,u.oldLatLng=this._oldLatLng,_.fire("move",u).fire("drag",u)},_onDragEnd:function(u){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Vr=vr.extend({options:{icon:new ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,_){N(this,_),this._latlng=Le(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var _=this._latlng;return this._latlng=Le(u),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=u.icon.createIcon(this._icon),U=!1;A!==this._icon&&(this._icon&&this._removeIcon(),U=!0,u.title&&(A.title=u.title),A.tagName==="IMG"&&(A.alt=u.alt||"")),Et(A,_),u.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(A,"focus",this._panOnFocus,this);var X=u.icon.createShadow(this._shadow),oe=!1;X!==this._shadow&&(this._removeShadow(),oe=!0),X&&(Et(X,_),X.alt=""),this._shadow=X,u.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),X&&oe&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(this._icon,"focus",this._panOnFocus,this),pn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&mt(this._icon,u),this._shadow&&mt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var _=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(Et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ao)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ao(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&jt(this._icon,u),this._shadow&&jt(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var _=this.options.icon.options,A=_.iconSize?se(_.iconSize):se(0,0),U=_.iconAnchor?se(_.iconAnchor):se(0,0);u.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:A.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qo(u,_){return new Vr(u,_)}var Ci=vr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return N(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),na=Ci.extend({options:{fill:!0,radius:10},initialize:function(u,_){N(this,_),this._latlng=Le(u),this._radius=this.options.radius},setLatLng:function(u){var _=this._latlng;return this._latlng=Le(u),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var _=u&&u.radius||this._radius;return Ci.prototype.setStyle.call(this,u),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,_=this._radiusY||u,A=this._clickTolerance(),U=[u+A,_+A];this._pxBounds=new ue(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yn(u,_){return new na(u,_)}var us=na.extend({initialize:function(u,_,A){if(typeof _=="number"&&(_=l({},A,{radius:_})),N(this,_),this._latlng=Le(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ci.prototype.setStyle,_project:function(){var u=this._latlng.lng,_=this._latlng.lat,A=this._map,U=A.options.crs;if(U.distance===Ze.distance){var X=Math.PI/180,oe=this._mRadius/Ze.R/X,we=A.project([_+oe,u]),Me=A.project([_-oe,u]),We=we.add(Me).divideBy(2),tt=A.unproject(We).lat,_t=Math.acos((Math.cos(oe*X)-Math.sin(_*X)*Math.sin(tt*X))/(Math.cos(_*X)*Math.cos(tt*X)))/X;(isNaN(_t)||_t===0)&&(_t=oe/Math.cos(Math.PI/180*_)),this._point=We.subtract(A.getPixelOrigin()),this._radius=isNaN(_t)?0:We.x-A.project([tt,u-_t]).x,this._radiusY=We.y-we.y}else{var Ut=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(Ut).x}this._updateBounds()}});function ie(u,_,A){return new us(u,_,A)}var i=Ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,_){N(this,_),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var _=1/0,A=null,U=ea,X,oe,we=0,Me=this._parts.length;we<Me;we++)for(var We=this._parts[we],tt=1,_t=We.length;tt<_t;tt++){X=We[tt-1],oe=We[tt];var Ut=U(u,X,oe,!0);Ut<_&&(_=Ut,A=U(u,X,oe))}return A&&(A.distance=Math.sqrt(_)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return no(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,_){return _=_||this._defaultShape(),u=Le(u),_.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new Ie,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Ir(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var _=[],A=Ir(u),U=0,X=u.length;U<X;U++)A?(_[U]=Le(u[U]),this._bounds.extend(_[U])):_[U]=this._convertLatLngs(u[U]);return _},_project:function(){var u=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),_=new ge(u,u);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(u,_,A){var U=u[0]instanceof Re,X=u.length,oe,we;if(U){for(we=[],oe=0;oe<X;oe++)we[oe]=this._map.latLngToLayerPoint(u[oe]),A.extend(we[oe]);_.push(we)}else for(oe=0;oe<X;oe++)this._projectLatlngs(u[oe],_,A)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,A,U,X,oe,we,Me,We;for(A=0,X=0,oe=this._rings.length;A<oe;A++)for(We=this._rings[A],U=0,we=We.length;U<we-1;U++)Me=wa(We[U],We[U+1],u,U,!0),Me&&(_[X]=_[X]||[],_[X].push(Me[0]),(Me[1]!==We[U+1]||U===we-2)&&(_[X].push(Me[1]),X++))}},_simplifyPoints:function(){for(var u=this._parts,_=this.options.smoothFactor,A=0,U=u.length;A<U;A++)u[A]=Yn(u[A],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,_){var A,U,X,oe,we,Me,We=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(A=0,oe=this._parts.length;A<oe;A++)for(Me=this._parts[A],U=0,we=Me.length,X=we-1;U<we;X=U++)if(!(!_&&U===0)&&rs(u,Me[X],Me[U])<=We)return!0;return!1}});function o(u,_){return new i(u,_)}i._flat=to;var f=i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ns(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var _=i.prototype._convertLatLngs.call(this,u),A=_.length;return A>=2&&_[0]instanceof Re&&_[0].equals(_[A-1])&&_.pop(),_},_setLatLngs:function(u){i.prototype._setLatLngs.call(this,u),Ir(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ir(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,_=this.options.weight,A=new ge(_,_);if(u=new ue(u.min.subtract(A),u.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,X=this._rings.length,oe;U<X;U++)oe=Vl(this._rings[U],u,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var _=!1,A,U,X,oe,we,Me,We,tt;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(oe=0,We=this._parts.length;oe<We;oe++)for(A=this._parts[oe],we=0,tt=A.length,Me=tt-1;we<tt;Me=we++)U=A[we],X=A[Me],U.y>u.y!=X.y>u.y&&u.x<(X.x-U.x)*(u.y-U.y)/(X.y-U.y)+U.x&&(_=!_);return _||i.prototype._containsPoint.call(this,u,!0)}});function m(u,_){return new f(u,_)}var v=ti.extend({initialize:function(u,_){N(this,_),this._layers={},u&&this.addData(u)},addData:function(u){var _=B(u)?u:u.features,A,U,X;if(_){for(A=0,U=_.length;A<U;A++)X=_[A],(X.geometries||X.geometry||X.features||X.coordinates)&&this.addData(X);return this}var oe=this.options;if(oe.filter&&!oe.filter(u))return this;var we=w(u,oe);return we?(we.feature=ve(u),we.defaultOptions=we.options,this.resetStyle(we),oe.onEachFeature&&oe.onEachFeature(u,we),this.addLayer(we)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=l({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(_){this._setLayerStyle(_,u)},this)},_setLayerStyle:function(u,_){u.setStyle&&(typeof _=="function"&&(_=_(u.feature)),u.setStyle(_))}});function w(u,_){var A=u.type==="Feature"?u.geometry:u,U=A?A.coordinates:null,X=[],oe=_&&_.pointToLayer,we=_&&_.coordsToLatLng||I,Me,We,tt,_t;if(!U&&!A)return null;switch(A.type){case"Point":return Me=we(U),S(oe,u,Me,_);case"MultiPoint":for(tt=0,_t=U.length;tt<_t;tt++)Me=we(U[tt]),X.push(S(oe,u,Me,_));return new ti(X);case"LineString":case"MultiLineString":return We=j(U,A.type==="LineString"?0:1,we),new i(We,_);case"Polygon":case"MultiPolygon":return We=j(U,A.type==="Polygon"?1:2,we),new f(We,_);case"GeometryCollection":for(tt=0,_t=A.geometries.length;tt<_t;tt++){var Ut=w({geometry:A.geometries[tt],type:"Feature",properties:u.properties},_);Ut&&X.push(Ut)}return new ti(X);case"FeatureCollection":for(tt=0,_t=A.features.length;tt<_t;tt++){var Qt=w(A.features[tt],_);Qt&&X.push(Qt)}return new ti(X);default:throw new Error("Invalid GeoJSON object.")}}function S(u,_,A,U){return u?u(_,A):new Vr(A,U&&U.markersInheritOptions&&U)}function I(u){return new Re(u[1],u[0],u[2])}function j(u,_,A){for(var U=[],X=0,oe=u.length,we;X<oe;X++)we=_?j(u[X],_-1,A):(A||I)(u[X]),U.push(we);return U}function $(u,_){return u=Le(u),u.alt!==void 0?[O(u.lng,_),O(u.lat,_),O(u.alt,_)]:[O(u.lng,_),O(u.lat,_)]}function ae(u,_,A,U){for(var X=[],oe=0,we=u.length;oe<we;oe++)X.push(_?ae(u[oe],Ir(u[oe])?0:_-1,A,U):$(u[oe],U));return!_&&A&&X.length>0&&X.push(X[0].slice()),X}function le(u,_){return u.feature?l({},u.feature,{geometry:_}):ve(_)}function ve(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var be={toGeoJSON:function(u){return le(this,{type:"Point",coordinates:$(this.getLatLng(),u)})}};Vr.include(be),us.include(be),na.include(be),i.include({toGeoJSON:function(u){var _=!Ir(this._latlngs),A=ae(this._latlngs,_?1:0,!1,u);return le(this,{type:(_?"Multi":"")+"LineString",coordinates:A})}}),f.include({toGeoJSON:function(u){var _=!Ir(this._latlngs),A=_&&!Ir(this._latlngs[0]),U=ae(this._latlngs,A?2:_?1:0,!0,u);return _||(U=[U]),le(this,{type:(A?"Multi":"")+"Polygon",coordinates:U})}}),Fi.include({toMultiPoint:function(u){var _=[];return this.eachLayer(function(A){_.push(A.toGeoJSON(u).geometry.coordinates)}),le(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(u){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(u);var A=_==="GeometryCollection",U=[];return this.eachLayer(function(X){if(X.toGeoJSON){var oe=X.toGeoJSON(u);if(A)U.push(oe.geometry);else{var we=ve(oe);we.type==="FeatureCollection"?U.push.apply(U,we.features):U.push(we)}}}),A?le(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Ce(u,_){return new v(u,_)}var Pe=Ce,Fe=vr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,_,A){this._url=u,this._bounds=Ae(_),N(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&on(this._image),this},bringToBack:function(){return this._map&&$r(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=Ae(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",_=this._image=u?this._url:Ot("img");if(Et(_,"leaflet-image-layer"),this._zoomAnimated&&Et(_,"leaflet-zoom-animated"),this.options.className&&Et(_,this.options.className),_.onselectstart=E,_.onmousemove=E,_.onload=d(this.fire,this,"load"),_.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(u){var _=this._map.getZoomScale(u.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;me(this._image,A,_)},_reset:function(){var u=this._image,_=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=_.getSize();mt(u,_.min),u.style.width=A.x+"px",u.style.height=A.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),st=function(u,_,A){return new Fe(u,_,A)},ot=Fe.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",_=this._image=u?this._url:Ot("video");if(Et(_,"leaflet-image-layer"),this._zoomAnimated&&Et(_,"leaflet-zoom-animated"),this.options.className&&Et(_,this.options.className),_.onselectstart=E,_.onmousemove=E,_.onloadeddata=d(this.fire,this,"load"),u){for(var A=_.getElementsByTagName("source"),U=[],X=0;X<A.length;X++)U.push(A[X].src);this._url=A.length>0?U:[_.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var we=Ot("source");we.src=this._url[oe],_.appendChild(we)}}});function it(u,_,A){return new ot(u,_,A)}var an=Fe.extend({_initImage:function(){var u=this._image=this._url;Et(u,"leaflet-image-layer"),this._zoomAnimated&&Et(u,"leaflet-zoom-animated"),this.options.className&&Et(u,this.options.className),u.onselectstart=E,u.onmousemove=E}});function zt(u,_,A){return new an(u,_,A)}var Hn=vr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,_){u&&(u instanceof Re||B(u))?(this._latlng=Le(u),N(this,_)):(N(this,u),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(d(pn,void 0,this._container),200)):pn(this._container),this.options.interactive&&(Nn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Le(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&on(this._container),this},bringToBack:function(){return this._map&&$r(this._container),this},_prepareOpen:function(u){var _=this._source;if(!_._map)return!1;if(_ instanceof ti){_=null;var A=this._source._layers;for(var U in A)if(A[U]._map){_=A[U];break}if(!_)return!1;this._source=_}if(!u)if(_.getCenter)u=_.getCenter();else if(_.getLatLng)u=_.getLatLng();else if(_.getBounds)u=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")u.innerHTML=_;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),_=se(this.options.offset),A=this._getAnchor();this._zoomAnimated?mt(this._container,u.add(A)):_=_.add(u).add(A);var U=this._containerBottom=-_.y,X=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=U+"px",this._container.style.left=X+"px"}},_getAnchor:function(){return[0,0]}});ln.include({_initOverlay:function(u,_,A,U){var X=_;return X instanceof u||(X=new u(U).setContent(_)),A&&X.setLatLng(A),X}}),vr.include({_initOverlay:function(u,_,A,U){var X=A;return X instanceof u?(N(X,U),X._source=this):(X=_&&!U?_:new u(U,this),X.setContent(A)),X}});var qr=Hn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Hn.prototype.openOn.call(this,u)},onAdd:function(u){Hn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ci||this._source.on("preclick",Ei))},onRemove:function(u){Hn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ci||this._source.off("preclick",Ei))},getEvents:function(){var u=Hn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",_=this._container=Ot("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Ot("div",u+"-content-wrapper",_);if(this._contentNode=Ot("div",u+"-content",A),_i(_),La(this._contentNode),Ht(_,"contextmenu",Ei),this._tipContainer=Ot("div",u+"-tip-container",_),this._tip=Ot("div",u+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=Ot("a",u+"-close-button",_);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',Ht(U,"click",function(X){lr(X),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,_=u.style;_.width="",_.whiteSpace="nowrap";var A=u.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),_.width=A+1+"px",_.whiteSpace="",_.height="";var U=u.offsetHeight,X=this.options.maxHeight,oe="leaflet-popup-scrolled";X&&U>X?(_.height=X+"px",Et(u,oe)):Nn(u,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var _=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),A=this._getAnchor();mt(this._container,_.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,_=parseInt(qt(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+_,U=this._containerWidth,X=new ge(this._containerLeft,-A-this._containerBottom);X._add(zn(this._container));var oe=u.layerPointToContainerPoint(X),we=se(this.options.autoPanPadding),Me=se(this.options.autoPanPaddingTopLeft||we),We=se(this.options.autoPanPaddingBottomRight||we),tt=u.getSize(),_t=0,Ut=0;oe.x+U+We.x>tt.x&&(_t=oe.x+U-tt.x+We.x),oe.x-_t-Me.x<0&&(_t=oe.x-Me.x),oe.y+A+We.y>tt.y&&(Ut=oe.y+A-tt.y+We.y),oe.y-Ut-Me.y<0&&(Ut=oe.y-Me.y),(_t||Ut)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([_t,Ut]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wr=function(u,_){return new qr(u,_)};ln.mergeOptions({closePopupOnClick:!0}),ln.include({openPopup:function(u,_,A){return this._initOverlay(qr,u,_,A).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),vr.include({bindPopup:function(u,_){return this._popup=this._initOverlay(qr,this._popup,u,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Kr(u);var _=u.layer||u.target;if(this._popup._source===_&&!(_ instanceof Ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=_,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Tn=Hn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Hn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Hn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Hn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",_=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var _,A,U=this._map,X=this._container,oe=U.latLngToContainerPoint(U.getCenter()),we=U.layerPointToContainerPoint(u),Me=this.options.direction,We=X.offsetWidth,tt=X.offsetHeight,_t=se(this.options.offset),Ut=this._getAnchor();Me==="top"?(_=We/2,A=tt):Me==="bottom"?(_=We/2,A=0):Me==="center"?(_=We/2,A=tt/2):Me==="right"?(_=0,A=tt/2):Me==="left"?(_=We,A=tt/2):we.x<oe.x?(Me="right",_=0,A=tt/2):(Me="left",_=We+(_t.x+Ut.x)*2,A=tt/2),u=u.subtract(se(_,A,!0)).add(_t).add(Ut),Nn(X,"leaflet-tooltip-right"),Nn(X,"leaflet-tooltip-left"),Nn(X,"leaflet-tooltip-top"),Nn(X,"leaflet-tooltip-bottom"),Et(X,"leaflet-tooltip-"+Me),mt(X,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&jt(this._container,u)},_animateZoom:function(u){var _=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(_)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nr=function(u,_){return new Tn(u,_)};ln.include({openTooltip:function(u,_,A){return this._initOverlay(Tn,u,_,A).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),vr.include({bindTooltip:function(u,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Tn,this._tooltip,u,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var _=u?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[_](A),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var _=typeof u.getElement=="function"&&u.getElement();_&&(Ht(_,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),Ht(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var _=typeof u.getElement=="function"&&u.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var _=u.latlng,A,U;this._tooltip.options.sticky&&u.originalEvent&&(A=this._map.mouseEventToContainerPoint(u.originalEvent),U=this._map.containerPointToLayerPoint(A),_=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(_)}});var ri=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var _=u&&u.tagName==="DIV"?u:document.createElement("div"),A=this.options;if(A.html instanceof Element?(Cr(_),_.appendChild(A.html)):_.innerHTML=A.html!==!1?A.html:"",A.bgPos){var U=se(A.bgPos);_.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function ja(u){return new ri(u)}ss.Default=ls;var Ai=vr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){N(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),pn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(on(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ge?u:new ge(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var _=this.getPane().children,A=-u(-1/0,1/0),U=0,X=_.length,oe;U<X;U++)oe=_[U].style.zIndex,_[U]!==this._container&&oe&&(A=u(A,+oe));isFinite(A)&&(this.options.zIndex=A+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ge.ielt9){jt(this._container,this.options.opacity);var u=+new Date,_=!1,A=!1;for(var U in this._tiles){var X=this._tiles[U];if(!(!X.current||!X.loaded)){var oe=Math.min(1,(u-X.loaded)/200);jt(X.el,oe),oe<1?_=!0:(X.active?A=!0:this._onOpaqueTile(X),X.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),_&&(H(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,_=this.options.maxZoom;if(u!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===u?(this._levels[A].el.style.zIndex=_-Math.abs(u-A),this._onUpdateLevel(A)):(pn(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var U=this._levels[u],X=this._map;return U||(U=this._levels[u]={},U.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=_,U.origin=X.project(X.unproject(X.getPixelOrigin()),u).round(),U.zoom=u,this._setZoomTransform(U,X.getCenter(),X.getZoom()),E(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var u,_,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)_=this._tiles[u],_.retain=_.current;for(u in this._tiles)if(_=this._tiles[u],_.current&&!_.active){var U=_.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var _ in this._tiles)this._tiles[_].coords.z===u&&this._removeTile(_)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)pn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,_,A,U){var X=Math.floor(u/2),oe=Math.floor(_/2),we=A-1,Me=new ge(+X,+oe);Me.z=+we;var We=this._tileCoordsToKey(Me),tt=this._tiles[We];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),we>U?this._retainParent(X,oe,we,U):!1)},_retainChildren:function(u,_,A,U){for(var X=2*u;X<2*u+2;X++)for(var oe=2*_;oe<2*_+2;oe++){var we=new ge(X,oe);we.z=A+1;var Me=this._tileCoordsToKey(we),We=this._tiles[Me];if(We&&We.active){We.retain=!0;continue}else We&&We.loaded&&(We.retain=!0);A+1<U&&this._retainChildren(X,oe,A+1,U)}},_resetView:function(u){var _=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var _=this.options;return _.minNativeZoom!==void 0&&u<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<u?_.maxNativeZoom:u},_setView:function(u,_,A,U){var X=Math.round(_);this.options.maxZoom!==void 0&&X>this.options.maxZoom||this.options.minZoom!==void 0&&X<this.options.minZoom?X=void 0:X=this._clampZoom(X);var oe=this.options.updateWhenZooming&&X!==this._tileZoom;(!U||oe)&&(this._tileZoom=X,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),X!==void 0&&this._update(u),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(u,_)},_setZoomTransforms:function(u,_){for(var A in this._levels)this._setZoomTransform(this._levels[A],u,_)},_setZoomTransform:function(u,_,A){var U=this._map.getZoomScale(A,u.zoom),X=u.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(_,A)).round();Ge.any3d?me(u.el,X,U):mt(u.el,X)},_resetGrid:function(){var u=this._map,_=u.options.crs,A=this._tileSize=this.getTileSize(),U=this._tileZoom,X=this._map.getPixelWorldBounds(this._tileZoom);X&&(this._globalTileRange=this._pxBoundsToTileRange(X)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,_.wrapLng[0]],U).x/A.x),Math.ceil(u.project([0,_.wrapLng[1]],U).x/A.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([_.wrapLat[0],0],U).y/A.x),Math.ceil(u.project([_.wrapLat[1],0],U).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var _=this._map,A=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),U=_.getZoomScale(A,this._tileZoom),X=_.project(u,this._tileZoom).floor(),oe=_.getSize().divideBy(U*2);return new ue(X.subtract(oe),X.add(oe))},_update:function(u){var _=this._map;if(_){var A=this._clampZoom(_.getZoom());if(u===void 0&&(u=_.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(u),X=this._pxBoundsToTileRange(U),oe=X.getCenter(),we=[],Me=this.options.keepBuffer,We=new ue(X.getBottomLeft().subtract([Me,-Me]),X.getTopRight().add([Me,-Me]));if(!(isFinite(X.min.x)&&isFinite(X.min.y)&&isFinite(X.max.x)&&isFinite(X.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var _t=this._tiles[tt].coords;(_t.z!==this._tileZoom||!We.contains(new ge(_t.x,_t.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(u,A);return}for(var Ut=X.min.y;Ut<=X.max.y;Ut++)for(var Qt=X.min.x;Qt<=X.max.x;Qt++){var Rr=new ge(Qt,Ut);if(Rr.z=this._tileZoom,!!this._isValidTile(Rr)){var ur=this._tiles[this._tileCoordsToKey(Rr)];ur?ur.current=!0:we.push(Rr)}}if(we.sort(function(di,cs){return di.distanceTo(oe)-cs.distanceTo(oe)}),we.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ii=document.createDocumentFragment();for(Qt=0;Qt<we.length;Qt++)this._addTile(we[Qt],ii);this._level.el.appendChild(ii)}}}},_isValidTile:function(u){var _=this._map.options.crs;if(!_.infinite){var A=this._globalTileRange;if(!_.wrapLng&&(u.x<A.min.x||u.x>A.max.x)||!_.wrapLat&&(u.y<A.min.y||u.y>A.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(u);return Ae(this.options.bounds).overlaps(U)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var _=this._map,A=this.getTileSize(),U=u.scaleBy(A),X=U.add(A),oe=_.unproject(U,u.z),we=_.unproject(X,u.z);return[oe,we]},_tileCoordsToBounds:function(u){var _=this._tileCoordsToNwSe(u),A=new Ie(_[0],_[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var _=u.split(":"),A=new ge(+_[0],+_[1]);return A.z=+_[2],A},_removeTile:function(u){var _=this._tiles[u];_&&(pn(_.el),delete this._tiles[u],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Et(u,"leaflet-tile");var _=this.getTileSize();u.style.width=_.x+"px",u.style.height=_.y+"px",u.onselectstart=E,u.onmousemove=E,Ge.ielt9&&this.options.opacity<1&&jt(u,this.options.opacity)},_addTile:function(u,_){var A=this._getTilePos(u),U=this._tileCoordsToKey(u),X=this.createTile(this._wrapCoords(u),d(this._tileReady,this,u));this._initTile(X),this.createTile.length<2&&Q(d(this._tileReady,this,u,null,X)),mt(X,A),this._tiles[U]={el:X,coords:u,current:!0},_.appendChild(X),this.fire("tileloadstart",{tile:X,coords:u})},_tileReady:function(u,_,A){_&&this.fire("tileerror",{error:_,tile:A,coords:u});var U=this._tileCoordsToKey(u);A=this._tiles[U],A&&(A.loaded=+new Date,this._map._fadeAnimated?(jt(A.el,0),H(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),_||(Et(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ge.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var _=new ge(this._wrapX?b(u.x,this._wrapX):u.x,this._wrapY?b(u.y,this._wrapY):u.y);return _.z=u.z,_},_pxBoundsToTileRange:function(u){var _=this.getTileSize();return new ue(u.min.unscaleBy(_).floor(),u.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function ql(u){return new Ai(u)}var kr=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,_){this._url=u,_=N(this,_),_.detectRetina&&Ge.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,_){return this._url===u&&_===void 0&&(_=!0),this._url=u,_||this.redraw(),this},createTile:function(u,_){var A=document.createElement("img");return Ht(A,"load",d(this._tileOnLoad,this,_,A)),Ht(A,"error",d(this._tileOnError,this,_,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(u),A},getTileUrl:function(u){var _={r:Ge.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-u.y;this.options.tms&&(_.y=A),_["-y"]=A}return P(this._url,l(_,this.options))},_tileOnLoad:function(u,_){Ge.ielt9?setTimeout(d(u,this,null,_),0):u(null,_)},_tileOnError:function(u,_,A){var U=this.options.errorTileUrl;U&&_.getAttribute("src")!==U&&(_.src=U),u(A,_)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,_=this.options.maxZoom,A=this.options.zoomReverse,U=this.options.zoomOffset;return A&&(u=_-u),u+U},_getSubdomain:function(u){var _=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var u,_;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(_=this._tiles[u].el,_.onload=E,_.onerror=E,!_.complete)){_.src=q;var A=this._tiles[u].coords;pn(_),delete this._tiles[u],this.fire("tileabort",{tile:_,coords:A})}},_removeTile:function(u){var _=this._tiles[u];if(_)return _.el.setAttribute("src",q),Ai.prototype._removeTile.call(this,u)},_tileReady:function(u,_,A){if(!(!this._map||A&&A.getAttribute("src")===q))return Ai.prototype._tileReady.call(this,u,_,A)}});function Ti(u,_){return new kr(u,_)}var Is=kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,_){this._url=u;var A=l({},this.defaultWmsParams);for(var U in _)U in this.options||(A[U]=_[U]);_=N(this,_);var X=_.detectRetina&&Ge.retina?2:1,oe=this.getTileSize();A.width=oe.x*X,A.height=oe.y*X,this.wmsParams=A},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,kr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var _=this._tileCoordsToNwSe(u),A=this._crs,U=pe(A.project(_[0]),A.project(_[1])),X=U.min,oe=U.max,we=(this._wmsVersion>=1.3&&this._crs===as?[X.y,X.x,oe.y,oe.x]:[X.x,X.y,oe.x,oe.y]).join(","),Me=kr.prototype.getTileUrl.call(this,u);return Me+k(this.wmsParams,Me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+we},setParams:function(u,_){return l(this.wmsParams,u),_||this.redraw(),this}});function Yu(u,_){return new Is(u,_)}kr.WMS=Is,Ti.wms=Yu;var Hi=vr.extend({options:{padding:.1},initialize:function(u){N(this,u),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,_){var A=this._map.getZoomScale(_,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),X=this._map.project(this._center,_),oe=U.multiplyBy(-A).add(X).subtract(this._map._getNewPixelOrigin(u,_));Ge.any3d?me(this._container,oe,A):mt(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,_=this._map.getSize(),A=this._map.containerPointToLayerPoint(_.multiplyBy(-u)).round();this._bounds=new ue(A,A.add(_.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jo=Hi.extend({options:{tolerance:0},getEvents:function(){var u=Hi.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Ht(u,"mousemove",this._onMouseMove,this),Ht(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ht(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,pn(this._container),vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var _ in this._layers)u=this._layers[_],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hi.prototype._update.call(this);var u=this._bounds,_=this._container,A=u.getSize(),U=Ge.retina?2:1;mt(_,u.min),_.width=U*A.x,_.height=U*A.y,_.style.width=A.x+"px",_.style.height=A.y+"px",Ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[p(u)]=u;var _=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var _=u._order,A=_.next,U=_.prev;A?A.prev=U:this._drawLast=U,U?U.next=A:this._drawFirst=A,delete u._order,delete this._layers[p(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var _=u.options.dashArray.split(/[, ]+/),A=[],U,X;for(X=0;X<_.length;X++){if(U=Number(_[X]),isNaN(U))return;A.push(U)}u.options._dashArray=A}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var _=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(u._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(u._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var _=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,_=this._redrawBounds;if(this._ctx.save(),_){var A=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)u=U.layer,(!_||u._pxBounds&&u._pxBounds.intersects(_))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,_){if(this._drawing){var A,U,X,oe,we=u._parts,Me=we.length,We=this._ctx;if(Me){for(We.beginPath(),A=0;A<Me;A++){for(U=0,X=we[A].length;U<X;U++)oe=we[A][U],We[U?"lineTo":"moveTo"](oe.x,oe.y);_&&We.closePath()}this._fillStroke(We,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var _=u._point,A=this._ctx,U=Math.max(Math.round(u._radius),1),X=(Math.max(Math.round(u._radiusY),1)||U)/U;X!==1&&(A.save(),A.scale(1,X)),A.beginPath(),A.arc(_.x,_.y/X,U,0,Math.PI*2,!1),X!==1&&A.restore(),this._fillStroke(A,u)}},_fillStroke:function(u,_){var A=_.options;A.fill&&(u.globalAlpha=A.fillOpacity,u.fillStyle=A.fillColor||A.color,u.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(u.setLineDash&&u.setLineDash(_.options&&_.options._dashArray||[]),u.globalAlpha=A.opacity,u.lineWidth=A.weight,u.strokeStyle=A.color,u.lineCap=A.lineCap,u.lineJoin=A.lineJoin,u.stroke())},_onClick:function(u){for(var _=this._map.mouseEventToLayerPoint(u),A,U,X=this._drawFirst;X;X=X.next)A=X.layer,A.options.interactive&&A._containsPoint(_)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(A))&&(U=A);this._fireEvent(U?[U]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,_)}},_handleMouseOut:function(u){var _=this._hoveredLayer;_&&(Nn(this._container,"leaflet-interactive"),this._fireEvent([_],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,_){if(!this._mouseHoverThrottled){for(var A,U,X=this._drawFirst;X;X=X.next)A=X.layer,A.options.interactive&&A._containsPoint(_)&&(U=A);U!==this._hoveredLayer&&(this._handleMouseOut(u),U&&(Et(this._container,"leaflet-interactive"),this._fireEvent([U],u,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,_,A){this._map._fireDOMEvent(_,A||_.type,u)},_bringToFront:function(u){var _=u._order;if(_){var A=_.next,U=_.prev;if(A)A.prev=U;else return;U?U.next=A:A&&(this._drawFirst=A),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(u)}},_bringToBack:function(u){var _=u._order;if(_){var A=_.next,U=_.prev;if(U)U.next=A;else return;A?A.prev=U:U&&(this._drawLast=U),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(u)}}});function Wl(u){return Ge.canvas?new Jo(u):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),hf={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hi.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var _=u._container=Vi("shape");Et(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",u._path=Vi("path"),_.appendChild(u._path),this._updateStyle(u),this._layers[p(u)]=u},_addPath:function(u){var _=u._container;this._container.appendChild(_),u.options.interactive&&u.addInteractiveTarget(_)},_removePath:function(u){var _=u._container;pn(_),u.removeInteractiveTarget(_),delete this._layers[p(u)]},_updateStyle:function(u){var _=u._stroke,A=u._fill,U=u.options,X=u._container;X.stroked=!!U.stroke,X.filled=!!U.fill,U.stroke?(_||(_=u._stroke=Vi("stroke")),X.appendChild(_),_.weight=U.weight+"px",_.color=U.color,_.opacity=U.opacity,U.dashArray?_.dashStyle=B(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=U.lineCap.replace("butt","flat"),_.joinstyle=U.lineJoin):_&&(X.removeChild(_),u._stroke=null),U.fill?(A||(A=u._fill=Vi("fill")),X.appendChild(A),A.color=U.fillColor||U.color,A.opacity=U.fillOpacity):A&&(X.removeChild(A),u._fill=null)},_updateCircle:function(u){var _=u._point.round(),A=Math.round(u._radius),U=Math.round(u._radiusY||A);this._setPath(u,u._empty()?"M0 0":"AL "+_.x+","+_.y+" "+A+","+U+" 0,"+65535*360)},_setPath:function(u,_){u._path.v=_},_bringToFront:function(u){on(u._container)},_bringToBack:function(u){$r(u._container)}},Ns=Ge.vml?Vi:Ye,ba=Hi.extend({_initContainer:function(){this._container=Ns("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ns("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pn(this._container),vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hi.prototype._update.call(this);var u=this._bounds,_=u.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,A.setAttribute("width",_.x),A.setAttribute("height",_.y)),mt(A,u.min),A.setAttribute("viewBox",[u.min.x,u.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(u){var _=u._path=Ns("path");u.options.className&&Et(_,u.options.className),u.options.interactive&&Et(_,"leaflet-interactive"),this._updateStyle(u),this._layers[p(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){pn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[p(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var _=u._path,A=u.options;_&&(A.stroke?(_.setAttribute("stroke",A.color),_.setAttribute("stroke-opacity",A.opacity),_.setAttribute("stroke-width",A.weight),_.setAttribute("stroke-linecap",A.lineCap),_.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?_.setAttribute("stroke-dasharray",A.dashArray):_.removeAttribute("stroke-dasharray"),A.dashOffset?_.setAttribute("stroke-dashoffset",A.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),A.fill?(_.setAttribute("fill",A.fillColor||A.color),_.setAttribute("fill-opacity",A.fillOpacity),_.setAttribute("fill-rule",A.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(u,_){this._setPath(u,Ue(u._parts,_))},_updateCircle:function(u){var _=u._point,A=Math.max(Math.round(u._radius),1),U=Math.max(Math.round(u._radiusY),1)||A,X="a"+A+","+U+" 0 1,0 ",oe=u._empty()?"M0 0":"M"+(_.x-A)+","+_.y+X+A*2+",0 "+X+-A*2+",0 ";this._setPath(u,oe)},_setPath:function(u,_){u._path.setAttribute("d",_)},_bringToFront:function(u){on(u._path)},_bringToBack:function(u){$r(u._path)}});Ge.vml&&ba.include(hf);function Xu(u){return Ge.svg||Ge.vml?new ba(u):null}ln.include({getRenderer:function(u){var _=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var _=this._paneRenderers[u];return _===void 0&&(_=this._createRenderer({pane:u}),this._paneRenderers[u]=_),_},_createRenderer:function(u){return this.options.preferCanvas&&Wl(u)||Xu(u)}});var Oi=f.extend({initialize:function(u,_){f.prototype.initialize.call(this,this._boundsToLatLngs(u),_)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=Ae(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function so(u,_){return new Oi(u,_)}ba.create=Ns,ba.pointsToPath=Ue,v.geometryToLayer=w,v.coordsToLatLng=I,v.coordsToLatLngs=j,v.latLngToCoords=$,v.latLngsToCoords=ae,v.getFeature=le,v.asFeature=ve,ln.mergeOptions({boxZoom:!0});var Rs=ei.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),Rt(),this._startPoint=this._map.mouseEventToContainerPoint(u),Ht(document,{contextmenu:Kr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),Et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var _=new ue(this._point,this._startPoint),A=_.getSize();mt(this._box,_.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&(pn(this._box),Nn(this._container,"leaflet-crosshair")),ji(),kn(),vt(document,{contextmenu:Kr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var _=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ln.addInitHook("addHandler","boxZoom",Rs),ln.mergeOptions({doubleClickZoom:!0});var el=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var _=this._map,A=_.getZoom(),U=_.options.zoomDelta,X=u.originalEvent.shiftKey?A-U:A+U;_.options.doubleClickZoom==="center"?_.setZoom(X):_.setZoomAround(u.containerPoint,X)}});ln.addInitHook("addHandler","doubleClickZoom",el),ln.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tl=ei.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new xa(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nn(this._map._container,"leaflet-grab"),Nn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=Ae(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var _=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(_),this._prunePositions(_)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,_){return u-(u-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;u.x<_.min.x&&(u.x=this._viscousLimit(u.x,_.min.x)),u.y<_.min.y&&(u.y=this._viscousLimit(u.y,_.min.y)),u.x>_.max.x&&(u.x=this._viscousLimit(u.x,_.max.x)),u.y>_.max.y&&(u.y=this._viscousLimit(u.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,_=Math.round(u/2),A=this._initialWorldOffset,U=this._draggable._newPos.x,X=(U-_+A)%u+_-A,oe=(U+_+A)%u-_-A,we=Math.abs(X+A)<Math.abs(oe+A)?X:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=we},_onDragEnd:function(u){var _=this._map,A=_.options,U=!A.inertia||u.noInertia||this._times.length<2;if(_.fire("dragend",u),U)_.fire("moveend");else{this._prunePositions(+new Date);var X=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,we=A.easeLinearity,Me=X.multiplyBy(we/oe),We=Me.distanceTo([0,0]),tt=Math.min(A.inertiaMaxSpeed,We),_t=Me.multiplyBy(tt/We),Ut=tt/(A.inertiaDeceleration*we),Qt=_t.multiplyBy(-Ut/2).round();!Qt.x&&!Qt.y?_.fire("moveend"):(Qt=_._limitOffset(Qt,_.options.maxBounds),Q(function(){_.panBy(Qt,{duration:Ut,easeLinearity:we,noMoveStart:!0,animate:!0})}))}}});ln.addInitHook("addHandler","dragging",tl),ln.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ii=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Ht(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,_=document.documentElement,A=u.scrollTop||_.scrollTop,U=u.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(U,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var _=this._panKeys={},A=this.keyCodes,U,X;for(U=0,X=A.left.length;U<X;U++)_[A.left[U]]=[-1*u,0];for(U=0,X=A.right.length;U<X;U++)_[A.right[U]]=[u,0];for(U=0,X=A.down.length;U<X;U++)_[A.down[U]]=[0,u];for(U=0,X=A.up.length;U<X;U++)_[A.up[U]]=[0,-1*u]},_setZoomDelta:function(u){var _=this._zoomKeys={},A=this.keyCodes,U,X;for(U=0,X=A.zoomIn.length;U<X;U++)_[A.zoomIn[U]]=u;for(U=0,X=A.zoomOut.length;U<X;U++)_[A.zoomOut[U]]=-u},_addHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var _=u.keyCode,A=this._map,U;if(_ in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(U=this._panKeys[_],u.shiftKey&&(U=se(U).multiplyBy(3)),A.options.maxBounds&&(U=A._limitOffset(se(U),A.options.maxBounds)),A.options.worldCopyJump){var X=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(U)));A.panTo(X)}else A.panBy(U)}else if(_ in this._zoomKeys)A.setZoom(A.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;Kr(u)}}});ln.addInitHook("addHandler","keyboard",Ii),ln.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ni=ei.extend({addHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var _=Ki(u),A=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var U=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),U),Kr(u)},_performZoom:function(){var u=this._map,_=u.getZoom(),A=this._map.options.zoomSnap||0;u._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),X=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,oe=A?Math.ceil(X/A)*A:X,we=u._limitZoom(_+(this._delta>0?oe:-oe))-_;this._delta=0,this._startTime=null,we&&(u.options.scrollWheelZoom==="center"?u.setZoom(_+we):u.setZoomAround(this._lastMousePos,_+we))}});ln.addInitHook("addHandler","scrollWheelZoom",Ni);var Ms=600;ln.mergeOptions({tapHold:Ge.touchNative&&Ge.safari&&Ge.mobile,tapTolerance:15});var Ea=ei.extend({addHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var _=u.touches[0];this._startPos=this._newPos=new ge(_.clientX,_.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ht(document,"touchend",lr),Ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),Ms),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){vt(document,"touchend",lr),vt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)},_onMove:function(u){var _=u.touches[0];this._newPos=new ge(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,_){var A=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});A._simulated=!0,_.target.dispatchEvent(A)}});ln.addInitHook("addHandler","tapHold",Ea),ln.mergeOptions({touchZoom:Ge.touch,bounceAtZoomLimits:!0});var Sa=ei.extend({addHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nn(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var _=this._map;if(!(!u.touches||u.touches.length!==2||_._animatingZoom||this._zooming)){var A=_.mouseEventToContainerPoint(u.touches[0]),U=_.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(A.add(U)._divideBy(2))),this._startDist=A.distanceTo(U),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),lr(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var _=this._map,A=_.mouseEventToContainerPoint(u.touches[0]),U=_.mouseEventToContainerPoint(u.touches[1]),X=A.distanceTo(U)/this._startDist;if(this._zoom=_.getScaleZoom(X,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&X<1||this._zoom>_.getMaxZoom()&&X>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,X===1)return}else{var oe=A._add(U)._divideBy(2)._subtract(this._centerPoint);if(X===1&&oe.x===0&&oe.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var we=d(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(we,this,!0),lr(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ln.addInitHook("addHandler","touchZoom",Sa),ln.BoxZoom=Rs,ln.DoubleClickZoom=el,ln.Drag=tl,ln.Keyboard=Ii,ln.ScrollWheelZoom=Ni,ln.TapHold=Ea,ln.TouchZoom=Sa,n.Bounds=ue,n.Browser=Ge,n.CRS=gt,n.Canvas=Jo,n.Circle=us,n.CircleMarker=na,n.Class=z,n.Control=Jr,n.DivIcon=ri,n.DivOverlay=Hn,n.DomEvent=Qr,n.DomUtil=Gn,n.Draggable=xa,n.Evented=he,n.FeatureGroup=ti,n.GeoJSON=v,n.GridLayer=Ai,n.Handler=ei,n.Icon=ss,n.ImageOverlay=Fe,n.LatLng=Re,n.LatLngBounds=Ie,n.Layer=vr,n.LayerGroup=Fi,n.LineUtil=Ko,n.Map=ln,n.Marker=Vr,n.Mixin=Fl,n.Path=Ci,n.Point=ge,n.PolyUtil=$o,n.Polygon=f,n.Polyline=i,n.Popup=qr,n.PosAnimation=Os,n.Projection=io,n.Rectangle=Oi,n.Renderer=Hi,n.SVG=ba,n.SVGOverlay=an,n.TileLayer=kr,n.Tooltip=Tn,n.Transformation=Mt,n.Util=ee,n.VideoOverlay=ot,n.bind=d,n.bounds=pe,n.canvas=Wl,n.circle=ie,n.circleMarker=yn,n.control=es,n.divIcon=ja,n.extend=l,n.featureGroup=ni,n.geoJSON=Ce,n.geoJson=Pe,n.gridLayer=ql,n.icon=os,n.imageOverlay=st,n.latLng=Le,n.latLngBounds=Ae,n.layerGroup=hi,n.map=Ja,n.marker=Qo,n.point=se,n.polygon=m,n.polyline=o,n.popup=Wr,n.rectangle=so,n.setOptions=N,n.stamp=p,n.svg=Xu,n.svgOverlay=zt,n.tileLayer=Ti,n.tooltip=Nr,n.transformation=Yt,n.version=a,n.videoOverlay=it;var Ds=window.L;n.noConflict=function(){return window.L=Ds,this},window.L=n})}(Wc,Wc.exports)),Wc.exports}var eN=JI();const Iu=Vo(eN),tN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",nN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",rN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Iu.Icon.Default.prototype._getIconUrl;Iu.Icon.Default.mergeOptions({iconRetinaUrl:tN,iconUrl:nN,shadowUrl:rN});const Fa={name:"Boruya Sushi (MBK Center)",locationName:"MBK Center  7 Zone A  17.1",address:" 7, 444 . , , ,  10330",coordinates:[13.7448,100.5293],popupImage:"https://encrypted-tbn0.gstatic.com/images?q=tbn:AN9GcSNZd9q4a66wWGbSBnPX1JFuGbxxduk_mWwOA&s",workingHours:{allDays:"11:00 - 00:00 ."},googleMapsUrl:"http://googleusercontent.com/maps.google.com/3{[13.7448, 100.5293].join(',')}"},H_={light:{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &  <a href="https://carto.com/attributions">CARTO</a>'}},V_=({icon:e,title:t,children:n})=>D.jsxs("div",{className:"flex items-start text-left mt-4",children:[D.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center text-blue-500",children:e}),D.jsxs("div",{className:"ml-4",children:[D.jsx("p",{className:"font-semibold text-gray-800",children:t}),D.jsx("div",{className:"text-gray-600",children:n})]})]}),iN=()=>{const e=K.useRef(null),t=K.useRef(null);return K.useEffect(()=>{if(e.current&&!t.current){const n=Iu.map(e.current,{center:Fa.coordinates,zoom:17,zoomControl:!1});t.current=n,Iu.control.zoom({position:"topright"}).addTo(n),Iu.tileLayer(H_.light.url,{attribution:H_.light.attribution,maxZoom:19}).addTo(n);const a=`
        <div style="font-family: sans-serif; text-align: center; padding: 4px;">
          <h3 style="font-size: 1rem; font-weight: 700; color: #1f2937; margin: 0;">${Fa.name}</h3>
          <img 
            src="${Fa.popupImage}" 
            alt="Store Logo" 
            style="width: 4rem; height: 4rem; border-radius: 9999px; margin: 0.5rem auto; border: 2px solid #60a5fa;"
          >
          <p style="font-size: 0.75rem; color: #4b5563; margin: 0;">${Fa.locationName}</p>
          <a 
            href="${Fa.googleMapsUrl}" 
            target="_blank" 
            rel="noopener noreferrer" 
            style="font-size: 0.75rem; color: #2563eb; text-decoration: underline; margin-top: 0.5rem; display: inline-block;"
          >
             Google Maps
          </a>
        </div>
      `;Iu.marker(Fa.coordinates).addTo(n).bindPopup(a).openPopup(),setTimeout(()=>{n.invalidateSize()},0)}return()=>{t.current&&(t.current.remove(),t.current=null)}},[]),D.jsx("section",{className:"py-16 sm:py-24 px-4 bg-white",children:D.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.jsxs("div",{className:"text-center mb-12",children:[D.jsx("h2",{className:"text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-500 pb-2",children:" "}),D.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-3xl mx-auto",children:" MBK Center  "})]}),D.jsx("div",{className:"w-full p-2 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl shadow-2xl",children:D.jsx("div",{ref:e,className:"w-full h-[500px] sm:h-[650px] rounded-2xl overflow-hidden border-2 border-white","aria-label":` ${Fa.name}`})}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 mt-16 items-center",children:[D.jsxs("div",{className:"text-center lg:text-left",children:[D.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"mt-3 text-gray-600",children:""}),D.jsxs("div",{className:"mt-8 space-y-4",children:[D.jsxs(V_,{icon:D.jsx(aN,{}),title:"",children:[D.jsx("p",{children:Fa.locationName}),D.jsx("p",{children:Fa.address})]}),D.jsx(V_,{icon:D.jsx(sN,{}),title:"",children:D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:":"})," ",Fa.workingHours.allDays]})})]})]}),D.jsxs("div",{className:"text-center flex flex-col items-center justify-center bg-white p-8 rounded-2xl shadow-xl border border-gray-200",children:[D.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"?"}),D.jsx("p",{className:"mt-2 text-gray-600",children:" Google Maps "}),D.jsxs("a",{href:Fa.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-6 inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300 ease-in-out transform hover:-translate-y-1",children:[D.jsx(oN,{})," Google Maps"]})]})]})]})})},aN=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),sN=()=>D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),oN=()=>D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:D.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),lN=({children:e})=>{const[t,n]=K.useState(!1);K.useEffect(()=>{localStorage.getItem("cookieConsent")||n(!0)},[]);const a=()=>{localStorage.setItem("cookieConsent","accepted"),n(!1)},l=()=>{localStorage.setItem("cookieConsent","declined"),n(!1)};return D.jsxs("div",{className:"flex flex-col min-h-screen bg-white text-gray-800 dark:bg-neutral-900 dark:text-neutral-100 transition-colors duration-300",id:"myHeader",children:[D.jsx(H6,{}),D.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),D.jsx(vI,{})," ",t&&D.jsx("div",{className:`fixed bottom-0 left-0 right-0 sm:bottom-6 sm:left-1/2 sm:transform sm:-translate-x-1/2 \r
                     w-full sm:max-w-2xl z-50\r
                     bg-white dark:bg-slate-800 \r
                     text-slate-700 dark:text-slate-200\r
                     p-6 shadow-2xl \r
                     sm:rounded-xl border-t sm:border border-slate-200 dark:border-slate-700\r
                     transition-transform duration-500 ease-in-out`,role:"dialog","aria-labelledby":"cookie-consent-title","aria-describedby":"cookie-consent-description",children:D.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-5",children:[D.jsxs("div",{className:"shrink-0",children:[D.jsx(bI,{className:"text-sky-500 dark:text-sky-400 text-5xl md:text-6xl animate-pulse"})," "]}),D.jsxs("div",{className:"flex-1 text-center md:text-left",children:[D.jsx("h3",{id:"cookie-consent-title",className:"text-xl font-semibold mb-2 text-slate-900 dark:text-slate-100",children:""}),D.jsx("p",{id:"cookie-consent-description",className:"text-sm leading-relaxed",children:'    "" '})]}),D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-5 md:mt-0 shrink-0 w-full sm:w-auto",children:[D.jsx("button",{onClick:a,className:`w-full sm:w-auto bg-sky-600 text-white py-2.5 px-6 rounded-lg font-medium\r
                           hover:bg-sky-700 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-800\r
                           transition-all duration-300 ease-in-out transform hover:scale-105`,children:""}),D.jsx("button",{onClick:l,className:`w-full sm:w-auto bg-slate-200 text-slate-700 py-2.5 px-6 rounded-lg font-medium\r
                           hover:bg-slate-300 dark:bg-slate-600 dark:text-slate-200 dark:hover:bg-slate-500\r
                           focus:outline-none focus:ring-4 focus:ring-slate-300 dark:focus:ring-slate-700\r
                           transition-all duration-300 ease-in-out`,children:""})]})]})}),D.jsx(RI,{})," "]})};var V1={},Mc={},Nh={},Rh={},q_;function uN(){return q_||(q_=1,function(e){(function(t,n){n(e,ui(),Pl())})(Rh,function(t,n,a){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=R;var l=d(n),c=d(a);function d(P){return P&&P.__esModule?P:{default:P}}var y=Object.assign||function(P){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var q in W)Object.prototype.hasOwnProperty.call(W,q)&&(P[q]=W[q])}return P};function p(P,B){var W={};for(var q in P)B.indexOf(q)>=0||Object.prototype.hasOwnProperty.call(P,q)&&(W[q]=P[q]);return W}function g(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}var b=function(){function P(B,W){for(var q=0;q<W.length;q++){var Y=W[q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(B,Y.key,Y)}}return function(B,W,q){return W&&P(B.prototype,W),q&&P(B,q),B}}();function E(P,B){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:P}function O(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);P.prototype=Object.create(B&&B.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(P,B):P.__proto__=B)}var C=!1;function R(P){C=P}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){R(!0)}}))}catch{}function N(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return C?P:P.capture}function k(P){if("touches"in P){var B=P.touches[0],W=B.pageX,q=B.pageY;return{x:W,y:q}}var Y=P.screenX,V=P.screenY;return{x:Y,y:V}}var F=function(P){O(B,P);function B(){var W;g(this,B);for(var q=arguments.length,Y=Array(q),V=0;V<q;V++)Y[V]=arguments[V];var ne=E(this,(W=B.__proto__||Object.getPrototypeOf(B)).call.apply(W,[this].concat(Y)));return ne._handleSwipeStart=ne._handleSwipeStart.bind(ne),ne._handleSwipeMove=ne._handleSwipeMove.bind(ne),ne._handleSwipeEnd=ne._handleSwipeEnd.bind(ne),ne._onMouseDown=ne._onMouseDown.bind(ne),ne._onMouseMove=ne._onMouseMove.bind(ne),ne._onMouseUp=ne._onMouseUp.bind(ne),ne._setSwiperRef=ne._setSwiperRef.bind(ne),ne}return b(B,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,N({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,N({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(q){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(q))}},{key:"_onMouseMove",value:function(q){this.mouseDown&&this._handleSwipeMove(q)}},{key:"_onMouseUp",value:function(q){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(q)}},{key:"_handleSwipeStart",value:function(q){var Y=k(q),V=Y.x,ne=Y.y;this.moveStart={x:V,y:ne},this.props.onSwipeStart(q)}},{key:"_handleSwipeMove",value:function(q){if(this.moveStart){var Y=k(q),V=Y.x,ne=Y.y,G=V-this.moveStart.x,J=ne-this.moveStart.y;this.moving=!0;var Q=this.props.onSwipeMove({x:G,y:J},q);Q&&q.cancelable&&q.preventDefault(),this.movePosition={deltaX:G,deltaY:J}}}},{key:"_handleSwipeEnd",value:function(q){this.props.onSwipeEnd(q);var Y=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-Y?this.props.onSwipeLeft(1,q):this.movePosition.deltaX>Y&&this.props.onSwipeRight(1,q),this.movePosition.deltaY<-Y?this.props.onSwipeUp(1,q):this.movePosition.deltaY>Y&&this.props.onSwipeDown(1,q)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(q){this.swiper=q,this.props.innerRef(q)}},{key:"render",value:function(){var q=this.props;q.tagName;var Y=q.className,V=q.style,ne=q.children;q.allowMouseEvents,q.onSwipeUp,q.onSwipeDown,q.onSwipeLeft,q.onSwipeRight,q.onSwipeStart,q.onSwipeMove,q.onSwipeEnd,q.innerRef,q.tolerance;var G=p(q,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return l.default.createElement(this.props.tagName,y({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:Y,style:V},G),ne)}}]),B}(n.Component);F.displayName="ReactSwipe",F.propTypes={tagName:c.default.string,className:c.default.string,style:c.default.object,children:c.default.node,allowMouseEvents:c.default.bool,onSwipeUp:c.default.func,onSwipeDown:c.default.func,onSwipeLeft:c.default.func,onSwipeRight:c.default.func,onSwipeStart:c.default.func,onSwipeMove:c.default.func,onSwipeEnd:c.default.func,innerRef:c.default.func,tolerance:c.default.number.isRequired},F.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=F})}(Rh)),Rh}var W_;function yE(){return W_||(W_=1,function(e){(function(t,n){n(e,uN())})(Nh,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n);function l(c){return c&&c.__esModule?c:{default:c}}t.default=a.default})}(Nh)),Nh}var Dc={},q1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var G_;function cN(){return G_||(G_=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var c="",d=0;d<arguments.length;d++){var y=arguments[d];y&&(c=l(c,a(y)))}return c}function a(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return n.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var y in c)t.call(c,y)&&c[y]&&(d=l(d,y));return d}function l(c,d){return d?c?c+" "+d:c+d:c}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(q1)),q1.exports}var Z_;function _E(){if(Z_)return Dc;Z_=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.default=void 0;var e=t(cN());function t(l){return l&&l.__esModule?l:{default:l}}function n(l,c,d){return c in l?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d,l}var a={ROOT:function(c){return(0,e.default)(n({"carousel-root":!0},c||"",!!c))},CAROUSEL:function(c){return(0,e.default)({carousel:!0,"carousel-slider":c})},WRAPPER:function(c,d){return(0,e.default)({"thumbs-wrapper":!c,"slider-wrapper":c,"axis-horizontal":d==="horizontal","axis-vertical":d!=="horizontal"})},SLIDER:function(c,d){return(0,e.default)({thumbs:!c,slider:c,animated:!d})},ITEM:function(c,d,y){return(0,e.default)({thumb:!c,slide:c,selected:d,previous:y})},ARROW_PREV:function(c){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":c})},ARROW_NEXT:function(c){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":c})},DOT:function(c){return(0,e.default)({dot:!0,selected:c})}};return Dc.default=a,Dc}var Lc={},kc={},Y_;function fN(){if(Y_)return kc;Y_=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.outerWidth=void 0;var e=function(n){var a=n.offsetWidth,l=getComputedStyle(n);return a+=parseInt(l.marginLeft)+parseInt(l.marginRight),a};return kc.outerWidth=e,kc}var Pc={},X_;function Hp(){if(X_)return Pc;X_=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.default=void 0;var e=function(n,a,l){var c=n===0?n:n+a,d=l==="horizontal"?[c,0,0]:[0,c,0],y="translate3d",p="("+d.join(",")+")";return y+p};return Pc.default=e,Pc}var Bc={},$_;function xE(){if($_)return Bc;$_=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.default=void 0;var e=function(){return window};return Bc.default=e,Bc}var K_;function wE(){if(K_)return Lc;K_=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.default=void 0;var e=p(ui()),t=d(_E()),n=fN(),a=d(Hp()),l=d(yE()),c=d(xE());function d(ne){return ne&&ne.__esModule?ne:{default:ne}}function y(){if(typeof WeakMap!="function")return null;var ne=new WeakMap;return y=function(){return ne},ne}function p(ne){if(ne&&ne.__esModule)return ne;if(ne===null||g(ne)!=="object"&&typeof ne!="function")return{default:ne};var G=y();if(G&&G.has(ne))return G.get(ne);var J={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in ne)if(Object.prototype.hasOwnProperty.call(ne,H)){var ee=Q?Object.getOwnPropertyDescriptor(ne,H):null;ee&&(ee.get||ee.set)?Object.defineProperty(J,H,ee):J[H]=ne[H]}return J.default=ne,G&&G.set(ne,J),J}function g(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(J){return typeof J}:g=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},g(ne)}function b(){return b=Object.assign||function(ne){for(var G=1;G<arguments.length;G++){var J=arguments[G];for(var Q in J)Object.prototype.hasOwnProperty.call(J,Q)&&(ne[Q]=J[Q])}return ne},b.apply(this,arguments)}function E(ne,G){if(!(ne instanceof G))throw new TypeError("Cannot call a class as a function")}function O(ne,G){for(var J=0;J<G.length;J++){var Q=G[J];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ne,Q.key,Q)}}function C(ne,G,J){return G&&O(ne.prototype,G),ne}function R(ne,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(G&&G.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),G&&N(ne,G)}function N(ne,G){return N=Object.setPrototypeOf||function(Q,H){return Q.__proto__=H,Q},N(ne,G)}function k(ne){var G=B();return function(){var Q=W(ne),H;if(G){var ee=W(this).constructor;H=Reflect.construct(Q,arguments,ee)}else H=Q.apply(this,arguments);return F(this,H)}}function F(ne,G){return G&&(g(G)==="object"||typeof G=="function")?G:P(ne)}function P(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W(ne){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},W(ne)}function q(ne,G,J){return G in ne?Object.defineProperty(ne,G,{value:J,enumerable:!0,configurable:!0,writable:!0}):ne[G]=J,ne}var Y=function(G){return G.hasOwnProperty("key")},V=function(ne){R(J,ne);var G=k(J);function J(Q){var H;return E(this,J),H=G.call(this,Q),q(P(H),"itemsWrapperRef",void 0),q(P(H),"itemsListRef",void 0),q(P(H),"thumbsRef",void 0),q(P(H),"setItemsWrapperRef",function(ee){H.itemsWrapperRef=ee}),q(P(H),"setItemsListRef",function(ee){H.itemsListRef=ee}),q(P(H),"setThumbsRef",function(ee,z){H.thumbsRef||(H.thumbsRef=[]),H.thumbsRef[z]=ee}),q(P(H),"updateSizes",function(){if(!(!H.props.children||!H.itemsWrapperRef||!H.thumbsRef)){var ee=e.Children.count(H.props.children),z=H.itemsWrapperRef.clientWidth,Z=H.props.thumbWidth?H.props.thumbWidth:(0,n.outerWidth)(H.thumbsRef[0]),ye=Math.floor(z/Z),he=ye<ee,ge=he?ee-ye:0;H.setState(function(fe,se){return{itemSize:Z,visibleItems:ye,firstItem:he?H.getFirstItem(se.selectedItem):0,lastPosition:ge,showArrows:he}})}}),q(P(H),"handleClickItem",function(ee,z,Z){if(!Y(Z)||Z.key==="Enter"){var ye=H.props.onSelectItem;typeof ye=="function"&&ye(ee,z)}}),q(P(H),"onSwipeStart",function(){H.setState({swiping:!0})}),q(P(H),"onSwipeEnd",function(){H.setState({swiping:!1})}),q(P(H),"onSwipeMove",function(ee){var z=ee.x;if(!H.state.itemSize||!H.itemsWrapperRef||!H.state.visibleItems)return!1;var Z=0,ye=e.Children.count(H.props.children),he=-(H.state.firstItem*100)/H.state.visibleItems,ge=Math.max(ye-H.state.visibleItems,0),fe=-ge*100/H.state.visibleItems;he===Z&&z>0&&(z=0),he===fe&&z<0&&(z=0);var se=H.itemsWrapperRef.clientWidth,ue=he+100/(se/z);return H.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(pe){H.itemsListRef.style[pe]=(0,a.default)(ue,"%",H.props.axis)}),!0}),q(P(H),"slideRight",function(ee){H.moveTo(H.state.firstItem-(typeof ee=="number"?ee:1))}),q(P(H),"slideLeft",function(ee){H.moveTo(H.state.firstItem+(typeof ee=="number"?ee:1))}),q(P(H),"moveTo",function(ee){ee=ee<0?0:ee,ee=ee>=H.state.lastPosition?H.state.lastPosition:ee,H.setState({firstItem:ee})}),H.state={selectedItem:Q.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},H}return C(J,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(H){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==H.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(H){var ee=H;return H>=this.state.lastPosition&&(ee=this.state.lastPosition),H<this.state.firstItem+this.state.visibleItems&&(ee=this.state.firstItem),H<this.state.firstItem&&(ee=H),ee}},{key:"renderItems",value:function(){var H=this;return this.props.children.map(function(ee,z){var Z=t.default.ITEM(!1,z===H.state.selectedItem),ye={key:z,ref:function(ge){return H.setThumbsRef(ge,z)},className:Z,onClick:H.handleClickItem.bind(H,z,H.props.children[z]),onKeyDown:H.handleClickItem.bind(H,z,H.props.children[z]),"aria-label":"".concat(H.props.labels.item," ").concat(z+1),style:{width:H.props.thumbWidth}};return e.default.createElement("li",b({},ye,{role:"button",tabIndex:0}),ee)})}},{key:"render",value:function(){var H=this;if(!this.props.children)return null;var ee=e.Children.count(this.props.children)>1,z=this.state.showArrows&&this.state.firstItem>0,Z=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ye={},he=-this.state.firstItem*(this.state.itemSize||0),ge=(0,a.default)(he,"px",this.props.axis),fe=this.props.transitionTime+"ms";return ye={WebkitTransform:ge,MozTransform:ge,MsTransform:ge,OTransform:ge,transform:ge,msTransform:ge,WebkitTransitionDuration:fe,MozTransitionDuration:fe,MsTransitionDuration:fe,OTransitionDuration:fe,transitionDuration:fe,msTransitionDuration:fe},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!z),onClick:function(){return H.slideRight()},"aria-label":this.props.labels.leftArrow}),ee?e.default.createElement(l.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ye,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(ue){return H.setItemsListRef(ue)},style:ye},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!Z),onClick:function(){return H.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),J}(e.Component);return Lc.default=V,q(V,"displayName","Thumbs"),q(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Lc}var jc={},Q_;function hN(){if(Q_)return jc;Q_=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.default=void 0;var e=function(){return document};return jc.default=e,jc}var oa={},J_;function bE(){if(J_)return oa;J_=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.setPosition=oa.getPosition=oa.isKeyboardEvent=oa.defaultStatusFormatter=oa.noop=void 0;var e=ui(),t=n(Hp());function n(p){return p&&p.__esModule?p:{default:p}}var a=function(){};oa.noop=a;var l=function(g,b){return"".concat(g," of ").concat(b)};oa.defaultStatusFormatter=l;var c=function(g){return g?g.hasOwnProperty("key"):!1};oa.isKeyboardEvent=c;var d=function(g,b){if(b.infiniteLoop&&++g,g===0)return 0;var E=e.Children.count(b.children);if(b.centerMode&&b.axis==="horizontal"){var O=-g*b.centerSlidePercentage,C=E-1;return g&&(g!==C||b.infiniteLoop)?O+=(100-b.centerSlidePercentage)/2:g===C&&(O+=100-b.centerSlidePercentage),O}return-g*100};oa.getPosition=d;var y=function(g,b){var E={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(O){E[O]=(0,t.default)(g,"%",b)}),E};return oa.setPosition=y,oa}var Ha={},ex;function dN(){if(ex)return Ha;ex=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.fadeAnimationHandler=Ha.slideStopSwipingHandler=Ha.slideSwipeAnimationHandler=Ha.slideAnimationHandler=void 0;var e=ui(),t=a(Hp()),n=bE();function a(E){return E&&E.__esModule?E:{default:E}}function l(E,O){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);O&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(E,N).enumerable})),C.push.apply(C,R)}return C}function c(E){for(var O=1;O<arguments.length;O++){var C=arguments[O]!=null?arguments[O]:{};O%2?l(Object(C),!0).forEach(function(R){d(E,R,C[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(R){Object.defineProperty(E,R,Object.getOwnPropertyDescriptor(C,R))})}return E}function d(E,O,C){return O in E?Object.defineProperty(E,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[O]=C,E}var y=function(O,C){var R={},N=C.selectedItem,k=N,F=e.Children.count(O.children)-1,P=O.infiniteLoop&&(N<0||N>F);if(P)return k<0?O.centerMode&&O.centerSlidePercentage&&O.axis==="horizontal"?R.itemListStyle=(0,n.setPosition)(-(F+2)*O.centerSlidePercentage-(100-O.centerSlidePercentage)/2,O.axis):R.itemListStyle=(0,n.setPosition)(-(F+2)*100,O.axis):k>F&&(R.itemListStyle=(0,n.setPosition)(0,O.axis)),R;var B=(0,n.getPosition)(N,O),W=(0,t.default)(B,"%",O.axis),q=O.transitionTime+"ms";return R.itemListStyle={WebkitTransform:W,msTransform:W,OTransform:W,transform:W},C.swiping||(R.itemListStyle=c(c({},R.itemListStyle),{},{WebkitTransitionDuration:q,MozTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q})),R};Ha.slideAnimationHandler=y;var p=function(O,C,R,N){var k={},F=C.axis==="horizontal",P=e.Children.count(C.children),B=0,W=(0,n.getPosition)(R.selectedItem,C),q=C.infiniteLoop?(0,n.getPosition)(P-1,C)-100:(0,n.getPosition)(P-1,C),Y=F?O.x:O.y,V=Y;W===B&&Y>0&&(V=0),W===q&&Y<0&&(V=0);var ne=W+100/(R.itemSize/V),G=Math.abs(Y)>C.swipeScrollTolerance;return C.infiniteLoop&&G&&(R.selectedItem===0&&ne>-100?ne-=P*100:R.selectedItem===P-1&&ne<-P*100&&(ne+=P*100)),(!C.preventMovementUntilSwipeScrollTolerance||G||R.swipeMovementStarted)&&(R.swipeMovementStarted||N({swipeMovementStarted:!0}),k.itemListStyle=(0,n.setPosition)(ne,C.axis)),G&&!R.cancelClick&&N({cancelClick:!0}),k};Ha.slideSwipeAnimationHandler=p;var g=function(O,C){var R=(0,n.getPosition)(C.selectedItem,O),N=(0,n.setPosition)(R,O.axis);return{itemListStyle:N}};Ha.slideStopSwipingHandler=g;var b=function(O,C){var R=O.transitionTime+"ms",N="ease-in-out",k={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:N,msTransitionTimingFunction:N,MozTransitionTimingFunction:N,WebkitTransitionTimingFunction:N,OTransitionTimingFunction:N};return C.swiping||(k=c(c({},k),{},{WebkitTransitionDuration:R,MozTransitionDuration:R,OTransitionDuration:R,transitionDuration:R,msTransitionDuration:R})),{slideStyle:k,selectedStyle:c(c({},k),{},{opacity:1,position:"relative"}),prevStyle:c({},k)}};return Ha.fadeAnimationHandler=b,Ha}var tx;function mN(){if(tx)return Mc;tx=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.default=void 0;var e=b(ui()),t=p(yE()),n=p(_E()),a=p(wE()),l=p(hN()),c=p(xE()),d=bE(),y=dN();function p(Q){return Q&&Q.__esModule?Q:{default:Q}}function g(){if(typeof WeakMap!="function")return null;var Q=new WeakMap;return g=function(){return Q},Q}function b(Q){if(Q&&Q.__esModule)return Q;if(Q===null||E(Q)!=="object"&&typeof Q!="function")return{default:Q};var H=g();if(H&&H.has(Q))return H.get(Q);var ee={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z)){var ye=z?Object.getOwnPropertyDescriptor(Q,Z):null;ye&&(ye.get||ye.set)?Object.defineProperty(ee,Z,ye):ee[Z]=Q[Z]}return ee.default=Q,H&&H.set(Q,ee),ee}function E(Q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(ee){return typeof ee}:E=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},E(Q)}function O(){return O=Object.assign||function(Q){for(var H=1;H<arguments.length;H++){var ee=arguments[H];for(var z in ee)Object.prototype.hasOwnProperty.call(ee,z)&&(Q[z]=ee[z])}return Q},O.apply(this,arguments)}function C(Q,H){var ee=Object.keys(Q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Q);H&&(z=z.filter(function(Z){return Object.getOwnPropertyDescriptor(Q,Z).enumerable})),ee.push.apply(ee,z)}return ee}function R(Q){for(var H=1;H<arguments.length;H++){var ee=arguments[H]!=null?arguments[H]:{};H%2?C(Object(ee),!0).forEach(function(z){G(Q,z,ee[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ee)):C(Object(ee)).forEach(function(z){Object.defineProperty(Q,z,Object.getOwnPropertyDescriptor(ee,z))})}return Q}function N(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}function k(Q,H){for(var ee=0;ee<H.length;ee++){var z=H[ee];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Q,z.key,z)}}function F(Q,H,ee){return H&&k(Q.prototype,H),Q}function P(Q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(H&&H.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),H&&B(Q,H)}function B(Q,H){return B=Object.setPrototypeOf||function(z,Z){return z.__proto__=Z,z},B(Q,H)}function W(Q){var H=V();return function(){var z=ne(Q),Z;if(H){var ye=ne(this).constructor;Z=Reflect.construct(z,arguments,ye)}else Z=z.apply(this,arguments);return q(this,Z)}}function q(Q,H){return H&&(E(H)==="object"||typeof H=="function")?H:Y(Q)}function Y(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ne(Q){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},ne(Q)}function G(Q,H,ee){return H in Q?Object.defineProperty(Q,H,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Q[H]=ee,Q}var J=function(Q){P(ee,Q);var H=W(ee);function ee(z){var Z;N(this,ee),Z=H.call(this,z),G(Y(Z),"thumbsRef",void 0),G(Y(Z),"carouselWrapperRef",void 0),G(Y(Z),"listRef",void 0),G(Y(Z),"itemsRef",void 0),G(Y(Z),"timer",void 0),G(Y(Z),"animationHandler",void 0),G(Y(Z),"setThumbsRef",function(he){Z.thumbsRef=he}),G(Y(Z),"setCarouselWrapperRef",function(he){Z.carouselWrapperRef=he}),G(Y(Z),"setListRef",function(he){Z.listRef=he}),G(Y(Z),"setItemsRef",function(he,ge){Z.itemsRef||(Z.itemsRef=[]),Z.itemsRef[ge]=he}),G(Y(Z),"autoPlay",function(){e.Children.count(Z.props.children)<=1||(Z.clearAutoPlay(),Z.props.autoPlay&&(Z.timer=setTimeout(function(){Z.increment()},Z.props.interval)))}),G(Y(Z),"clearAutoPlay",function(){Z.timer&&clearTimeout(Z.timer)}),G(Y(Z),"resetAutoPlay",function(){Z.clearAutoPlay(),Z.autoPlay()}),G(Y(Z),"stopOnHover",function(){Z.setState({isMouseEntered:!0},Z.clearAutoPlay)}),G(Y(Z),"startOnLeave",function(){Z.setState({isMouseEntered:!1},Z.autoPlay)}),G(Y(Z),"isFocusWithinTheCarousel",function(){return Z.carouselWrapperRef?!!((0,l.default)().activeElement===Z.carouselWrapperRef||Z.carouselWrapperRef.contains((0,l.default)().activeElement)):!1}),G(Y(Z),"navigateWithKeyboard",function(he){if(Z.isFocusWithinTheCarousel()){var ge=Z.props.axis,fe=ge==="horizontal",se={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ue=fe?se.ArrowRight:se.ArrowDown,pe=fe?se.ArrowLeft:se.ArrowUp;ue===he.keyCode?Z.increment():pe===he.keyCode&&Z.decrement()}}),G(Y(Z),"updateSizes",function(){if(!(!Z.state.initialized||!Z.itemsRef||Z.itemsRef.length===0)){var he=Z.props.axis==="horizontal",ge=Z.itemsRef[0];if(ge){var fe=he?ge.clientWidth:ge.clientHeight;Z.setState({itemSize:fe}),Z.thumbsRef&&Z.thumbsRef.updateSizes()}}}),G(Y(Z),"setMountState",function(){Z.setState({hasMount:!0}),Z.updateSizes()}),G(Y(Z),"handleClickItem",function(he,ge){if(e.Children.count(Z.props.children)!==0){if(Z.state.cancelClick){Z.setState({cancelClick:!1});return}Z.props.onClickItem(he,ge),he!==Z.state.selectedItem&&Z.setState({selectedItem:he})}}),G(Y(Z),"handleOnChange",function(he,ge){e.Children.count(Z.props.children)<=1||Z.props.onChange(he,ge)}),G(Y(Z),"handleClickThumb",function(he,ge){Z.props.onClickThumb(he,ge),Z.moveTo(he)}),G(Y(Z),"onSwipeStart",function(he){Z.setState({swiping:!0}),Z.props.onSwipeStart(he)}),G(Y(Z),"onSwipeEnd",function(he){Z.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),Z.props.onSwipeEnd(he),Z.clearAutoPlay(),Z.state.autoPlay&&Z.autoPlay()}),G(Y(Z),"onSwipeMove",function(he,ge){Z.props.onSwipeMove(ge);var fe=Z.props.swipeAnimationHandler(he,Z.props,Z.state,Z.setState.bind(Y(Z)));return Z.setState(R({},fe)),!!Object.keys(fe).length}),G(Y(Z),"decrement",function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Z.moveTo(Z.state.selectedItem-(typeof he=="number"?he:1))}),G(Y(Z),"increment",function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Z.moveTo(Z.state.selectedItem+(typeof he=="number"?he:1))}),G(Y(Z),"moveTo",function(he){if(typeof he=="number"){var ge=e.Children.count(Z.props.children)-1;he<0&&(he=Z.props.infiniteLoop?ge:0),he>ge&&(he=Z.props.infiniteLoop?0:ge),Z.selectItem({selectedItem:he}),Z.state.autoPlay&&Z.state.isMouseEntered===!1&&Z.resetAutoPlay()}}),G(Y(Z),"onClickNext",function(){Z.increment(1)}),G(Y(Z),"onClickPrev",function(){Z.decrement(1)}),G(Y(Z),"onSwipeForward",function(){Z.increment(1),Z.props.emulateTouch&&Z.setState({cancelClick:!0})}),G(Y(Z),"onSwipeBackwards",function(){Z.decrement(1),Z.props.emulateTouch&&Z.setState({cancelClick:!0})}),G(Y(Z),"changeItem",function(he){return function(ge){(!(0,d.isKeyboardEvent)(ge)||ge.key==="Enter")&&Z.moveTo(he)}}),G(Y(Z),"selectItem",function(he){Z.setState(R({previousItem:Z.state.selectedItem},he),function(){Z.setState(Z.animationHandler(Z.props,Z.state))}),Z.handleOnChange(he.selectedItem,e.Children.toArray(Z.props.children)[he.selectedItem])}),G(Y(Z),"getInitialImage",function(){var he=Z.props.selectedItem,ge=Z.itemsRef&&Z.itemsRef[he],fe=ge&&ge.getElementsByTagName("img")||[];return fe[0]}),G(Y(Z),"getVariableItemHeight",function(he){var ge=Z.itemsRef&&Z.itemsRef[he];if(Z.state.hasMount&&ge&&ge.children.length){var fe=ge.children[0].getElementsByTagName("img")||[];if(fe.length>0){var se=fe[0];if(!se.complete){var ue=function Ae(){Z.forceUpdate(),se.removeEventListener("load",Ae)};se.addEventListener("load",ue)}}var pe=fe[0]||ge.children[0],Ie=pe.clientHeight;return Ie>0?Ie:null}return null});var ye={initialized:!1,previousItem:z.selectedItem,selectedItem:z.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:z.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return Z.animationHandler=typeof z.animationHandler=="function"&&z.animationHandler||z.animationHandler==="fade"&&y.fadeAnimationHandler||y.slideAnimationHandler,Z.state=R(R({},ye),Z.animationHandler(z,ye)),Z}return F(ee,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(Z,ye){!Z.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!Z.autoFocus&&this.props.autoFocus&&this.forceFocus(),ye.swiping&&!this.state.swiping&&this.setState(R({},this.props.stopSwipingHandler(this.props,this.state))),(Z.selectedItem!==this.props.selectedItem||Z.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),Z.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var Z=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ye=Z.getInitialImage();ye&&!ye.complete?ye.addEventListener("load",Z.setMountState):Z.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var Z=this.carouselWrapperRef;this.props.stopOnHover&&Z&&(Z.addEventListener("mouseenter",this.stopOnHover),Z.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var Z=this.carouselWrapperRef;this.props.stopOnHover&&Z&&(Z.removeEventListener("mouseenter",this.stopOnHover),Z.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,l.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var Z=this.getInitialImage();Z&&Z.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,l.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var Z;(Z=this.carouselWrapperRef)===null||Z===void 0||Z.focus()}},{key:"renderItems",value:function(Z){var ye=this;return this.props.children?e.Children.map(this.props.children,function(he,ge){var fe=ge===ye.state.selectedItem,se=ge===ye.state.previousItem,ue=fe&&ye.state.selectedStyle||se&&ye.state.prevStyle||ye.state.slideStyle||{};ye.props.centerMode&&ye.props.axis==="horizontal"&&(ue=R(R({},ue),{},{minWidth:ye.props.centerSlidePercentage+"%"})),ye.state.swiping&&ye.state.swipeMovementStarted&&(ue=R(R({},ue),{},{pointerEvents:"none"}));var pe={ref:function(Ae){return ye.setItemsRef(Ae,ge)},key:"itemKey"+ge+(Z?"clone":""),className:n.default.ITEM(!0,ge===ye.state.selectedItem,ge===ye.state.previousItem),onClick:ye.handleClickItem.bind(ye,ge,he),style:ue};return e.default.createElement("li",pe,ye.props.renderItem(he,{isSelected:ge===ye.state.selectedItem,isPrevious:ge===ye.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var Z=this,ye=this.props,he=ye.showIndicators,ge=ye.labels,fe=ye.renderIndicator,se=ye.children;return he?e.default.createElement("ul",{className:"control-dots"},e.Children.map(se,function(ue,pe){return fe&&fe(Z.changeItem(pe),pe===Z.state.selectedItem,pe,ge.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(a.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var Z=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var ye=this.props.swipeable&&e.Children.count(this.props.children)>1,he=this.props.axis==="horizontal",ge=this.props.showArrows&&e.Children.count(this.props.children)>1,fe=ge&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,se=ge&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ue=this.renderItems(!0),pe=ue.shift(),Ie=ue.pop(),Ae={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Re={};if(he){if(Ae.onSwipeLeft=this.onSwipeForward,Ae.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Le=this.getVariableItemHeight(this.state.selectedItem);Re.height=Le||"auto"}}else Ae.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ae.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ae.style=R(R({},Ae.style),{},{height:this.state.itemSize}),Re.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,fe,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Re},ye?e.default.createElement(t.default,O({tagName:"ul",innerRef:this.setListRef},Ae,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Ie,this.renderItems(),this.props.infiniteLoop&&pe):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(Ze){return Z.setListRef(Ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Ie,this.renderItems(),this.props.infiniteLoop&&pe)),this.props.renderArrowNext(this.onClickNext,se,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),ee}(e.default.Component);return Mc.default=J,G(J,"displayName","Carousel"),G(J,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:d.noop,onClickThumb:d.noop,onChange:d.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(H,ee,z){return e.default.createElement("button",{type:"button","aria-label":z,className:n.default.ARROW_PREV(!ee),onClick:H})},renderArrowNext:function(H,ee,z){return e.default.createElement("button",{type:"button","aria-label":z,className:n.default.ARROW_NEXT(!ee),onClick:H})},renderIndicator:function(H,ee,z,Z){return e.default.createElement("li",{className:n.default.DOT(ee),onClick:H,onKeyDown:H,value:z,key:z,role:"button",tabIndex:0,"aria-label":"".concat(Z," ").concat(z+1)})},renderItem:function(H){return H},renderThumbs:function(H){var ee=e.Children.map(H,function(z){var Z=z;if(z.type!=="img"&&(Z=e.Children.toArray(z.props.children).find(function(ye){return ye.type==="img"})),!!Z)return Z});return ee.filter(function(z){return z}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):ee},statusFormatter:d.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:y.slideSwipeAnimationHandler,stopSwipingHandler:y.slideStopSwipingHandler}),Mc}var nx={},rx;function pN(){return rx||(rx=1),nx}var ix;function gN(){return ix||(ix=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return a.default}});var t=l(mN()),n=pN(),a=l(wE());function l(c){return c&&c.__esModule?c:{default:c}}}(V1)),V1}var vN=gN();const yN=()=>D.jsx("div",{className:"w-full h-[400px] md:h-[600px] lg:h-[800px] bg-gray-100 dark:bg-gray-100 animate-pulse"}),_N=()=>{const[e,t]=K.useState([]),[n,a]=K.useState(!0),[l,c]=K.useState(null);return K.useEffect(()=>{(async()=>{a(!0),c(null);try{const{data:y,error:p}=await da.from("hero_banners").select("id, image_url, alt_text, link_url").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(p)throw p;const g=y.map(b=>({id:b.id,src:b.image_url,alt:b.alt_text,link:b.link_url}));t(g)}catch(y){console.error("Error fetching banner images:",y),c(" Banner ")}finally{a(!1)}})()},[]),n?D.jsx("div",{className:"relative w-full max-w-[1360px] mx-auto pt-10",children:D.jsx(yN,{})}):l?D.jsx("div",{className:"relative w-full max-w-[1360px] mx-auto pt-10",children:D.jsxs("div",{className:"w-full h-[400px] md:h-[600px] lg:h-[800px] bg-red-900 flex flex-col items-center justify-center text-center p-4 text-white",children:[D.jsx("p",{className:"text-xl font-semibold",children:""}),D.jsx("p",{children:l})]})}):!e||e.length===0?D.jsx("div",{className:"relative w-full max-w-[1360px] mx-auto pt-10",children:D.jsx("div",{className:"w-full h-[400px] md:h-[600px] lg:h-[800px] bg-gray-800 flex items-center justify-center text-center p-4 text-white",children:D.jsx("p",{className:"text-xl",children:" Banner "})})}):D.jsx("div",{className:"relative w-full max-w-[1360px] mx-auto pt-10",children:D.jsx(vN.Carousel,{autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showIndicators:!0,showStatus:!1,interval:5e3,emulateTouch:!0,children:e.map((d,y)=>D.jsx("div",{className:"w-full h-[400px] md:h-[600px] lg:h-[800px] overflow-hidden bg-gray-200 dark:bg-gray-800",children:d.link?D.jsx("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",children:D.jsx("img",{src:d.src,alt:d.alt,className:"w-full h-full object-contain",loading:y===0?"eager":"lazy"})}):D.jsx("img",{src:d.src,alt:d.alt,className:"w-full h-full object-contain",loading:y===0?"eager":"lazy"})},d.id))})})},xN=()=>D.jsx("div",{className:"flex flex-col lg:flex-row py-20",children:D.jsxs("div",{className:"min-h-screen bg-white relative",children:[D.jsx(MI,{}),D.jsx(rI,{}),D.jsx("section",{id:"hero",className:"w-full",children:D.jsx(_N,{})}),D.jsx("section",{id:"NewsAndEvent",className:"w-full",children:D.jsx(kI,{})}),D.jsx("section",{id:"message",className:"w-full"}),D.jsx("section",{id:"Media",className:"w-full",children:D.jsx(KI,{})}),D.jsx("section",{id:"Map",className:"w-full",children:D.jsx(iN,{})})]})});var wN=Pl();const cn=Vo(wN);var bN=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ym.apply(this,arguments)}function EN(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Mh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},Xm(e,t)}var xd=function(e){SN(t,e);function t(){var a;return a=e.call(this)||this,a.handleExpired=a.handleExpired.bind(Mh(a)),a.handleErrored=a.handleErrored.bind(Mh(a)),a.handleChange=a.handleChange.bind(Mh(a)),a.handleRecaptchaRef=a.handleRecaptchaRef.bind(Mh(a)),a}var n=t.prototype;return n.getCaptchaFunction=function(l){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[l]:this.props.grecaptcha[l]:null},n.getValue=function(){var l=this.getCaptchaFunction("getResponse");return l&&this._widgetId!==void 0?l(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var l=this.getCaptchaFunction("execute");if(l&&this._widgetId!==void 0)return l(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var l=this;return new Promise(function(c,d){l.executionResolve=c,l.executionReject=d,l.execute()})},n.reset=function(){var l=this.getCaptchaFunction("reset");l&&this._widgetId!==void 0&&l(this._widgetId)},n.forceReset=function(){var l=this.getCaptchaFunction("reset");l&&l()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(l){this.props.onChange&&this.props.onChange(l),this.executionResolve&&(this.executionResolve(l),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var l=this.getCaptchaFunction("render");if(l&&this._widgetId===void 0){var c=document.createElement("div");this._widgetId=l(c,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(c)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(l){this.captcha=l},n.render=function(){var l=this.props;l.sitekey,l.onChange,l.theme,l.type,l.tabindex,l.onExpired,l.onErrored,l.size,l.stoken,l.grecaptcha,l.badge,l.hl,l.isolated;var c=EN(l,bN);return K.createElement("div",Ym({},c,{ref:this.handleRecaptchaRef}))},t}(K.Component);xd.displayName="ReCAPTCHA";xd.propTypes={sitekey:cn.string.isRequired,onChange:cn.func,grecaptcha:cn.object,theme:cn.oneOf(["dark","light"]),type:cn.oneOf(["image","audio"]),tabindex:cn.number,onExpired:cn.func,onErrored:cn.func,size:cn.oneOf(["compact","normal","invisible"]),stoken:cn.string,hl:cn.string,badge:cn.oneOf(["bottomright","bottomleft","inline"]),isolated:cn.bool};xd.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var W1={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function CN(){if(ax)return jn;ax=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,l=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,y=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,g=e?Symbol.for("react.concurrent_mode"):60111,b=e?Symbol.for("react.forward_ref"):60112,E=e?Symbol.for("react.suspense"):60113,O=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,R=e?Symbol.for("react.lazy"):60116,N=e?Symbol.for("react.block"):60121,k=e?Symbol.for("react.fundamental"):60117,F=e?Symbol.for("react.responder"):60118,P=e?Symbol.for("react.scope"):60119;function B(q){if(typeof q=="object"&&q!==null){var Y=q.$$typeof;switch(Y){case t:switch(q=q.type,q){case p:case g:case a:case c:case l:case E:return q;default:switch(q=q&&q.$$typeof,q){case y:case b:case R:case C:case d:return q;default:return Y}}case n:return Y}}}function W(q){return B(q)===g}return jn.AsyncMode=p,jn.ConcurrentMode=g,jn.ContextConsumer=y,jn.ContextProvider=d,jn.Element=t,jn.ForwardRef=b,jn.Fragment=a,jn.Lazy=R,jn.Memo=C,jn.Portal=n,jn.Profiler=c,jn.StrictMode=l,jn.Suspense=E,jn.isAsyncMode=function(q){return W(q)||B(q)===p},jn.isConcurrentMode=W,jn.isContextConsumer=function(q){return B(q)===y},jn.isContextProvider=function(q){return B(q)===d},jn.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===t},jn.isForwardRef=function(q){return B(q)===b},jn.isFragment=function(q){return B(q)===a},jn.isLazy=function(q){return B(q)===R},jn.isMemo=function(q){return B(q)===C},jn.isPortal=function(q){return B(q)===n},jn.isProfiler=function(q){return B(q)===c},jn.isStrictMode=function(q){return B(q)===l},jn.isSuspense=function(q){return B(q)===E},jn.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===a||q===g||q===c||q===l||q===E||q===O||typeof q=="object"&&q!==null&&(q.$$typeof===R||q.$$typeof===C||q.$$typeof===d||q.$$typeof===y||q.$$typeof===b||q.$$typeof===k||q.$$typeof===F||q.$$typeof===P||q.$$typeof===N)},jn.typeOf=B,jn}var sx;function AN(){return sx||(sx=1,W1.exports=CN()),W1.exports}var G1,ox;function TN(){if(ox)return G1;ox=1;var e=AN(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[e.ForwardRef]=a,c[e.Memo]=l;function d(R){return e.isMemo(R)?l:c[R.$$typeof]||t}var y=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,O=Object.prototype;function C(R,N,k){if(typeof N!="string"){if(O){var F=E(N);F&&F!==O&&C(R,F,k)}var P=p(N);g&&(P=P.concat(g(N)));for(var B=d(R),W=d(N),q=0;q<P.length;++q){var Y=P[q];if(!n[Y]&&!(k&&k[Y])&&!(W&&W[Y])&&!(B&&B[Y])){var V=b(N,Y);try{y(R,Y,V)}catch{}}}}return R}return G1=C,G1}var ON=TN();const IN=Vo(ON);function $m(){return $m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$m.apply(this,arguments)}function NN(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function RN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Va={},MN=0;function DN(e,t){return t=t||{},function(a){var l=a.displayName||a.name||"Component",c=function(y){RN(p,y);function p(b,E){var O;return O=y.call(this,b,E)||this,O.state={},O.__scriptURL="",O}var g=p.prototype;return g.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+MN++),this.__scriptLoaderID},g.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},g.asyncScriptLoaderHandleLoad=function(E){var O=this;this.setState(E,function(){return O.props.asyncScriptOnLoad&&O.props.asyncScriptOnLoad(O.state)})},g.asyncScriptLoaderTriggerOnScriptLoaded=function(){var E=Va[this.__scriptURL];if(!E||!E.loaded)throw new Error("Script is not loaded.");for(var O in E.observers)E.observers[O](E);delete window[t.callbackName]},g.componentDidMount=function(){var E=this,O=this.setupScriptURL(),C=this.asyncScriptLoaderGetScriptLoaderID(),R=t,N=R.globalName,k=R.callbackName,F=R.scriptId;if(N&&typeof window[N]<"u"&&(Va[O]={loaded:!0,observers:{}}),Va[O]){var P=Va[O];if(P&&(P.loaded||P.errored)){this.asyncScriptLoaderHandleLoad(P);return}P.observers[C]=function(V){return E.asyncScriptLoaderHandleLoad(V)};return}var B={};B[C]=function(V){return E.asyncScriptLoaderHandleLoad(V)},Va[O]={loaded:!1,observers:B};var W=document.createElement("script");W.src=O,W.async=!0;for(var q in t.attributes)W.setAttribute(q,t.attributes[q]);F&&(W.id=F);var Y=function(ne){if(Va[O]){var G=Va[O],J=G.observers;for(var Q in J)ne(J[Q])&&delete J[Q]}};k&&typeof window<"u"&&(window[k]=function(){return E.asyncScriptLoaderTriggerOnScriptLoaded()}),W.onload=function(){var V=Va[O];V&&(V.loaded=!0,Y(function(ne){return k?!1:(ne(V),!0)}))},W.onerror=function(){var V=Va[O];V&&(V.errored=!0,Y(function(ne){return ne(V),!0}))},document.body.appendChild(W)},g.componentWillUnmount=function(){var E=this.__scriptURL;if(t.removeOnUnmount===!0)for(var O=document.getElementsByTagName("script"),C=0;C<O.length;C+=1)O[C].src.indexOf(E)>-1&&O[C].parentNode&&O[C].parentNode.removeChild(O[C]);var R=Va[E];R&&(delete R.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Va[E])},g.render=function(){var E=t.globalName,O=this.props;O.asyncScriptOnLoad;var C=O.forwardedRef,R=NN(O,["asyncScriptOnLoad","forwardedRef"]);return E&&typeof window<"u"&&(R[E]=typeof window[E]<"u"?window[E]:void 0),R.ref=C,K.createElement(a,R)},p}(K.Component),d=K.forwardRef(function(y,p){return K.createElement(c,$m({},y,{forwardedRef:p}))});return d.displayName="AsyncScriptLoader("+l+")",d.propTypes={asyncScriptOnLoad:cn.func},IN(d,a)}}var Km="onloadcallback",LN="grecaptcha";function Qm(){return typeof window<"u"&&window.recaptchaOptions||{}}function kN(){var e=Qm(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Km+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Km+"&render=explicit"}const EE=DN(kN,{callbackName:Km,globalName:LN,attributes:Qm().nonce?{nonce:Qm().nonce}:{}})(xd);function PN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function BN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function jN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function zN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function UN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function FN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(e)}function HN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function VN(e){return fn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const qN="6LfTxV8rAAAAAIL8kp_sqm6KAUzrpo2UFgW-BcPC",lx=[{value:"",label:" (Head Chef)",qualifications:[" "," "," ","","  ",",  "],benefits:[" 23,000++ ()","","",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:"",label:" (Assistant Chef)",qualifications:["","  ",",  "],benefits:[" 20,000++","","",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:"",label:" (Restaurant Manager)",qualifications:["",", , ","","",",  "],benefits:[" 25,000++","","",""," 2 ",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:"",label:" (Assitant Restaurant Manager)",qualifications:["",", , ","","",",  "],benefits:[" 20,000++","","",""," 2 ",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:"/",label:"/",qualifications:["","","","",",  "],benefits:[" 13,000++","","",""," 2 ",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:"",label:" (Waiter/Waitress)",qualifications:["  ","","","",",  "],benefits:[" 12,000++","",""],work_schedule:{title:"",shifts:[" 6 / ( 8 )",""],note:"  "}},{value:" (Part-Time)",label:" (Part-Time)",qualifications:["  ","","","",",  "],benefits:[" 50  (!)"],work_schedule:{title:"",shifts:["  / ( 8 )",""],note:"  "}},{value:"other",label:" (Other)"}],ux=[{name:"facebook",label:"Facebook"},{name:"instagram",label:"Instagram"},{name:"tiktok",label:"TikTok"},{name:"website",label:"Website"},{name:"storefront",label:""},{name:"other",label:""}],Dh={fullName:"",nickname:"",phoneNumber:"",email:"",age:"",educationStatus:"",positionApplied:"",otherPosition:"",experience:"",heardFrom:{facebook:!1,instagram:!1,tiktok:!1,website:!1,storefront:!1,other:!1},heardFromOtherText:"",recaptchaToken:""},Io=Ct.memo(({id:e,name:t,label:n,required:a,...l})=>D.jsxs("div",{children:[D.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-slate-700 mb-1",children:[n," ",a&&D.jsx("span",{className:"text-red-600",children:"*"})]}),D.jsx("input",{id:e,name:t,required:a,className:"mt-1 block w-full px-4 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500 transition duration-150",...l})]})),WN=Ct.memo(({files:e,onRemove:t,onPreview:n,handleFileChange:a,fileInputRef:l})=>D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" Resume   ()"}),e.length>0&&D.jsx("div",{className:"space-y-2 mb-4",children:e.map((c,d)=>D.jsxs("div",{className:"flex items-center justify-between bg-slate-50 border border-slate-200 p-2 rounded-md group",children:[D.jsxs("button",{type:"button",onClick:()=>n(c),className:"flex items-center space-x-2 overflow-hidden text-left cursor-pointer",children:[c.type.startsWith("image/")?D.jsx("img",{src:c.preview,alt:c.name,className:"h-8 w-8 object-cover rounded-md flex-shrink-0"}):D.jsx(UN,{className:"h-6 w-6 text-slate-500 flex-shrink-0"}),D.jsx("span",{className:"text-sm text-slate-700 truncate group-hover:text-red-600",children:c.name})]}),D.jsx("button",{type:"button",onClick:()=>t(d),className:"p-1 text-slate-500 hover:text-red-600 rounded-full hover:bg-red-100",children:D.jsx(VN,{className:"h-4 w-4"})})]},d))}),D.jsx("div",{className:"mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-slate-300 border-dashed rounded-lg bg-white hover:border-red-400 transition-colors",children:D.jsxs("div",{className:"space-y-1 text-center",children:[D.jsx(FN,{className:"mx-auto h-10 w-10 text-slate-400"}),D.jsxs("div",{className:"flex text-sm text-slate-600",children:[D.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-red-600 hover:text-red-700",children:[D.jsx("span",{children:""}),D.jsx("input",{id:"file-upload",name:"resumeFile",type:"file",multiple:!0,ref:l,className:"sr-only",onChange:a,accept:".pdf,.doc,.docx,image/jpeg,image/png,image/webp"})]}),D.jsx("p",{className:"pl-1",children:""})]}),D.jsx("p",{className:"text-xs text-slate-500",children:" ( 5MB )"})]})})]})),Z1=({icon:e,title:t,children:n})=>D.jsxs("div",{className:"pt-10 first:pt-0",children:[D.jsxs("div",{className:"flex items-center mb-6",children:[D.jsx(e,{className:"h-6 w-6 text-red-600"}),D.jsx("h3",{className:"text-lg font-bold text-slate-800 ml-3",children:t})]}),D.jsx("div",{className:"space-y-6",children:n})]}),GN=()=>{var ne,G;const[e,t]=K.useState(Dh),[n,a]=K.useState(Dh.heardFrom),[l,c]=K.useState(""),[d,y]=K.useState([]),[p,g]=K.useState(!1),[b,E]=K.useState({message:"",type:""}),[O,C]=K.useState(null),R=K.useRef(),N=K.useRef(null),k=K.useCallback(J=>{const{name:Q,value:H}=J.target;t(ee=>({...ee,[Q]:H}))},[]),F=K.useCallback(J=>{t(Q=>({...Q,recaptchaToken:J})),J&&E({message:"",type:""})},[]),P=K.useCallback(J=>{const{name:Q,checked:H}=J.target;a(ee=>({...ee,[Q]:H}))},[]),B=K.useCallback(J=>{const Q=J.target.files?Array.from(J.target.files):[];if(Q.length===0)return;const H=Q.map(ee=>ee.size>5*1024*1024?(E({message:` ${ee.name}  5MB`,type:"error"}),null):Object.assign(ee,{preview:URL.createObjectURL(ee)})).filter(ee=>ee!==null);y(ee=>[...ee,...H])},[]),W=K.useCallback(J=>{y(Q=>{const H=Q[J];return H.preview&&URL.revokeObjectURL(H.preview),Q.filter((ee,z)=>z!==J)})},[]),q=K.useCallback(J=>{J.type.startsWith("image/")?C(J.preview):window.open(J.preview,"_blank")},[]);K.useEffect(()=>()=>{d.forEach(J=>{J.preview&&URL.revokeObjectURL(J.preview)})},[d]);const Y=async J=>{var Q;if(J.preventDefault(),E({message:"",type:""}),!e.recaptchaToken){E({message:"",type:"error"});return}if(e.positionApplied==="other"&&!e.otherPosition.trim()){E({message:" ",type:"error"});return}g(!0);try{const H=d.map(ge=>{const fe=ge.name.split(".").pop(),pe=`${e.fullName.replace(/[^a-zA-Z0-9\s]/g,"").trim().replace(/\s+/g,"_")||"user"}-${Date.now()}-${Math.random().toString(36).substring(2,8)}.${fe}`;return da.storage.from("job-app-resumes").upload(pe,ge)}),z=(await Promise.all(H)).map(ge=>{if(ge.error)throw new Error(`Upload failed: ${ge.error.message}`);return da.storage.from("job-app-resumes").getPublicUrl(ge.data.path).data.publicUrl}),Z=Object.keys(n).filter(ge=>n==null?void 0:n[ge]).map(ge=>{var fe;return ge==="other"&&l?`: ${l}`:((fe=ux.find(se=>se.name===ge))==null?void 0:fe.label)||ge}),ye={full_name:e.fullName,nickname:e.nickname,phone_number:e.phoneNumber,email:e.email,age:e.age?parseInt(e.age,10):null,education_status:e.educationStatus,experience:e.experience,position_applied:e.positionApplied==="other"?e.otherPosition:e.positionApplied,resume_urls:z.length>0?z:null,heard_from_sources:Z.length>0?Z:null},{error:he}=await da.from("job_applications").insert([ye]);if(he)throw he;E({message:"!   ",type:"success"}),t(Dh),a(Dh.heardFrom),c(""),y([]),(Q=R.current)==null||Q.reset()}catch(H){console.error("Submission Error:",H),E({message:`: ${H.message}`,type:"error"})}finally{g(!1)}},V=lx.find(J=>J.value===e.positionApplied);return D.jsxs("div",{className:"min-h-screen bg-white py-12 sm:py-16 font-sans",children:[D.jsx("main",{className:"w-full max-w-3xl mx-auto px-4",children:D.jsxs("div",{className:"bg-white p-8 sm:p-10 rounded-xl shadow-2xl w-full border border-slate-200",children:[D.jsxs("div",{className:"text-center mb-10",children:[D.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-slate-900",children:""}),D.jsx("p",{className:"mt-3 text-base text-slate-500",children:""})]}),D.jsxs("form",{onSubmit:Y,className:"",children:[D.jsx(Z1,{icon:HN,title:"",children:D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[D.jsx(Io,{id:"fullName",name:"fullName",label:"-",value:e.fullName,onChange:k,required:!0,placeholder:" "}),D.jsx(Io,{id:"nickname",name:"nickname",label:"",value:e.nickname,onChange:k,required:!0,placeholder:""}),D.jsx(Io,{id:"email",name:"email",label:"",type:"email",value:e.email,onChange:k,required:!0,placeholder:"you@example.com"}),D.jsx(Io,{id:"phoneNumber",name:"phoneNumber",label:"",type:"tel",value:e.phoneNumber,onChange:k,required:!0,placeholder:"08xxxxxxxx"}),D.jsx(Io,{id:"age",name:"age",label:"",type:"number",value:e.age,onChange:k,required:!0,min:"18",placeholder:" 25"}),D.jsx(Io,{id:"educationStatus",name:"educationStatus",label:"",value:e.educationStatus,onChange:k,placeholder:" , "})]})}),D.jsxs(Z1,{icon:BN,title:"",children:[D.jsxs("select",{name:"positionApplied",id:"positionApplied",value:e.positionApplied,onChange:k,required:!0,className:"block w-full pl-3 pr-10 py-2.5 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500 sm:text-sm transition",children:[D.jsx("option",{value:"",disabled:!0,children:"--  --"}),lx.map(J=>D.jsx("option",{value:J.value,children:J.label},J.value))]}),V&&V.value!=="other"&&D.jsxs("div",{className:"p-5 bg-slate-50 border border-slate-200 rounded-lg text-sm transition-all duration-300",children:[D.jsxs("h4",{className:"font-bold text-md text-red-800 mb-4",children:[": ",V.label]}),((ne=V.qualifications)==null?void 0:ne.length)>0&&D.jsxs("div",{className:"mb-4",children:[D.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:""}),D.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-1.5",children:V.qualifications.map((J,Q)=>D.jsx("li",{children:J},`q-${Q}`))})]}),((G=V.benefits)==null?void 0:G.length)>0&&D.jsxs("div",{className:"mb-4",children:[D.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:""}),D.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-1.5",children:V.benefits.map((J,Q)=>D.jsx("li",{children:J},`b-${Q}`))})]}),V.work_schedule&&D.jsxs("div",{children:[D.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:V.work_schedule.title}),D.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-1.5",children:V.work_schedule.shifts.map((J,Q)=>D.jsx("li",{children:J},`s-${Q}`))}),V.work_schedule.note&&D.jsx("p",{className:"mt-3 text-sm font-medium text-red-600",children:V.work_schedule.note})]})]}),e.positionApplied==="other"&&D.jsx(Io,{id:"otherPosition",name:"otherPosition",label:" ",value:e.otherPosition,onChange:k,required:!0,placeholder:"..."}),D.jsx("textarea",{name:"experience",id:"experience",rows:"4",value:e.experience,onChange:k,className:"block w-full px-4 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500 transition",placeholder:"... ()"}),D.jsx(WN,{files:d,onRemove:W,onPreview:q,handleFileChange:B,fileInputRef:N})]}),D.jsxs(Z1,{icon:zN,title:"",children:[D.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-4",children:ux.map(J=>D.jsxs("div",{className:"flex items-center",children:[D.jsx("input",{id:`heard-${J.name}`,name:J.name,type:"checkbox",checked:(n==null?void 0:n[J.name])||!1,onChange:P,className:"h-4 w-4 text-red-600 border-slate-300 rounded focus:ring-red-500"}),D.jsx("label",{htmlFor:`heard-${J.name}`,className:"ml-3 block text-sm font-medium text-slate-700",children:J.label})]},J.name))}),(n==null?void 0:n.other)&&D.jsx("div",{className:"mt-4",children:D.jsx(Io,{id:"heardFromOtherText",name:"heardFromOtherText",label:"",value:l,onChange:J=>c(J.target.value),placeholder:" ..."})}),D.jsx("div",{className:"mt-6 pt-5 border-t border-slate-200",children:D.jsxs("p",{className:"text-center text-xs text-slate-500",children:[D.jsx("strong",{children:":"}),"   (Incognito)",D.jsx("br",{})," 042 328 899  089 553 5468"]})})]}),D.jsxs("div",{className:"pt-10 space-y-6",children:[D.jsx("div",{className:"flex justify-center",children:D.jsx(EE,{ref:R,sitekey:qN,onChange:F,onExpired:()=>F(null)})}),b.message&&D.jsxs("div",{className:`flex items-start justify-center gap-x-3 text-sm ${b.type==="success"?"text-green-700":"text-red-700"}`,children:[b.type==="success"?D.jsx(jN,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}):D.jsx(PN,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),D.jsx("div",{className:"text-left",children:D.jsx("p",{className:"font-medium",children:b.message})})]}),D.jsx("button",{type:"submit",disabled:p||!e.recaptchaToken,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-slate-400 disabled:cursor-not-allowed transition-all duration-300",children:p?"...":""})]})]})]})}),O&&D.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 transition-opacity duration-300",onClick:()=>C(null),children:[D.jsx("img",{src:O,alt:"Preview",className:"max-w-full max-h-full rounded-lg shadow-2xl",onClick:J=>J.stopPropagation()}),D.jsx("button",{className:"absolute top-4 right-4 text-white text-4xl font-bold",onClick:()=>C(null),children:""})]})]})},ZN="/assets/rice-CwND1pYI.png",YN="/assets/nori-CCIABxvK.png",XN="/assets/tuna-B8NeKBLx.png",$N="/assets/salmon-DL_uVK7m.png",KN="/assets/shrimp-wOx0jE92.png",QN="/assets/egg-DP722mNf.png",JN="/assets/tuna_nigiri-BemvcrRS.png",eR="/assets/salmon_nigiri-BHMDLpdA.png",tR="/assets/ebi_nigiri-DoKhsJvL.png",nR="/assets/tamago_nigiri-1opGW54l.png",rR="/assets/salmon_roll-DOrP9XGr.png",iR="/assets/tuna_roll-DSWCvMwD.png",SE="/assets/bg-CR9IAACF.png",aR="/assets/customer1-Cs-2E_j6.png",sR="/assets/customer2-EOZ6Z5_h.png",oR="/assets/customer3-CZFrR8Jq.png",lR="/assets/customer4-BCg3mPLd.png",uR="/assets/1-C6UfpQa-.png",cR="/assets/start_game-D-8RxbsS.png",fR="/assets/leaderboard-CB-4L-xw.png",hR="/assets/how_to_play-C_8w9faV.png",dR="/assets/recipes-DYPlmtYQ.png",cx=[aR,sR,oR,lR,uR],Vp=[{type:"rice",displayName:"",image:ZN,cost:10},{type:"nori",displayName:"",image:YN,cost:15},{type:"tuna",displayName:"",image:XN,cost:30},{type:"salmon",displayName:"",image:$N,cost:30},{type:"shrimp",displayName:"",image:KN,cost:25},{type:"egg",displayName:"",image:QN,cost:20}],Rl={tuna_nigiri:{displayName:" ",ingredients:["rice","tuna"],image:JN},salmon_nigiri:{displayName:" ",ingredients:["rice","salmon"],image:eR},shrimp_nigiri:{displayName:" ",ingredients:["rice","shrimp"],image:tR},egg_nigiri:{displayName:" ",ingredients:["rice","egg"],image:nR},salmon_roll:{displayName:"",ingredients:["rice","nori","salmon"],image:rR},tuna_roll:{displayName:"",ingredients:["rice","nori","tuna"],image:iR}},fx=Object.keys(Rl),hx=60,mR=4,pR=3,gR=50,vR=25,yR=5,zc={LEVEL_1:{SCORE_THRESHOLD:0,SPAWN_RATE:4e3,PATIENCE:10,TIME_BONUS:5,TIME_PENALTY:3,TIME_MULTIPLIER:1},LEVEL_2:{SCORE_THRESHOLD:400,SPAWN_RATE:3300,PATIENCE:9,TIME_BONUS:4,TIME_PENALTY:4,TIME_MULTIPLIER:1.25},LEVEL_3:{SCORE_THRESHOLD:1500,SPAWN_RATE:2400,PATIENCE:8,TIME_BONUS:0,TIME_PENALTY:5,TIME_MULTIPLIER:1.5}},dx=e=>e>=zc.LEVEL_3.SCORE_THRESHOLD?zc.LEVEL_3:e>=zc.LEVEL_2.SCORE_THRESHOLD?zc.LEVEL_2:zc.LEVEL_1,Jm=new Map(Vp.map(e=>[e.type,e])),mx=e=>{var t;return((t=Rl[e])==null?void 0:t.displayName)||e},No=e=>{console.log(`Sound: ${e}`)},_R=e=>{const t=[...e].sort().join(",");return Object.keys(Rl).find(n=>[...Rl[n].ingredients].sort().join(",")===t)},xR=()=>D.jsx("style",{children:`
        @keyframes customer-walk-in-side { 0% { transform: translateX(-150%); opacity: 0; } 100% { transform: translateX(0); opacity: 1; } }
        .animate-customer-in-side { animation: customer-walk-in-side 0.8s ease-out forwards; }
        @keyframes customer-leave-side { 0% { transform: translateX(0); opacity: 1; } 100% { transform: translateX(-150%); opacity: 0; } }
        .animate-customer-out-side { animation: customer-leave-side 0.8s ease-in forwards; }

        @keyframes float-up-and-fade { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-60px); } }
        .animate-float-up { animation: float-up-and-fade 1.5s ease-out forwards; }
        @keyframes ready-to-serve-bounce { 0%, 100% { transform: translateY(0) scale(1); } 50% { transform: translateY(-10px) scale(1.05); } }
        .animate-ready-bounce { animation: ready-to-serve-bounce 1.3s ease-in-out infinite; }
        @keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        
        @keyframes slide-in-top-left { 0% { transform: translateX(-100%) translateY(-100%); opacity: 0; } 100% { transform: translateX(0) translateY(0); opacity: 1; } }
        .animate-slide-in-tl { animation: slide-in-top-left 0.5s ease-out forwards; }
    `});function CE({timeLeft:e,score:t,combo:n,onExit:a}){return("0"+e%60).slice(-2),D.jsxs("div",{className:"absolute top-[2cqw] right-[2cqw] z-50 text-white font-bold flex flex-col items-end gap-[1cqw]",children:[D.jsx("button",{onClick:a,className:"bg-red-700/80 hover:bg-red-600/80 text-white font-semibold py-[0.5cqw] px-[1.5cqw] rounded-lg text-[1.2cqw] shadow-md transition-colors",children:"Exit"}),D.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-sm p-[1cqw] px-[2cqw] rounded-xl shadow-lg border-2 border-slate-900/50 flex items-center gap-[3cqw] text-[2cqw]",children:[D.jsxs("div",{className:`transition-colors ${e>=10?"text-white":"text-red-400"}`,children:[" ",Math.floor(Math.ceil(e)/60),":",("0"+Math.ceil(e)%60).slice(-2)]}),D.jsxs("div",{children:[" ",t]}),n>1&&D.jsxs("div",{className:"text-orange-300 animate-bounce",children:["x",n]})]})]})}function AE({customers:e}){return!e||e.length===0?D.jsx("div",{className:"absolute top-[2cqw] left-[2cqw] z-40 w-[20cqw]",children:D.jsx("div",{className:"relative bg-slate-800/80 backdrop-blur-sm p-[1.5cqw] rounded-xl shadow-lg border-2 border-slate-900/50 text-center",children:D.jsx("p",{className:"text-slate-300 text-[1.2cqw] italic p-4",children:"Waiting for customer..."})})}):D.jsx("div",{className:"absolute top-[2cqw] left-[2cqw] z-40 flex flex-row gap-[1cqw] items-start",children:e.map((t,n)=>D.jsx(TE,{customer:t,isFirst:n===0},t.id))})}function TE({customer:e,isFirst:t}){const n=e.orders[e.currentOrderIndex],a=Rl[n],l=e.imageSrc,c=e.patience,d=e.maxPatience,y=c/d*100;let p="bg-green-500";y<60&&(p="bg-yellow-500"),y<30&&(p="bg-red-500");const g=e.orders.length,b=e.currentOrderIndex+1;return t?D.jsxs("div",{className:"relative animate-slide-in-tl w-[20cqw]",children:[D.jsxs("div",{className:"relative bg-slate-800/80 backdrop-blur-sm p-[1.5cqw] rounded-xl shadow-lg border-2 border-yellow-400 flex items-center gap-[1cqw]",children:[D.jsx("img",{src:l,alt:"Customer",className:"w-[8cqw] h-auto rounded-lg border-2 border-white/50"}),D.jsxs("div",{className:"flex-1",children:[D.jsxs("p",{className:"text-white font-bold text-[1.2cqw] mb-[0.5cqw]",children:[": ",g>1?D.jsxs("span",{className:"text-yellow-300",children:["(",b,"/",g,")"]}):""]}),D.jsx("img",{src:a.image,alt:a.displayName,className:"w-[7cqw] h-auto object-contain drop-shadow-lg bg-white/20 rounded-md p-1"}),D.jsx("p",{className:"text-white font-semibold text-[1cqw] mt-1",children:a.displayName})]})]}),D.jsxs("div",{className:"bg-white/90 p-[1cqw] rounded-b-xl shadow-lg mt-0",children:[D.jsx("p",{className:"font-bold text-slate-700 text-[1.1cqw] mb-[0.5cqw]",children:":"}),D.jsx("div",{className:"flex flex-wrap gap-[0.5cqw]",children:a.ingredients.map(E=>D.jsx("div",{className:"relative bg-gray-200 p-1 rounded-md border border-gray-300",children:D.jsx("img",{src:Jm.get(E).image,alt:Jm.get(E).displayName,className:"w-[3cqw] h-[3cqw]"})},E))})]}),D.jsx("div",{className:"w-full bg-gray-200 rounded-full h-[1.5cqw] mt-[1cqw] border border-gray-300",children:D.jsxs("div",{className:`${p} h-full rounded-full transition-all duration-500 text-center text-white font-bold text-[0.8cqw]`,style:{width:`${y}%`},children:[Math.ceil(c),"s"]})})]}):D.jsxs("div",{className:"relative bg-slate-800/70 backdrop-blur-sm p-[0.75cqw] rounded-xl shadow-lg border-2 border-slate-900/50 flex items-center gap-[1cqw] animate-fade-in w-[10cqw]",children:[D.jsx("img",{src:l,alt:"Customer",className:"w-[4cqw] h-auto rounded-md border border-white/30"}),D.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[D.jsx("img",{src:a.image,alt:a.displayName,className:"w-[5cqw] h-auto object-contain"}),g>1&&D.jsxs("span",{className:"text-yellow-300 font-bold text-center text-[1cqw]",children:["(",b,"/",g,")"]}),D.jsx("div",{className:"w-full bg-gray-900/50 rounded-full h-[0.75cqw] mt-[0.5cqw] border border-white/20",children:D.jsx("div",{className:`${p} h-full rounded-full transition-all duration-500`,style:{width:`${y}%`}})})]})]})}function OE({ingredients:e,preparedSushi:t,onClear:n,onServe:a,hasSushi:l}){return D.jsxs("div",{className:"absolute bottom-[4%] left-[2.5%] w-[25.5%] h-auto z-10 flex flex-col items-center justify-center p-[1cqw]",children:[D.jsx("div",{className:"flex-grow flex items-center justify-center min-h-[12cqw]",children:t?D.jsxs("div",{className:"text-center animate-ready-bounce",children:[D.jsx("img",{src:Rl[t].image,alt:mx(t),className:"h-[8cqw] object-contain drop-shadow-lg"}),D.jsx("span",{className:"text-[1.2cqw] font-bold text-slate-800 bg-white/70 px-[1cqw] rounded-full",children:mx(t)})]}):e.length>0?D.jsx("div",{className:"flex items-center justify-center gap-[1cqw] flex-wrap",children:e.map((c,d)=>{var y;return D.jsx("img",{src:(y=Jm.get(c))==null?void 0:y.image,className:"h-[7cqw] object-contain drop-shadow-lg",alt:""},d)})}):null}),D.jsxs("div",{className:"flex gap-[1cqw] w-full px-[2cqw] mt-[1cqw]",children:[D.jsx("button",{onClick:n,className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg text-[1.5cqw] py-[1cqw] transition-colors shadow-md",children:""}),D.jsx("button",{onClick:a,disabled:!l,className:"flex-grow bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg disabled:bg-gray-400 py-[1cqw] text-[1.5cqw] transition-colors shadow-md",children:""})]})]})}function IE({onSelectIngredient:e,disabled:t}){return D.jsx("div",{className:"absolute bottom-[2cqw] right-[2cqw] z-30 bg-amber-800/90 rounded-xl shadow-2xl border-2 border-amber-900/50 p-[1.5cqw] flex flex-col gap-[2cqw]",children:D.jsx("div",{className:"flex justify-center gap-[2.5cqw]",children:Vp.map(n=>D.jsx("div",{className:"relative flex flex-col items-center",children:D.jsxs("button",{onClick:()=>e(n.type),disabled:t,className:"w-full flex flex-col items-center justify-center bg-amber-100/80 hover:bg-green-200 p-[1cqw] rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 shadow-md",children:[D.jsx("img",{src:n.image,alt:n.displayName,className:"h-[7cqw] object-contain"}),D.jsx("span",{className:"text-[1.2cqw] text-slate-800 font-bold mt-[0.5cqw]",children:n.displayName})]})},n.type))})})}function qp({show:e,onClose:t,title:n,children:a}){return e?D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-fade-in",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[D.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-5 border-b border-gray-200",children:[D.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:n}),D.jsx("button",{onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:D.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:D.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),D.jsx("div",{className:"p-4 sm:p-6 space-y-4 overflow-y-auto",children:a})]})}):null}function NE({show:e,onClose:t,leaderboard:n}){return e?D.jsx(qp,{show:e,onClose:t,title:" Leaderboard ",children:D.jsx("div",{className:"space-y-3",children:n.length>0?D.jsxs("table",{className:"w-full text-left text-base sm:text-lg",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b-2 border-slate-200",children:[D.jsx("th",{className:"p-2",children:"#"}),D.jsx("th",{className:"p-2",children:"Player"}),D.jsx("th",{className:"p-2 text-right",children:"Score"}),D.jsx("th",{className:"p-2 text-right",children:"Date"})]})}),D.jsx("tbody",{children:n.map((a,l)=>D.jsxs("tr",{className:"border-b border-slate-100",children:[D.jsx("td",{className:"p-2 font-bold",children:l+1}),D.jsx("td",{className:"p-2 text-slate-800",children:a.player_name}),D.jsx("td",{className:"p-2 text-right font-bold text-yellow-500",children:a.score}),D.jsx("td",{className:"p-2 text-right text-slate-500 text-sm",children:new Date(a.created_at).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})})]},a.id||l))})]}):D.jsx("p",{className:"text-center text-slate-500 p-4",children:"No scores yet."})})}):null}function RE({show:e,score:t,onSubmit:n,onClose:a}){const[l,c]=K.useState(""),[d,y]=K.useState(!1),p=async g=>{g.preventDefault(),!(!l.trim()||d)&&(y(!0),await n(l.trim()),y(!1),c(""))};return e?D.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-fade-in",children:D.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl w-full max-w-md p-6 md:p-8 text-center text-white border border-yellow-500/50",children:[D.jsx("div",{className:"text-7xl text-yellow-400 mb-4",children:""}),D.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-400 mb-2",children:"Game Over!"}),D.jsxs("p",{className:"text-slate-300 text-lg mb-4",children:["Your Final Score:",D.jsx("strong",{className:"block text-5xl font-bold text-white mt-1",children:t})]}),D.jsxs("form",{onSubmit:p,className:"mt-6",children:[D.jsx("p",{className:"text-slate-400 text-base mb-4",children:"Enter your name to save your score!"}),D.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"Player Name",maxLength:"15",className:"w-full text-center text-xl p-3 bg-slate-700/50 border-2 border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-4",required:!0}),D.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-slate-900 font-bold py-3 px-6 text-lg rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:from-slate-600 disabled:to-slate-700 disabled:text-slate-400 disabled:cursor-not-allowed",children:d?"Submitting...":"Submit Score"})]}),D.jsx("button",{onClick:a,className:"mt-4 text-slate-500 hover:text-slate-400 text-sm transition-colors",children:"Skip"})]})}):null}const ME=({onStartGame:e,leaderboard:t})=>{const[n,a]=K.useState(null),l=()=>D.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-700 text-base sm:text-lg",children:[D.jsxs("li",{children:[D.jsx("strong",{children:":"}),"  ",D.jsx("strong",{className:"text-sky-600",children:""})]}),D.jsxs("li",{children:[D.jsx("strong",{children:":"})," "]}),D.jsxs("li",{children:[D.jsx("strong",{children:":"}),"  ()"]}),D.jsxs("li",{children:[D.jsx("strong",{children:":"}),"  () "]}),D.jsxs("li",{children:[D.jsx("strong",{children:":"}),'   "" ()']}),D.jsxs("li",{children:[D.jsx("strong",{children:":"}),"  ( 1/3) !"]}),D.jsxs("li",{children:[D.jsx("strong",{children:" (Squeeze!):"}),"  +5  () / -3  ()  ",D.jsx("strong",{children:""}),"  !"]}),D.jsxs("li",{children:[D.jsx("strong",{children:":"})," !"]})]}),c=()=>D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.values(Rl).map(d=>D.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-lg border",children:[D.jsx("img",{src:d.image,alt:d.displayName,className:"w-16 h-16 object-contain"}),D.jsxs("div",{children:[D.jsx("p",{className:"font-bold text-slate-800 text-base sm:text-lg",children:d.displayName}),D.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:d.ingredients.map((y,p)=>{const g=Vp.find(b=>b.type===y);return D.jsxs(Ct.Fragment,{children:[D.jsx("div",{title:g.displayName,className:"bg-white p-1 rounded-md border",children:D.jsx("img",{src:g==null?void 0:g.image,alt:g==null?void 0:g.displayName,className:"w-8 h-8"})}),p<d.ingredients.length-1&&D.jsx("span",{className:"text-slate-400",children:"+"})]},y)})})]})]},d.displayName))});return D.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center p-[2cqw] bg-cover bg-center animate-fade-in",style:{backgroundImage:`url(${SE})`},children:[D.jsxs("div",{className:"relative z-10 text-center text-white p-[3cqw] rounded-2xl shadow-xl w-full max-w-[55cqw] mx-auto",children:[D.jsx("h1",{className:"font-bold mb-[3cqw] font-pixel",style:{fontSize:"clamp(32px, 6cqw, 80px)",textShadow:"3px 3px 5px #000"},children:" Sushi Rush "}),D.jsxs("div",{className:"flex flex-col items-center gap-[2cqw]",children:[D.jsx("button",{onClick:e,className:"w-full transition-transform duration-300 hover:scale-105 animate-pulse",children:D.jsx("img",{src:cR,alt:"Start Game"})}),D.jsxs("div",{className:"flex justify-center gap-[1.5cqw] w-full",children:[D.jsx("button",{onClick:()=>a("leaderboard"),className:"flex-1 transition-transform duration-300 hover:scale-105",children:D.jsx("img",{src:fR,alt:"Leaderboard"})}),D.jsx("button",{onClick:()=>a("howToPlay"),className:"flex-1 transition-transform duration-300 hover:scale-105",children:D.jsx("img",{src:hR,alt:"How to Play"})}),D.jsx("button",{onClick:()=>a("recipes"),className:"flex-1 transition-transform duration-300 hover:scale-105",children:D.jsx("img",{src:dR,alt:"Recipes"})})]})]}),D.jsx("div",{className:"mt-[4cqw]",children:D.jsx(jo,{to:"/",className:"text-slate-300 hover:text-white hover:underline transition-colors text-[1.5cqw]",style:{textShadow:"2px 2px 4px #000"},children:"Back to Home"})})]}),D.jsx(NE,{show:n==="leaderboard",onClose:()=>a(null),leaderboard:t}),D.jsxs(qp,{show:n==="howToPlay"||n==="recipes",onClose:()=>a(null),title:n==="howToPlay"?" How to Play":" Recipes",children:[n==="howToPlay"&&D.jsx(l,{}),n==="recipes"&&D.jsx(c,{})]})]})};function wR(){const[e,t]=K.useState("menu"),[n,a]=K.useState(hx),[l,c]=K.useState([]),[d,y]=K.useState([]),[p,g]=K.useState(null),[b,E]=K.useState(0),[O,C]=K.useState(0),[R,N]=K.useState([]),[k,F]=K.useState(!1),[P,B]=K.useState({value:0,key:0}),W=K.useCallback(async()=>{try{const{data:Q,error:H}=await da.from("scores").select("id, player_name, score, created_at").order("score",{ascending:!1}).limit(10);if(H)throw H;N(Q||[])}catch(Q){console.error("Error fetching leaderboard:",Q)}},[]);K.useEffect(()=>{W()},[W]);const q=async Q=>{try{await da.from("scores").insert([{player_name:Q,score:b}])}catch(H){console.error("Error submitting score:",H)}finally{F(!1),Y(!0)}},Y=K.useCallback((Q=!0)=>{a(hx),c([]),y([]),g(null),E(0),C(0),Q&&t("menu"),F(!1),W()},[W]),V=()=>{Y(!1),t("playing")};K.useEffect(()=>{if(e!=="playing")return;const Q=dx(b),H=Q.SPAWN_RATE,ee=Q.PATIENCE,z=Q.TIME_PENALTY,Z=Q.TIME_MULTIPLIER,ye=setInterval(()=>{a(fe=>Math.max(0,fe-Z))},1e3),he=setInterval(()=>{c(fe=>{if(fe.length>=mR)return fe;const se=Math.floor(Math.random()*pR)+1,ue=Array.from({length:se},()=>fx[Math.floor(Math.random()*fx.length)]);return[...fe,{id:Date.now(),orders:ue,currentOrderIndex:0,totalOrders:ue.length,patience:ee,maxPatience:ee,status:"ordering",pointsEarned:0,imageSrc:cx[Math.floor(Math.random()*cx.length)]}]})},H),ge=setInterval(()=>{c(fe=>fe.map(se=>{if(se.status!=="ordering")return se;const ue=se.patience-Z;return ue<=0?(E(pe=>Math.max(0,pe-gR)),B({value:-50,key:Date.now()}),C(0),No("customerLeave"),a(pe=>Math.max(0,pe-z)),null):{...se,patience:ue}}).filter(Boolean))},1e3);return()=>{clearInterval(ye),clearInterval(he),clearInterval(ge)}},[e,b]),K.useEffect(()=>{e==="playing"&&n<=0&&(t("gameOver"),No("gameOver"),b>0?setTimeout(()=>F(!0),1500):setTimeout(()=>Y(!0),3e3))},[e,n,b,Y]);const ne=K.useCallback(Q=>{if(p||d.length>=3)return;const H=[...d,Q];y(H);const ee=_R(H);ee&&(g(ee),No("craftSuccess"))},[d,p]),G=K.useCallback(()=>{y([]),g(null),No("clear")},[]),J=K.useCallback(()=>{if(!p){No("error");return}const Q=l.findIndex(ee=>ee.status==="ordering"&&ee.orders[ee.currentOrderIndex]===p),H=dx(b);if(Q!==-1){const ee=l[Q],Z=100+O*yR,ye=O+1;B({value:Z,key:Date.now()}),C(ye),No("serveSuccess"),a(ge=>ge+H.TIME_BONUS),ee.currentOrderIndex>=ee.orders.length-1?(E(ge=>ge+Z),c(ge=>ge.map((fe,se)=>se===Q?{...fe,status:"leaving",pointsEarned:Z}:fe)),setTimeout(()=>c(ge=>ge.filter(fe=>fe.id!==ee.id)),800)):c(ge=>ge.map((fe,se)=>se===Q?{...fe,currentOrderIndex:fe.currentOrderIndex+1,patience:H.PATIENCE,maxPatience:H.PATIENCE}:fe))}else l.findIndex(z=>z.status==="ordering")!==-1?(E(z=>Math.max(0,z-vR)),B({value:-25,key:Date.now()}),C(0),No("error"),a(z=>Math.max(0,z-H.TIME_PENALTY))):No("error");G()},[p,l,O,G,b]);return D.jsx("div",{className:"py-20 inset-x-0 bottom-0 bg-white p-2 sm:p-4 flex justify-center items-center ",children:D.jsxs("div",{className:"w-full max-w-6xl aspect-[16/9] relative bg-cover bg-center shadow-2xl rounded-lg overflow-hidden [container-type:inline-size]",style:{backgroundImage:`url(${SE})`},children:[D.jsx(xR,{}),e==="menu"?D.jsx(ME,{onStartGame:V,leaderboard:R}):D.jsxs(D.Fragment,{children:[e==="playing"&&D.jsxs(D.Fragment,{children:[D.jsx(CE,{timeLeft:n,score:b,combo:O,onExit:()=>Y(!0)}),D.jsx(AE,{customers:l.filter(Q=>Q.status==="ordering")}),D.jsx(OE,{ingredients:d,preparedSushi:p,onClear:G,onServe:J,hasSushi:!!p}),D.jsx(IE,{onSelectIngredient:ne,disabled:!!p||d.length>=3}),P.value!==0&&D.jsx("div",{className:`absolute top-1/2 left-[15%] text-[5cqw] font-bold animate-float-up ${P.value>0?"text-green-400":"text-red-500"}`,style:{textShadow:"2px 2px 4px #000"},children:P.value>0?`+${P.value}`:P.value},P.key)]}),e==="gameOver"&&D.jsx("div",{className:"absolute inset-0 bg-black/70 flex justify-center items-center",children:D.jsx("h2",{className:"text-[7cqw] font-bold text-white animate-bounce",children:"Time's Up!"})})]}),D.jsx(RE,{show:k,score:b,onSubmit:q,onClose:()=>Y(!0)})]})})}CE.propTypes={timeLeft:cn.number.isRequired,score:cn.number.isRequired,combo:cn.number.isRequired,onExit:cn.func.isRequired};OE.propTypes={ingredients:cn.array.isRequired,preparedSushi:cn.string,onClear:cn.func.isRequired,onServe:cn.func.isRequired,hasSushi:cn.bool.isRequired};IE.propTypes={onSelectIngredient:cn.func.isRequired,disabled:cn.bool.isRequired};ME.propTypes={onStartGame:cn.func.isRequired,leaderboard:cn.array.isRequired};qp.propTypes={show:cn.bool.isRequired,onClose:cn.func.isRequired,title:cn.string.isRequired,children:cn.node.isRequired};NE.propTypes={show:cn.bool.isRequired,onClose:cn.func.isRequired,leaderboard:cn.array.isRequired};RE.propTypes={show:cn.bool.isRequired,score:cn.number.isRequired,onSubmit:cn.func.isRequired,onClose:cn.func.isRequired};AE.propTypes={customers:cn.array.isRequired};TE.propTypes={customer:cn.object.isRequired,isFirst:cn.bool.isRequired};var St;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(St||(St={}));var px=new Map([[St.QR_CODE,"QR_CODE"],[St.AZTEC,"AZTEC"],[St.CODABAR,"CODABAR"],[St.CODE_39,"CODE_39"],[St.CODE_93,"CODE_93"],[St.CODE_128,"CODE_128"],[St.DATA_MATRIX,"DATA_MATRIX"],[St.MAXICODE,"MAXICODE"],[St.ITF,"ITF"],[St.EAN_13,"EAN_13"],[St.EAN_8,"EAN_8"],[St.PDF_417,"PDF_417"],[St.RSS_14,"RSS_14"],[St.RSS_EXPANDED,"RSS_EXPANDED"],[St.UPC_A,"UPC_A"],[St.UPC_E,"UPC_E"],[St.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(gx||(gx={}));function bR(e){return Object.values(St).includes(e)}var Ho;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ho||(Ho={}));var Ga=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ho.SCAN_TYPE_CAMERA,Ho.SCAN_TYPE_FILE],e}(),DE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!px.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,px.get(t))},e}(),vx=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ep;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ep||(ep={}));var LE=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ep.UNKWOWN_ERROR}},e}(),kE=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function xs(e){return typeof e>"u"||e===null}function ER(e,t,n){return e>n?n:e<t?t:e}var Nu=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Un=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),yx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),PE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var a=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),d=Object.keys(t),y=0,p=d;y<p.length;y++){var g=p[y];if(c.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Gc={exports:{}},SR=Gc.exports,_x;function CR(){return _x||(_x=1,function(e,t){(function(n,a){a(t)})(SR,function(n){function a(ie){return ie==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,i){ie.__proto__=i}||function(ie,i){for(var o in i)i.hasOwnProperty(o)&&(ie[o]=i[o])};function c(ie,i){l(ie,i);function o(){this.constructor=ie}ie.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function d(ie,i){var o=Object.setPrototypeOf;o?o(ie,i):ie.__proto__=i}function y(ie,i){i===void 0&&(i=ie.constructor);var o=Error.captureStackTrace;o&&o(ie,i)}var p=function(ie){c(i,ie);function i(o){var f=this.constructor,m=ie.call(this,o)||this;return Object.defineProperty(m,"name",{value:f.name,enumerable:!1}),d(m,f.prototype),y(m),m}return i}(Error);class g extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}g.kind="Exception";class b extends g{}b.kind="ArgumentException";class E extends g{}E.kind="IllegalArgumentException";class O{constructor(i){if(this.binarizer=i,i===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,f,m){const v=this.binarizer.getLuminanceSource().crop(i,o,f,m);return new O(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends g{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class R{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(i,o,f,m,v){for(;v--;)f[m++]=i[o++]}static currentTimeMillis(){return Date.now()}}class k extends g{}k.kind="IndexOutOfBoundsException";class F extends k{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}F.kind="ArrayIndexOutOfBoundsException";class P{static fill(i,o){for(let f=0,m=i.length;f<m;f++)i[f]=o}static fillWithin(i,o,f,m){P.rangeCheck(i.length,o,f);for(let v=o;v<f;v++)i[v]=m}static rangeCheck(i,o,f){if(o>f)throw new E("fromIndex("+o+") > toIndex("+f+")");if(o<0)throw new F(o);if(f>i)throw new F(f)}static asList(...i){return i}static create(i,o,f){return Array.from({length:i}).map(v=>Array.from({length:o}).fill(f))}static createInt32Array(i,o,f){return Array.from({length:i}).map(v=>Int32Array.from({length:o}).fill(f))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let f=0,m=i.length;f<m;f++)if(i[f]!==o[f])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const f of i)o=31*o+f;return o}static fillUint8Array(i,o){for(let f=0;f!==i.length;f++)i[f]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const f=new Uint8Array(o);return f.set(i),f}return i.slice(0,o)}static copyOfRange(i,o,f){const m=f-o,v=new Int32Array(m);return N.arraycopy(i,o,v,0,m),v}static binarySearch(i,o,f){f===void 0&&(f=P.numberComparator);let m=0,v=i.length-1;for(;m<=v;){const w=v+m>>1,S=f(o,i[w]);if(S>0)m=w+1;else if(S<0)v=w-1;else return w}return-m-1}static numberComparator(i,o){return i-o}}class B{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let f=31;return o=i<<16,o!==0&&(f-=16,i=o),o=i<<8,o!==0&&(f-=8,i=o),o=i<<4,o!==0&&(f-=4,i=o),o=i<<2,o!==0&&(f-=2,i=o),f-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=W.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=W.makeArray(i);N.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const f=this.bits;let m=Math.floor(i/32),v=f[m];v&=~((1<<(i&31))-1);const w=f.length;for(;v===0;){if(++m===w)return o;v=f[m]}const S=m*32+B.numberOfTrailingZeros(v);return S>o?o:S}getNextUnset(i){const o=this.size;if(i>=o)return o;const f=this.bits;let m=Math.floor(i/32),v=~f[m];v&=~((1<<(i&31))-1);const w=f.length;for(;v===0;){if(++m===w)return o;v=~f[m]}const S=m*32+B.numberOfTrailingZeros(v);return S>o?o:S}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new E;if(o===i)return;o--;const f=Math.floor(i/32),m=Math.floor(o/32),v=this.bits;for(let w=f;w<=m;w++){const S=w>f?0:i&31,j=(2<<(w<m?31:o&31))-(1<<S);v[w]|=j}}clear(){const i=this.bits.length,o=this.bits;for(let f=0;f<i;f++)o[f]=0}isRange(i,o,f){if(o<i||i<0||o>this.size)throw new E;if(o===i)return!0;o--;const m=Math.floor(i/32),v=Math.floor(o/32),w=this.bits;for(let S=m;S<=v;S++){const I=S>m?0:i&31,$=(2<<(S<v?31:o&31))-(1<<I)&4294967295;if((w[S]&$)!==(f?$:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let f=o;f>0;f--)this.appendBit((i>>f-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let f=0;f<o;f++)this.appendBit(i.get(f))}xor(i){if(this.size!==i.size)throw new E("Sizes don't match");const o=this.bits;for(let f=0,m=o.length;f<m;f++)o[f]^=i.bits[f]}toBytes(i,o,f,m){for(let v=0;v<m;v++){let w=0;for(let S=0;S<8;S++)this.get(i)&&(w|=1<<7-S),i++;o[f+v]=w}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),f=o+1,m=this.bits;for(let v=0;v<f;v++){let w=m[v];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,i[o-v]=w}if(this.size!==f*32){const v=f*32-this.size;let w=i[0]>>>v;for(let S=1;S<f;S++){const I=i[S];w|=I<<32-v,i[S-1]=w,w=I>>>v}i[f-1]=w}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof W))return!1;const o=i;return this.size===o.size&&P.equals(this.bits,o.bits)}hashCode(){return 31*this.size+P.hashCode(this.bits)}toString(){let i="";for(let o=0,f=this.size;o<f;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new W(this.size,this.bits.slice())}}var q;(function(ie){ie[ie.OTHER=0]="OTHER",ie[ie.PURE_BARCODE=1]="PURE_BARCODE",ie[ie.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ie[ie.TRY_HARDER=3]="TRY_HARDER",ie[ie.CHARACTER_SET=4]="CHARACTER_SET",ie[ie.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ie[ie.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ie[ie.ASSUME_GS1=7]="ASSUME_GS1",ie[ie.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ie[ie.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ie[ie.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Y=q;class V extends g{static getFormatInstance(){return new V}}V.kind="FormatException";var ne;(function(ie){ie[ie.Cp437=0]="Cp437",ie[ie.ISO8859_1=1]="ISO8859_1",ie[ie.ISO8859_2=2]="ISO8859_2",ie[ie.ISO8859_3=3]="ISO8859_3",ie[ie.ISO8859_4=4]="ISO8859_4",ie[ie.ISO8859_5=5]="ISO8859_5",ie[ie.ISO8859_6=6]="ISO8859_6",ie[ie.ISO8859_7=7]="ISO8859_7",ie[ie.ISO8859_8=8]="ISO8859_8",ie[ie.ISO8859_9=9]="ISO8859_9",ie[ie.ISO8859_10=10]="ISO8859_10",ie[ie.ISO8859_11=11]="ISO8859_11",ie[ie.ISO8859_13=12]="ISO8859_13",ie[ie.ISO8859_14=13]="ISO8859_14",ie[ie.ISO8859_15=14]="ISO8859_15",ie[ie.ISO8859_16=15]="ISO8859_16",ie[ie.SJIS=16]="SJIS",ie[ie.Cp1250=17]="Cp1250",ie[ie.Cp1251=18]="Cp1251",ie[ie.Cp1252=19]="Cp1252",ie[ie.Cp1256=20]="Cp1256",ie[ie.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ie[ie.UTF8=22]="UTF8",ie[ie.ASCII=23]="ASCII",ie[ie.Big5=24]="Big5",ie[ie.GB18030=25]="GB18030",ie[ie.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class G{constructor(i,o,f,...m){this.valueIdentifier=i,this.name=f,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=m,G.VALUE_IDENTIFIER_TO_ECI.set(i,this),G.NAME_TO_ECI.set(f,this);const v=this.values;for(let w=0,S=v.length;w!==S;w++){const I=v[w];G.VALUES_TO_ECI.set(I,this)}for(const w of m)G.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new V("incorect value");const o=G.VALUES_TO_ECI.get(i);if(o===void 0)throw new V("incorect value");return o}static getCharacterSetECIByName(i){const o=G.NAME_TO_ECI.get(i);if(o===void 0)throw new V("incorect value");return o}equals(i){if(!(i instanceof G))return!1;const o=i;return this.getName()===o.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(ne.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(ne.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(ne.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(ne.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(ne.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(ne.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(ne.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(ne.Big5,28,"Big5"),G.GB18030=new G(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(ne.EUC_KR,30,"EUC_KR","EUC-KR");class J extends g{}J.kind="UnsupportedOperationException";class Q{static decode(i,o){const f=this.encodingName(o);return this.customDecoder?this.customDecoder(i,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(i,f):new TextDecoder(f).decode(i)}static shouldDecodeOnFallback(i){return!Q.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const f=this.encodingName(o);return this.customEncoder?this.customEncoder(i,f):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof G?i:G.getCharacterSetECIByName(i)}static decodeFallback(i,o){const f=this.encodingCharacterSet(o);if(Q.isDecodeFallbackSupported(f)){let m="";for(let v=0,w=i.length;v<w;v++){let S=i[v].toString(16);S.length<2&&(S="0"+S),m+="%"+S}return decodeURIComponent(m)}if(f.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new J(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(G.UTF8)||i.equals(G.ISO8859_1)||i.equals(G.ASCII)}static encodeFallback(i){const f=btoa(unescape(encodeURIComponent(i))).split(""),m=[];for(let v=0;v<f.length;v++)m.push(f[v].charCodeAt(0));return new Uint8Array(m)}}class H{static castAsNonUtf8Char(i,o=null){const f=o?o.getName():this.ISO88591;return Q.decode(new Uint8Array([i]),f)}static guessEncoding(i,o){if(o!=null&&o.get(Y.CHARACTER_SET)!==void 0)return o.get(Y.CHARACTER_SET).toString();const f=i.length;let m=!0,v=!0,w=!0,S=0,I=0,j=0,$=0,ae=0,le=0,ve=0,be=0,Ce=0,Pe=0,Fe=0;const st=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ot=0;ot<f&&(m||v||w);ot++){const it=i[ot]&255;w&&(S>0?(it&128)===0?w=!1:S--:(it&128)!==0&&((it&64)===0?w=!1:(S++,(it&32)===0?I++:(S++,(it&16)===0?j++:(S++,(it&8)===0?$++:w=!1))))),m&&(it>127&&it<160?m=!1:it>159&&(it<192||it===215||it===247)&&Fe++),v&&(ae>0?it<64||it===127||it>252?v=!1:ae--:it===128||it===160||it>239?v=!1:it>160&&it<224?(le++,be=0,ve++,ve>Ce&&(Ce=ve)):it>127?(ae++,ve=0,be++,be>Pe&&(Pe=be)):(ve=0,be=0))}return w&&S>0&&(w=!1),v&&ae>0&&(v=!1),w&&(st||I+j+$>0)?H.UTF8:v&&(H.ASSUME_SHIFT_JIS||Ce>=3||Pe>=3)?H.SHIFT_JIS:m&&v?Ce===2&&le===2||Fe*10>=f?H.SHIFT_JIS:H.ISO88591:m?H.ISO88591:v?H.SHIFT_JIS:w?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let f=-1;function m(w,S,I,j,$,ae){if(w==="%%")return"%";if(o[++f]===void 0)return;w=j?parseInt(j.substr(1)):void 0;let le=$?parseInt($.substr(1)):void 0,ve;switch(ae){case"s":ve=o[f];break;case"c":ve=o[f][0];break;case"f":ve=parseFloat(o[f]).toFixed(w);break;case"p":ve=parseFloat(o[f]).toPrecision(w);break;case"e":ve=parseFloat(o[f]).toExponential(w);break;case"x":ve=parseInt(o[f]).toString(le||16);break;case"d":ve=parseFloat(parseInt(o[f],le||10).toPrecision(w)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(le);let be=parseInt(I),Ce=I&&I[0]+""=="0"?"0":" ";for(;ve.length<be;)ve=S!==void 0?ve+Ce:Ce+ve;return ve}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(v,m)}static getBytes(i,o){return Q.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}H.SHIFT_JIS=G.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=G.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=G.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class ee{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=H.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,f){for(let m=o;o<o+f;m++)this.append(i[m]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class z{constructor(i,o,f,m){if(this.width=i,this.height=o,this.rowSize=f,this.bits=m,o==null&&(o=i),this.height=o,i<1||o<1)throw new E("Both dimensions must be greater than 0");f==null&&(f=Math.floor((i+31)/32)),this.rowSize=f,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,f=i[0].length,m=new z(f,o);for(let v=0;v<o;v++){const w=i[v];for(let S=0;S<f;S++)w[S]&&m.set(S,v)}return m}static parseFromString(i,o,f){if(i===null)throw new E("stringRepresentation cannot be null");const m=new Array(i.length);let v=0,w=0,S=-1,I=0,j=0;for(;j<i.length;)if(i.charAt(j)===`
`||i.charAt(j)==="\r"){if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new E("row lengths do not match");w=v,I++}j++}else if(i.substring(j,j+o.length)===o)j+=o.length,m[v]=!0,v++;else if(i.substring(j,j+f.length)===f)j+=f.length,m[v]=!1,v++;else throw new E("illegal character encountered: "+i.substring(j));if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new E("row lengths do not match");I++}const $=new z(S,I);for(let ae=0;ae<v;ae++)m[ae]&&$.set(Math.floor(ae%S),Math.floor(ae/S));return $}get(i,o){const f=o*this.rowSize+Math.floor(i/32);return(this.bits[f]>>>(i&31)&1)!==0}set(i,o){const f=o*this.rowSize+Math.floor(i/32);this.bits[f]|=1<<(i&31)&4294967295}unset(i,o){const f=o*this.rowSize+Math.floor(i/32);this.bits[f]&=~(1<<(i&31)&4294967295)}flip(i,o){const f=o*this.rowSize+Math.floor(i/32);this.bits[f]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new E("input matrix dimensions do not match");const o=new W(Math.floor(this.width/32)+1),f=this.rowSize,m=this.bits;for(let v=0,w=this.height;v<w;v++){const S=v*f,I=i.getRow(v,o).getBitArray();for(let j=0;j<f;j++)m[S+j]^=I[j]}}clear(){const i=this.bits,o=i.length;for(let f=0;f<o;f++)i[f]=0}setRegion(i,o,f,m){if(o<0||i<0)throw new E("Left and top must be nonnegative");if(m<1||f<1)throw new E("Height and width must be at least 1");const v=i+f,w=o+m;if(w>this.height||v>this.width)throw new E("The region must fit inside the matrix");const S=this.rowSize,I=this.bits;for(let j=o;j<w;j++){const $=j*S;for(let ae=i;ae<v;ae++)I[$+Math.floor(ae/32)]|=1<<(ae&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new W(this.width):o.clear();const f=this.rowSize,m=this.bits,v=i*f;for(let w=0;w<f;w++)o.setBulk(w*32,m[v+w]);return o}setRow(i,o){N.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let f=new W(i),m=new W(i);for(let v=0,w=Math.floor((o+1)/2);v<w;v++)f=this.getRow(v,f),m=this.getRow(o-1-v,m),f.reverse(),m.reverse(),this.setRow(v,m),this.setRow(o-1-v,f)}getEnclosingRectangle(){const i=this.width,o=this.height,f=this.rowSize,m=this.bits;let v=i,w=o,S=-1,I=-1;for(let j=0;j<o;j++)for(let $=0;$<f;$++){const ae=m[j*f+$];if(ae!==0){if(j<w&&(w=j),j>I&&(I=j),$*32<v){let le=0;for(;(ae<<31-le&4294967295)===0;)le++;$*32+le<v&&(v=$*32+le)}if($*32+31>S){let le=31;for(;!(ae>>>le);)le--;$*32+le>S&&(S=$*32+le)}}}return S<v||I<w?null:Int32Array.from([v,w,S-v+1,I-w+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let f=0;for(;f<o.length&&o[f]===0;)f++;if(f===o.length)return null;const m=f/i;let v=f%i*32;const w=o[f];let S=0;for(;(w<<31-S&4294967295)===0;)S++;return v+=S,Int32Array.from([v,m])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let f=o.length-1;for(;f>=0&&o[f]===0;)f--;if(f<0)return null;const m=Math.floor(f/i);let v=Math.floor(f%i)*32;const w=o[f];let S=31;for(;!(w>>>S);)S--;return v+=S,Int32Array.from([v,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof z))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&P.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+P.hashCode(this.bits),i}toString(i="X ",o="  ",f=`
`){return this.buildToString(i,o,f)}buildToString(i,o,f){let m=new ee;for(let v=0,w=this.height;v<w;v++){for(let S=0,I=this.width;S<I;S++)m.append(this.get(S,v)?i:o);m.append(f)}return m.toString()}clone(){return new z(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends g{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class ye extends R{constructor(i){super(i),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(i,o){const f=this.getLuminanceSource(),m=f.getWidth();o==null||o.getSize()<m?o=new W(m):o.clear(),this.initArrays(m);const v=f.getRow(i,this.luminances),w=this.buckets;for(let I=0;I<m;I++)w[(v[I]&255)>>ye.LUMINANCE_SHIFT]++;const S=ye.estimateBlackPoint(w);if(m<3)for(let I=0;I<m;I++)(v[I]&255)<S&&o.set(I);else{let I=v[0]&255,j=v[1]&255;for(let $=1;$<m-1;$++){const ae=v[$+1]&255;(j*4-I-ae)/2<S&&o.set($),I=j,j=ae}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),f=i.getHeight(),m=new z(o,f);this.initArrays(o);const v=this.buckets;for(let I=1;I<5;I++){const j=Math.floor(f*I/5),$=i.getRow(j,this.luminances),ae=Math.floor(o*4/5);for(let le=Math.floor(o/5);le<ae;le++){const ve=$[le]&255;v[ve>>ye.LUMINANCE_SHIFT]++}}const w=ye.estimateBlackPoint(v),S=i.getMatrix();for(let I=0;I<f;I++){const j=I*o;for(let $=0;$<o;$++)(S[j+$]&255)<w&&m.set($,I)}return m}createBinarizer(i){return new ye(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let f=0;f<ye.LUMINANCE_BUCKETS;f++)o[f]=0}static estimateBlackPoint(i){const o=i.length;let f=0,m=0,v=0;for(let $=0;$<o;$++)i[$]>v&&(m=$,v=i[$]),i[$]>f&&(f=i[$]);let w=0,S=0;for(let $=0;$<o;$++){const ae=$-m,le=i[$]*ae*ae;le>S&&(w=$,S=le)}if(m>w){const $=m;m=w,w=$}if(w-m<=o/16)throw new Z;let I=w-1,j=-1;for(let $=w-1;$>m;$--){const ae=$-m,le=ae*ae*(w-$)*(f-i[$]);le>j&&(I=$,j=le)}return I<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class he extends ye{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),f=i.getHeight();if(o>=he.MINIMUM_DIMENSION&&f>=he.MINIMUM_DIMENSION){const m=i.getMatrix();let v=o>>he.BLOCK_SIZE_POWER;(o&he.BLOCK_SIZE_MASK)!==0&&v++;let w=f>>he.BLOCK_SIZE_POWER;(f&he.BLOCK_SIZE_MASK)!==0&&w++;const S=he.calculateBlackPoints(m,v,w,o,f),I=new z(o,f);he.calculateThresholdForBlock(m,v,w,o,f,S,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new he(i)}static calculateThresholdForBlock(i,o,f,m,v,w,S){const I=v-he.BLOCK_SIZE,j=m-he.BLOCK_SIZE;for(let $=0;$<f;$++){let ae=$<<he.BLOCK_SIZE_POWER;ae>I&&(ae=I);const le=he.cap($,2,f-3);for(let ve=0;ve<o;ve++){let be=ve<<he.BLOCK_SIZE_POWER;be>j&&(be=j);const Ce=he.cap(ve,2,o-3);let Pe=0;for(let st=-2;st<=2;st++){const ot=w[le+st];Pe+=ot[Ce-2]+ot[Ce-1]+ot[Ce]+ot[Ce+1]+ot[Ce+2]}const Fe=Pe/25;he.thresholdBlock(i,be,ae,Fe,m,S)}}}static cap(i,o,f){return i<o?o:i>f?f:i}static thresholdBlock(i,o,f,m,v,w){for(let S=0,I=f*v+o;S<he.BLOCK_SIZE;S++,I+=v)for(let j=0;j<he.BLOCK_SIZE;j++)(i[I+j]&255)<=m&&w.set(o+j,f+S)}static calculateBlackPoints(i,o,f,m,v){const w=v-he.BLOCK_SIZE,S=m-he.BLOCK_SIZE,I=new Array(f);for(let j=0;j<f;j++){I[j]=new Int32Array(o);let $=j<<he.BLOCK_SIZE_POWER;$>w&&($=w);for(let ae=0;ae<o;ae++){let le=ae<<he.BLOCK_SIZE_POWER;le>S&&(le=S);let ve=0,be=255,Ce=0;for(let Fe=0,st=$*m+le;Fe<he.BLOCK_SIZE;Fe++,st+=m){for(let ot=0;ot<he.BLOCK_SIZE;ot++){const it=i[st+ot]&255;ve+=it,it<be&&(be=it),it>Ce&&(Ce=it)}if(Ce-be>he.MIN_DYNAMIC_RANGE)for(Fe++,st+=m;Fe<he.BLOCK_SIZE;Fe++,st+=m)for(let ot=0;ot<he.BLOCK_SIZE;ot++)ve+=i[st+ot]&255}let Pe=ve>>he.BLOCK_SIZE_POWER*2;if(Ce-be<=he.MIN_DYNAMIC_RANGE&&(Pe=be/2,j>0&&ae>0)){const Fe=(I[j-1][ae]+2*I[j][ae-1]+I[j-1][ae-1])/4;be<Fe&&(Pe=Fe)}I[j][ae]=Pe}}return I}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class ge{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,f,m){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ee;for(let f=0;f<this.height;f++){const m=this.getRow(f,i);for(let v=0;v<this.width;v++){const w=m[v]&255;let S;w<64?S="#":w<128?S="+":w<192?S=".":S=" ",o.append(S)}o.append(`
`)}return o.toString()}}class fe extends ge{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const f=this.delegate.getRow(i,o),m=this.getWidth();for(let v=0;v<m;v++)f[v]=255-(f[v]&255);return f}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(o);for(let m=0;m<o;m++)f[m]=255-(i[m]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,f,m){return new fe(this.delegate.crop(i,o,f,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class se extends ge{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return se.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,f){const m=new Uint8ClampedArray(o*f);for(let v=0,w=0,S=i.length;v<S;v+=4,w++){let I;if(i[v+3]===0)I=255;else{const $=i[v],ae=i[v+1],le=i[v+2];I=306*$+601*ae+117*le+512>>10}m[w]=I}return m}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const f=this.getWidth(),m=i*f;return o===null?o=this.buffer.slice(m,m+f):(o.length<f&&(o=new Uint8ClampedArray(f)),o.set(this.buffer.slice(m,m+f))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,f,m){return super.crop(i,o,f,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),f=o.getContext("2d"),m=i*se.DEGREE_TO_RADIANS,v=this.canvas.width,w=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(m))*v+Math.abs(Math.sin(m))*w),I=Math.ceil(Math.abs(Math.sin(m))*v+Math.abs(Math.cos(m))*w);return o.width=S,o.height=I,f.translate(S/2,I/2),f.rotate(m),f.drawImage(this.canvas,v/-2,w/-2),this.buffer=se.makeBufferFromCanvasImageData(o),this}invert(){return new fe(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(i,o,f){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var pe=(globalThis||Mi||self||window||void 0)&&(globalThis||Mi||self||window||void 0).__awaiter||function(ie,i,o,f){function m(v){return v instanceof o?v:new o(function(w){w(v)})}return new(o||(o=Promise))(function(v,w){function S($){try{j(f.next($))}catch(ae){w(ae)}}function I($){try{j(f.throw($))}catch(ae){w(ae)}}function j($){$.done?v($.value):m($.value).then(S,I)}j((f=f.apply(ie,i||[])).next())})};class Ie{constructor(i,o=500,f){this.reader=i,this.timeBetweenScansMillis=o,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const f of i){const m=f.kind==="video"?"videoinput":f.kind;if(m!=="videoinput")continue;const v=f.deviceId||f.id,w=f.label||`Video device ${o.length+1}`,S=f.groupId,I={deviceId:v,label:w,kind:m,groupId:S};o.push(I)}return o})}getVideoInputDevices(){return pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ue(o.deviceId,o.label))})}findDeviceById(i){return pe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(f=>f.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return pe(this,void 0,void 0,function*(){this.reset();let f;i?f={deviceId:{exact:i}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeOnceFromConstraints(m,o)})}decodeOnceFromConstraints(i,o){return pe(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(f,o)})}decodeOnceFromStream(i,o){return pe(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(i,o,f){return pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,f)})}decodeFromVideoDevice(i,o,f){return pe(this,void 0,void 0,function*(){let m;i?m={deviceId:{exact:i}}:m={facingMode:"environment"};const v={video:m};return yield this.decodeFromConstraints(v,o,f)})}decodeFromConstraints(i,o,f){return pe(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(m,o,f)})}decodeFromStream(i,o,f){return pe(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(m,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return pe(this,void 0,void 0,function*(){const f=this.prepareVideoElement(o);return this.addVideoSource(f,i),this.videoElement=f,this.stream=i,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(i){return new Promise((o,f)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const f=document.getElementById(i);if(!f)throw new b(`element with id '${i}' not found`);if(f.nodeName.toLowerCase()!==o.toLowerCase())throw new b(`element with id '${i}' must be an ${o} element`);return f}decodeFromImage(i,o){if(!i&&!o)throw new b("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new b("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,f){if(i===void 0&&o===void 0)throw new b("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,f):this.decodeFromVideoElementContinuously(i,f)}decodeFromImageElement(i){if(!i)throw new b("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let f;return this.isImageLoaded(o)?f=this.decodeOnce(o,!1,!0):f=this._decodeOnLoadImage(o),f}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const f=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(f,o)}_decodeFromVideoElementSetup(i){if(!i)throw new b("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const f=this._decodeOnLoadImage(o);return o.src=i,f}decodeFromVideoUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),f=this.decodeFromVideoElement(o);return o.src=i,f}decodeFromVideoUrlContinuously(i,o){if(!i)throw new b("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(f,o);return f.src=i,m}_decodeOnLoadImage(i){return new Promise((o,f)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,f),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,f=!0){this._stopAsyncDecode=!1;const m=(v,w)=>{if(this._stopAsyncDecode){w(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(i);v(S)}catch(S){const I=o&&S instanceof Z,$=(S instanceof C||S instanceof V)&&f;if(I||$)return setTimeout(m,this._timeBetweenDecodingAttempts,v,w);w(S)}};return new Promise((v,w)=>m(v,w))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(i);o(m,null),setTimeout(f,this.timeBetweenScansMillis)}catch(m){o(null,m);const v=m instanceof C||m instanceof V,w=m instanceof Z;(v||w)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,f){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,f=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),f=new se(o),m=new he(f);return new O(m)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let f,m;return typeof i<"u"&&(i instanceof HTMLVideoElement?(f=i.videoWidth,m=i.videoHeight):i instanceof HTMLImageElement&&(f=i.naturalWidth||i.width,m=i.naturalHeight||i.height)),o.style.width=f+"px",o.style.height=m+"px",o.width=f,o.height=m,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(i,o,f=o==null?0:8*o.length,m,v,w=N.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=f,this.resultPoints=m,this.format=v,this.timestamp=w,this.text=i,this.rawBytes=o,f==null?this.numBits=o==null?0:8*o.length:this.numBits=f,this.resultPoints=m,this.format=v,this.resultMetadata=null,w==null?this.timestamp=N.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const f=new Array(o.length+i.length);N.arraycopy(o,0,f,0,o.length),N.arraycopy(i,0,f,o.length,i.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Re;(function(ie){ie[ie.AZTEC=0]="AZTEC",ie[ie.CODABAR=1]="CODABAR",ie[ie.CODE_39=2]="CODE_39",ie[ie.CODE_93=3]="CODE_93",ie[ie.CODE_128=4]="CODE_128",ie[ie.DATA_MATRIX=5]="DATA_MATRIX",ie[ie.EAN_8=6]="EAN_8",ie[ie.EAN_13=7]="EAN_13",ie[ie.ITF=8]="ITF",ie[ie.MAXICODE=9]="MAXICODE",ie[ie.PDF_417=10]="PDF_417",ie[ie.QR_CODE=11]="QR_CODE",ie[ie.RSS_14=12]="RSS_14",ie[ie.RSS_EXPANDED=13]="RSS_EXPANDED",ie[ie.UPC_A=14]="UPC_A",ie[ie.UPC_E=15]="UPC_E",ie[ie.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Re||(Re={}));var Le=Re,gt;(function(ie){ie[ie.OTHER=0]="OTHER",ie[ie.ORIENTATION=1]="ORIENTATION",ie[ie.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ie[ie.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ie[ie.ISSUE_NUMBER=4]="ISSUE_NUMBER",ie[ie.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ie[ie.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ie[ie.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ie[ie.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ie[ie.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ie[ie.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gt||(gt={}));var Ze=gt;class ft{constructor(i,o,f,m,v=-1,w=-1){this.rawBytes=i,this.text=o,this.byteSegments=f,this.ecLevel=m,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=w,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class wt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Mt{constructor(i,o){if(o.length===0)throw new E;this.field=i;const f=o.length;if(f>1&&o[0]===0){let m=1;for(;m<f&&o[m]===0;)m++;m===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-m),N.arraycopy(o,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let f;if(i===1){f=0;for(let w=0,S=o.length;w!==S;w++){const I=o[w];f=wt.addOrSubtract(f,I)}return f}f=o[0];const m=o.length,v=this.field;for(let w=1;w<m;w++)f=wt.addOrSubtract(v.multiply(i,f),o[w]);return f}addOrSubtract(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,f=i.coefficients;if(o.length>f.length){const w=o;o=f,f=w}let m=new Int32Array(f.length);const v=f.length-o.length;N.arraycopy(f,0,m,0,v);for(let w=v;w<f.length;w++)m[w]=wt.addOrSubtract(o[w-v],f[w]);return new Mt(this.field,m)}multiply(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,f=o.length,m=i.coefficients,v=m.length,w=new Int32Array(f+v-1),S=this.field;for(let I=0;I<f;I++){const j=o[I];for(let $=0;$<v;$++)w[I+$]=wt.addOrSubtract(w[I+$],S.multiply(j,m[$]))}return new Mt(S,w)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,f=this.field,m=new Int32Array(o),v=this.coefficients;for(let w=0;w<o;w++)m[w]=f.multiply(v[w],i);return new Mt(f,m)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return this.field.getZero();const f=this.coefficients,m=f.length,v=new Int32Array(m+i),w=this.field;for(let S=0;S<m;S++)v[S]=w.multiply(f[S],o);return new Mt(w,v)}divide(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new E("Divide by 0");const o=this.field;let f=o.getZero(),m=this;const v=i.getCoefficient(i.getDegree()),w=o.inverse(v);for(;m.getDegree()>=i.getDegree()&&!m.isZero();){const S=m.getDegree()-i.getDegree(),I=o.multiply(m.getCoefficient(m.getDegree()),w),j=i.multiplyByMonomial(S,I),$=o.buildMonomial(S,I);f=f.addOrSubtract($),m=m.addOrSubtract(j)}return[f,m]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let f=this.getCoefficient(o);if(f!==0){if(f<0?(i+=" - ",f=-f):i.length>0&&(i+=" + "),o===0||f!==1){const m=this.field.log(f);m===0?i+="1":m===1?i+="a":(i+="a^",i+=m)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Yt extends g{}Yt.kind="ArithmeticException";class Tt extends wt{constructor(i,o,f){super(),this.primitive=i,this.size=o,this.generatorBase=f;const m=new Int32Array(o);let v=1;for(let S=0;S<o;S++)m[S]=v,v*=2,v>=o&&(v^=i,v&=o-1);this.expTable=m;const w=new Int32Array(o);for(let S=0;S<o-1;S++)w[m[S]]=S;this.logTable=w,this.zero=new Mt(this,Int32Array.from([0])),this.one=new Mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;const f=new Int32Array(i+1);return f[0]=o,new Mt(this,f)}inverse(i){if(i===0)throw new Yt;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Tt.AZTEC_DATA_12=new Tt(4201,4096,1),Tt.AZTEC_DATA_10=new Tt(1033,1024,1),Tt.AZTEC_DATA_6=new Tt(67,64,1),Tt.AZTEC_PARAM=new Tt(19,16,1),Tt.QR_CODE_FIELD_256=new Tt(285,256,0),Tt.DATA_MATRIX_FIELD_256=new Tt(301,256,1),Tt.AZTEC_DATA_8=Tt.DATA_MATRIX_FIELD_256,Tt.MAXICODE_FIELD_64=Tt.AZTEC_DATA_6;class re extends g{}re.kind="ReedSolomonException";class Ye extends g{}Ye.kind="IllegalStateException";class Ue{constructor(i){this.field=i}decode(i,o){const f=this.field,m=new Mt(f,i),v=new Int32Array(o);let w=!0;for(let ve=0;ve<o;ve++){const be=m.evaluateAt(f.exp(ve+f.getGeneratorBase()));v[v.length-1-ve]=be,be!==0&&(w=!1)}if(w)return;const S=new Mt(f,v),I=this.runEuclideanAlgorithm(f.buildMonomial(o,1),S,o),j=I[0],$=I[1],ae=this.findErrorLocations(j),le=this.findErrorMagnitudes($,ae);for(let ve=0;ve<ae.length;ve++){const be=i.length-1-f.log(ae[ve]);if(be<0)throw new re("Bad error location");i[be]=Tt.addOrSubtract(i[be],le[ve])}}runEuclideanAlgorithm(i,o,f){if(i.getDegree()<o.getDegree()){const ve=i;i=o,o=ve}const m=this.field;let v=i,w=o,S=m.getZero(),I=m.getOne();for(;w.getDegree()>=(f/2|0);){let ve=v,be=S;if(v=w,S=I,v.isZero())throw new re("r_{i-1} was zero");w=ve;let Ce=m.getZero();const Pe=v.getCoefficient(v.getDegree()),Fe=m.inverse(Pe);for(;w.getDegree()>=v.getDegree()&&!w.isZero();){const st=w.getDegree()-v.getDegree(),ot=m.multiply(w.getCoefficient(w.getDegree()),Fe);Ce=Ce.addOrSubtract(m.buildMonomial(st,ot)),w=w.addOrSubtract(v.multiplyByMonomial(st,ot))}if(I=Ce.multiply(S).addOrSubtract(be),w.getDegree()>=v.getDegree())throw new Ye("Division algorithm failed to reduce polynomial?")}const j=I.getCoefficient(0);if(j===0)throw new re("sigmaTilde(0) was zero");const $=m.inverse(j),ae=I.multiplyScalar($),le=w.multiplyScalar($);return[ae,le]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const f=new Int32Array(o);let m=0;const v=this.field;for(let w=1;w<v.getSize()&&m<o;w++)i.evaluateAt(w)===0&&(f[m]=v.inverse(w),m++);if(m!==o)throw new re("Error locator degree does not match number of roots");return f}findErrorMagnitudes(i,o){const f=o.length,m=new Int32Array(f),v=this.field;for(let w=0;w<f;w++){const S=v.inverse(o[w]);let I=1;for(let j=0;j<f;j++)if(w!==j){const $=v.multiply(o[j],S),ae=($&1)===0?$|1:$&-2;I=v.multiply(I,ae)}m[w]=v.multiply(i.evaluateAt(S),v.inverse(I)),v.getGeneratorBase()!==0&&(m[w]=v.multiply(m[w],S))}return m}}var _e;(function(ie){ie[ie.UPPER=0]="UPPER",ie[ie.LOWER=1]="LOWER",ie[ie.MIXED=2]="MIXED",ie[ie.DIGIT=3]="DIGIT",ie[ie.PUNCT=4]="PUNCT",ie[ie.BINARY=5]="BINARY"})(_e||(_e={}));class de{decode(i){this.ddata=i;let o=i.getBits(),f=this.extractBits(o),m=this.correctBits(f),v=de.convertBoolArrayToByteArray(m),w=de.getEncodedData(m),S=new ft(v,w,null,null);return S.setNumBits(m.length),S}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,f=_e.UPPER,m=_e.UPPER,v="",w=0;for(;w<o;)if(m===_e.BINARY){if(o-w<5)break;let S=de.readCode(i,w,5);if(w+=5,S===0){if(o-w<11)break;S=de.readCode(i,w,11)+31,w+=11}for(let I=0;I<S;I++){if(o-w<8){w=o;break}const j=de.readCode(i,w,8);v+=H.castAsNonUtf8Char(j),w+=8}m=f}else{let S=m===_e.DIGIT?4:5;if(o-w<S)break;let I=de.readCode(i,w,S);w+=S;let j=de.getCharacter(m,I);j.startsWith("CTRL_")?(f=m,m=de.getTable(j.charAt(5)),j.charAt(6)==="L"&&(f=m)):(v+=j,m=f)}return v}static getTable(i){switch(i){case"L":return _e.LOWER;case"P":return _e.PUNCT;case"M":return _e.MIXED;case"D":return _e.DIGIT;case"B":return _e.BINARY;case"U":default:return _e.UPPER}}static getCharacter(i,o){switch(i){case _e.UPPER:return de.UPPER_TABLE[o];case _e.LOWER:return de.LOWER_TABLE[o];case _e.MIXED:return de.MIXED_TABLE[o];case _e.PUNCT:return de.PUNCT_TABLE[o];case _e.DIGIT:return de.DIGIT_TABLE[o];default:throw new Ye("Bad table")}}correctBits(i){let o,f;this.ddata.getNbLayers()<=2?(f=6,o=Tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,o=Tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,o=Tt.AZTEC_DATA_10):(f=12,o=Tt.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),v=i.length/f;if(v<m)throw new V;let w=i.length%f,S=new Int32Array(v);for(let le=0;le<v;le++,w+=f)S[le]=de.readCode(i,w,f);try{new Ue(o).decode(S,v-m)}catch(le){throw new V(le)}let I=(1<<f)-1,j=0;for(let le=0;le<m;le++){let ve=S[le];if(ve===0||ve===I)throw new V;(ve===1||ve===I-1)&&j++}let $=new Array(m*f-j),ae=0;for(let le=0;le<m;le++){let ve=S[le];if(ve===1||ve===I-1)$.fill(ve>1,ae,ae+f-1),ae+=f-1;else for(let be=f-1;be>=0;--be)$[ae++]=(ve&1<<be)!==0}return $}extractBits(i){let o=this.ddata.isCompact(),f=this.ddata.getNbLayers(),m=(o?11:14)+f*4,v=new Int32Array(m),w=new Array(this.totalBitsInLayer(f,o));if(o)for(let S=0;S<v.length;S++)v[S]=S;else{let S=m+1+2*B.truncDivision(B.truncDivision(m,2)-1,15),I=m/2,j=B.truncDivision(S,2);for(let $=0;$<I;$++){let ae=$+B.truncDivision($,15);v[I-$-1]=j-ae-1,v[I+$]=j+ae+1}}for(let S=0,I=0;S<f;S++){let j=(f-S)*4+(o?9:12),$=S*2,ae=m-1-$;for(let le=0;le<j;le++){let ve=le*2;for(let be=0;be<2;be++)w[I+ve+be]=i.get(v[$+be],v[$+le]),w[I+2*j+ve+be]=i.get(v[$+le],v[ae-be]),w[I+4*j+ve+be]=i.get(v[ae-be],v[ae-le]),w[I+6*j+ve+be]=i.get(v[ae-le],v[$+be])}I+=j*8}return w}static readCode(i,o,f){let m=0;for(let v=o;v<o+f;v++)m<<=1,i[v]&&(m|=1);return m}static readByte(i,o){let f=i.length-o;return f>=8?de.readCode(i,o,8):de.readCode(i,o,f)<<8-f}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let f=0;f<o.length;f++)o[f]=de.readByte(i,8*f);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}de.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],de.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],de.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],de.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],de.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ee{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,f,m){const v=i-f,w=o-m;return Math.sqrt(v*v+w*w)}static sum(i){let o=0;for(let f=0,m=i.length;f!==m;f++){const v=i[f];o+=v}return o}}class Je{static floatToIntBits(i){return i}}Je.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ke){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Je.floatToIntBits(this.x)+Je.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),f=this.distance(i[1],i[2]),m=this.distance(i[0],i[2]);let v,w,S;if(f>=o&&f>=m?(w=i[0],v=i[1],S=i[2]):m>=f&&m>=o?(w=i[1],v=i[0],S=i[2]):(w=i[2],v=i[0],S=i[1]),this.crossProductZ(v,w,S)<0){const I=v;v=S,S=I}i[0]=v,i[1]=w,i[2]=S}static distance(i,o){return Ee.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,f){const m=o.x,v=o.y;return(f.x-m)*(i.y-v)-(f.y-v)*(i.x-m)}}class je{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ct extends je{constructor(i,o,f,m,v){super(i,o),this.compact=f,this.nbDatablocks=m,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class lt{constructor(i,o,f,m){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=lt.INIT_SIZE),f==null&&(f=i.getWidth()/2|0),m==null&&(m=i.getHeight()/2|0);const v=o/2|0;if(this.leftInit=f-v,this.rightInit=f+v,this.upInit=m-v,this.downInit=m+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let i=this.leftInit,o=this.rightInit,f=this.upInit,m=this.downInit,v=!1,w=!0,S=!1,I=!1,j=!1,$=!1,ae=!1;const le=this.width,ve=this.height;for(;w;){w=!1;let be=!0;for(;(be||!I)&&o<le;)be=this.containsBlackPoint(f,m,o,!1),be?(o++,w=!0,I=!0):I||o++;if(o>=le){v=!0;break}let Ce=!0;for(;(Ce||!j)&&m<ve;)Ce=this.containsBlackPoint(i,o,m,!0),Ce?(m++,w=!0,j=!0):j||m++;if(m>=ve){v=!0;break}let Pe=!0;for(;(Pe||!$)&&i>=0;)Pe=this.containsBlackPoint(f,m,i,!1),Pe?(i--,w=!0,$=!0):$||i--;if(i<0){v=!0;break}let Fe=!0;for(;(Fe||!ae)&&f>=0;)Fe=this.containsBlackPoint(i,o,f,!0),Fe?(f--,w=!0,ae=!0):ae||f--;if(f<0){v=!0;break}w&&(S=!0)}if(!v&&S){const be=o-i;let Ce=null;for(let ot=1;Ce===null&&ot<be;ot++)Ce=this.getBlackPointOnSegment(i,m-ot,i+ot,m);if(Ce==null)throw new Z;let Pe=null;for(let ot=1;Pe===null&&ot<be;ot++)Pe=this.getBlackPointOnSegment(i,f+ot,i+ot,f);if(Pe==null)throw new Z;let Fe=null;for(let ot=1;Fe===null&&ot<be;ot++)Fe=this.getBlackPointOnSegment(o,f+ot,o-ot,f);if(Fe==null)throw new Z;let st=null;for(let ot=1;st===null&&ot<be;ot++)st=this.getBlackPointOnSegment(o,m-ot,o-ot,m);if(st==null)throw new Z;return this.centerEdges(st,Ce,Fe,Pe)}else throw new Z}getBlackPointOnSegment(i,o,f,m){const v=Ee.round(Ee.distance(i,o,f,m)),w=(f-i)/v,S=(m-o)/v,I=this.image;for(let j=0;j<v;j++){const $=Ee.round(i+j*w),ae=Ee.round(o+j*S);if(I.get($,ae))return new ke($,ae)}return null}centerEdges(i,o,f,m){const v=i.getX(),w=i.getY(),S=o.getX(),I=o.getY(),j=f.getX(),$=f.getY(),ae=m.getX(),le=m.getY(),ve=lt.CORR;return v<this.width/2?[new ke(ae-ve,le+ve),new ke(S+ve,I+ve),new ke(j-ve,$-ve),new ke(v+ve,w-ve)]:[new ke(ae+ve,le+ve),new ke(S+ve,I-ve),new ke(j-ve,$+ve),new ke(v-ve,w-ve)]}containsBlackPoint(i,o,f,m){const v=this.image;if(m){for(let w=i;w<=o;w++)if(v.get(w,f))return!0}else for(let w=i;w<=o;w++)if(v.get(f,w))return!0;return!1}}lt.INIT_SIZE=10,lt.CORR=1;class ut{static checkAndNudgePoints(i,o){const f=i.getWidth(),m=i.getHeight();let v=!0;for(let w=0;w<o.length&&v;w+=2){const S=Math.floor(o[w]),I=Math.floor(o[w+1]);if(S<-1||S>f||I<-1||I>m)throw new Z;v=!1,S===-1?(o[w]=0,v=!0):S===f&&(o[w]=f-1,v=!0),I===-1?(o[w+1]=0,v=!0):I===m&&(o[w+1]=m-1,v=!0)}v=!0;for(let w=o.length-2;w>=0&&v;w-=2){const S=Math.floor(o[w]),I=Math.floor(o[w+1]);if(S<-1||S>f||I<-1||I>m)throw new Z;v=!1,S===-1?(o[w]=0,v=!0):S===f&&(o[w]=f-1,v=!0),I===-1?(o[w+1]=0,v=!0):I===m&&(o[w+1]=m-1,v=!0)}}}class yt{constructor(i,o,f,m,v,w,S,I,j){this.a11=i,this.a21=o,this.a31=f,this.a12=m,this.a22=v,this.a32=w,this.a13=S,this.a23=I,this.a33=j}static quadrilateralToQuadrilateral(i,o,f,m,v,w,S,I,j,$,ae,le,ve,be,Ce,Pe){const Fe=yt.quadrilateralToSquare(i,o,f,m,v,w,S,I);return yt.squareToQuadrilateral(j,$,ae,le,ve,be,Ce,Pe).times(Fe)}transformPoints(i){const o=i.length,f=this.a11,m=this.a12,v=this.a13,w=this.a21,S=this.a22,I=this.a23,j=this.a31,$=this.a32,ae=this.a33;for(let le=0;le<o;le+=2){const ve=i[le],be=i[le+1],Ce=v*ve+I*be+ae;i[le]=(f*ve+w*be+j)/Ce,i[le+1]=(m*ve+S*be+$)/Ce}}transformPointsWithValues(i,o){const f=this.a11,m=this.a12,v=this.a13,w=this.a21,S=this.a22,I=this.a23,j=this.a31,$=this.a32,ae=this.a33,le=i.length;for(let ve=0;ve<le;ve++){const be=i[ve],Ce=o[ve],Pe=v*be+I*Ce+ae;i[ve]=(f*be+w*Ce+j)/Pe,o[ve]=(m*be+S*Ce+$)/Pe}}static squareToQuadrilateral(i,o,f,m,v,w,S,I){const j=i-f+v-S,$=o-m+w-I;if(j===0&&$===0)return new yt(f-i,v-f,i,m-o,w-m,o,0,0,1);{const ae=f-v,le=S-v,ve=m-w,be=I-w,Ce=ae*be-le*ve,Pe=(j*be-le*$)/Ce,Fe=(ae*$-j*ve)/Ce;return new yt(f-i+Pe*f,S-i+Fe*S,i,m-o+Pe*m,I-o+Fe*I,o,Pe,Fe,1)}}static quadrilateralToSquare(i,o,f,m,v,w,S,I){return yt.squareToQuadrilateral(i,o,f,m,v,w,S,I).buildAdjoint()}buildAdjoint(){return new yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new yt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class dn extends ut{sampleGrid(i,o,f,m,v,w,S,I,j,$,ae,le,ve,be,Ce,Pe,Fe,st,ot){const it=yt.quadrilateralToQuadrilateral(m,v,w,S,I,j,$,ae,le,ve,be,Ce,Pe,Fe,st,ot);return this.sampleGridWithTransform(i,o,f,it)}sampleGridWithTransform(i,o,f,m){if(o<=0||f<=0)throw new Z;const v=new z(o,f),w=new Float32Array(2*o);for(let S=0;S<f;S++){const I=w.length,j=S+.5;for(let $=0;$<I;$+=2)w[$]=$/2+.5,w[$+1]=j;m.transformPoints(w),ut.checkAndNudgePoints(i,w);try{for(let $=0;$<I;$+=2)i.get(Math.floor(w[$]),Math.floor(w[$+1]))&&v.set($/2,S)}catch{throw new Z}}return v}}class It{static setGridSampler(i){It.gridSampler=i}static getInstance(){return It.gridSampler}}It.gridSampler=new dn;class nn{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class fi{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),f=this.getBullsEyeCorners(o);if(i){let w=f[0];f[0]=f[2],f[2]=w}this.extractParameters(f);let m=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),v=this.getMatrixCornerPoints(f);return new ct(m,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new Z;let o=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(f,o);let m=0;for(let w=0;w<4;w++){let S=f[(this.shift+w)%4];this.compact?(m<<=7,m+=S>>1&127):(m<<=10,m+=(S>>2&992)+(S>>1&31))}let v=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(i,o){let f=0;i.forEach((m,v,w)=>{let S=(m>>o-2<<1)+(m&1);f=(f<<3)+S}),f=((f&1)<<11)+(f>>1);for(let m=0;m<4;m++)if(B.bitCount(f^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new Z}getCorrectedParameterData(i,o){let f,m;o?(f=7,m=2):(f=10,m=4);let v=f-m,w=new Int32Array(f);for(let I=f-1;I>=0;--I)w[I]=i&15,i>>=4;try{new Ue(Tt.AZTEC_PARAM).decode(w,v)}catch{throw new Z}let S=0;for(let I=0;I<m;I++)S=(S<<4)+w[I];return S}getBullsEyeCorners(i){let o=i,f=i,m=i,v=i,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ae=this.getFirstDifferent(o,w,1,-1),le=this.getFirstDifferent(f,w,1,1),ve=this.getFirstDifferent(m,w,-1,1),be=this.getFirstDifferent(v,w,-1,-1);if(this.nbCenterLayers>2){let Ce=this.distancePoint(be,ae)*this.nbCenterLayers/(this.distancePoint(v,o)*(this.nbCenterLayers+2));if(Ce<.75||Ce>1.25||!this.isWhiteOrBlackRectangle(ae,le,ve,be))break}o=ae,f=le,m=ve,v=be,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let S=new ke(o.getX()+.5,o.getY()-.5),I=new ke(f.getX()+.5,f.getY()+.5),j=new ke(m.getX()-.5,m.getY()+.5),$=new ke(v.getX()-.5,v.getY()-.5);return this.expandSquare([S,I,j,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,f,m;try{let S=new lt(this.image).detect();i=S[0],o=S[1],f=S[2],m=S[3]}catch{let I=this.image.getWidth()/2,j=this.image.getHeight()/2;i=this.getFirstDifferent(new nn(I+7,j-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(I+7,j+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new nn(I-7,j+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new nn(I-7,j-7),!1,-1,-1).toResultPoint()}let v=Ee.round((i.getX()+m.getX()+o.getX()+f.getX())/4),w=Ee.round((i.getY()+m.getY()+o.getY()+f.getY())/4);try{let S=new lt(this.image,15,v,w).detect();i=S[0],o=S[1],f=S[2],m=S[3]}catch{i=this.getFirstDifferent(new nn(v+7,w-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(v+7,w+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new nn(v-7,w+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new nn(v-7,w-7),!1,-1,-1).toResultPoint()}return v=Ee.round((i.getX()+m.getX()+o.getX()+f.getX())/4),w=Ee.round((i.getY()+m.getY()+o.getY()+f.getY())/4),new nn(v,w)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,f,m,v){let w=It.getInstance(),S=this.getDimension(),I=S/2-this.nbCenterLayers,j=S/2+this.nbCenterLayers;return w.sampleGrid(i,S,S,I,I,j,I,j,j,I,j,o.getX(),o.getY(),f.getX(),f.getY(),m.getX(),m.getY(),v.getX(),v.getY())}sampleLine(i,o,f){let m=0,v=this.distanceResultPoint(i,o),w=v/f,S=i.getX(),I=i.getY(),j=w*(o.getX()-i.getX())/v,$=w*(o.getY()-i.getY())/v;for(let ae=0;ae<f;ae++)this.image.get(Ee.round(S+ae*j),Ee.round(I+ae*$))&&(m|=1<<f-ae-1);return m}isWhiteOrBlackRectangle(i,o,f,m){let v=3;i=new nn(i.getX()-v,i.getY()+v),o=new nn(o.getX()-v,o.getY()-v),f=new nn(f.getX()+v,f.getY()-v),m=new nn(m.getX()+v,m.getY()+v);let w=this.getColor(m,i);if(w===0)return!1;let S=this.getColor(i,o);return S!==w||(S=this.getColor(o,f),S!==w)?!1:(S=this.getColor(f,m),S===w)}getColor(i,o){let f=this.distancePoint(i,o),m=(o.getX()-i.getX())/f,v=(o.getY()-i.getY())/f,w=0,S=i.getX(),I=i.getY(),j=this.image.get(i.getX(),i.getY()),$=Math.ceil(f);for(let le=0;le<$;le++)S+=m,I+=v,this.image.get(Ee.round(S),Ee.round(I))!==j&&w++;let ae=w/f;return ae>.1&&ae<.9?0:ae<=.1===j?1:-1}getFirstDifferent(i,o,f,m){let v=i.getX()+f,w=i.getY()+m;for(;this.isValid(v,w)&&this.image.get(v,w)===o;)v+=f,w+=m;for(v-=f,w-=m;this.isValid(v,w)&&this.image.get(v,w)===o;)v+=f;for(v-=f;this.isValid(v,w)&&this.image.get(v,w)===o;)w+=m;return w-=m,new nn(v,w)}expandSquare(i,o,f){let m=f/(2*o),v=i[0].getX()-i[2].getX(),w=i[0].getY()-i[2].getY(),S=(i[0].getX()+i[2].getX())/2,I=(i[0].getY()+i[2].getY())/2,j=new ke(S+m*v,I+m*w),$=new ke(S-m*v,I-m*w);v=i[1].getX()-i[3].getX(),w=i[1].getY()-i[3].getY(),S=(i[1].getX()+i[3].getX())/2,I=(i[1].getY()+i[3].getY())/2;let ae=new ke(S+m*v,I+m*w),le=new ke(S-m*v,I-m*w);return[j,ae,$,le]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Ee.round(i.getX()),f=Ee.round(i.getY());return this.isValid(o,f)}distancePoint(i,o){return Ee.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Ee.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class nr{decode(i,o=null){let f=null,m=new fi(i.getBlackMatrix()),v=null,w=null;try{let $=m.detectMirror(!1);v=$.getPoints(),this.reportFoundResultPoints(o,v),w=new de().decode($)}catch($){f=$}if(w==null)try{let $=m.detectMirror(!0);v=$.getPoints(),this.reportFoundResultPoints(o,v),w=new de().decode($)}catch($){throw f??$}let S=new Ae(w.getText(),w.getRawBytes(),w.getNumBits(),v,Le.AZTEC,N.currentTimeMillis()),I=w.getByteSegments();I!=null&&S.putMetadata(Ze.BYTE_SEGMENTS,I);let j=w.getECLevel();return j!=null&&S.putMetadata(Ze.ERROR_CORRECTION_LEVEL,j),S}reportFoundResultPoints(i,o){if(i!=null){let f=i.get(Y.NEED_RESULT_POINT_CALLBACK);f!=null&&o.forEach((m,v,w)=>{f.foundPossibleResultPoint(m)})}}reset(){}}class Yi extends Ie{constructor(i=500){super(new nr,i)}}class Nt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Y.TRY_HARDER)===!0&&i.isRotateSupported()){const v=i.rotateCounterClockwise(),w=this.doDecode(v,o),S=w.getResultMetadata();let I=270;S!==null&&S.get(Ze.ORIENTATION)===!0&&(I=I+S.get(Ze.ORIENTATION)%360),w.putMetadata(Ze.ORIENTATION,I);const j=w.getResultPoints();if(j!==null){const $=v.getHeight();for(let ae=0;ae<j.length;ae++)j[ae]=new ke($-j[ae].getY()-1,j[ae].getX())}return w}else throw new Z}}reset(){}doDecode(i,o){const f=i.getWidth(),m=i.getHeight();let v=new W(f);const w=o&&o.get(Y.TRY_HARDER)===!0,S=Math.max(1,m>>(w?8:5));let I;w?I=m:I=15;const j=Math.trunc(m/2);for(let $=0;$<I;$++){const ae=Math.trunc(($+1)/2),le=($&1)===0,ve=j+S*(le?ae:-ae);if(ve<0||ve>=m)break;try{v=i.getBlackRow(ve,v)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(v.reverse(),o&&o.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const Ce=new Map;o.forEach((Pe,Fe)=>Ce.set(Fe,Pe)),Ce.delete(Y.NEED_RESULT_POINT_CALLBACK),o=Ce}try{const Ce=this.decodeRow(ve,v,o);if(be===1){Ce.putMetadata(Ze.ORIENTATION,180);const Pe=Ce.getResultPoints();Pe!==null&&(Pe[0]=new ke(f-Pe[0].getX()-1,Pe[0].getY()),Pe[1]=new ke(f-Pe[1].getX()-1,Pe[1].getY()))}return Ce}catch{}}}throw new Z}static recordPattern(i,o,f){const m=f.length;for(let j=0;j<m;j++)f[j]=0;const v=i.getSize();if(o>=v)throw new Z;let w=!i.get(o),S=0,I=o;for(;I<v;){if(i.get(I)!==w)f[S]++;else{if(++S===m)break;f[S]=1,w=!w}I++}if(!(S===m||S===m-1&&I===v))throw new Z}static recordPatternInReverse(i,o,f){let m=f.length,v=i.get(o);for(;o>0&&m>=0;)i.get(--o)!==v&&(m--,v=!v);if(m>=0)throw new Z;Nt.recordPattern(i,o+1,f)}static patternMatchVariance(i,o,f){const m=i.length;let v=0,w=0;for(let j=0;j<m;j++)v+=i[j],w+=o[j];if(v<w)return Number.POSITIVE_INFINITY;const S=v/w;f*=S;let I=0;for(let j=0;j<m;j++){const $=i[j],ae=o[j]*S,le=$>ae?$-ae:ae-$;if(le>f)return Number.POSITIVE_INFINITY;I+=le}return I/v}}class rt extends Nt{static findStartPattern(i){const o=i.getSize(),f=i.getNextSet(0);let m=0,v=Int32Array.from([0,0,0,0,0,0]),w=f,S=!1;const I=6;for(let j=f;j<o;j++)if(i.get(j)!==S)v[m]++;else{if(m===I-1){let $=rt.MAX_AVG_VARIANCE,ae=-1;for(let le=rt.CODE_START_A;le<=rt.CODE_START_C;le++){const ve=Nt.patternMatchVariance(v,rt.CODE_PATTERNS[le],rt.MAX_INDIVIDUAL_VARIANCE);ve<$&&($=ve,ae=le)}if(ae>=0&&i.isRange(Math.max(0,w-(j-w)/2),w,!1))return Int32Array.from([w,j,ae]);w+=v[0]+v[1],v=v.slice(2,v.length-1),v[m-1]=0,v[m]=0,m--}else m++;v[m]=1,S=!S}throw new Z}static decodeCode(i,o,f){Nt.recordPattern(i,f,o);let m=rt.MAX_AVG_VARIANCE,v=-1;for(let w=0;w<rt.CODE_PATTERNS.length;w++){const S=rt.CODE_PATTERNS[w],I=this.patternMatchVariance(o,S,rt.MAX_INDIVIDUAL_VARIANCE);I<m&&(m=I,v=w)}if(v>=0)return v;throw new Z}decodeRow(i,o,f){const m=f&&f.get(Y.ASSUME_GS1)===!0,v=rt.findStartPattern(o),w=v[2];let S=0;const I=new Uint8Array(20);I[S++]=w;let j;switch(w){case rt.CODE_START_A:j=rt.CODE_CODE_A;break;case rt.CODE_START_B:j=rt.CODE_CODE_B;break;case rt.CODE_START_C:j=rt.CODE_CODE_C;break;default:throw new V}let $=!1,ae=!1,le="",ve=v[0],be=v[1];const Ce=Int32Array.from([0,0,0,0,0,0]);let Pe=0,Fe=0,st=w,ot=0,it=!0,an=!1,zt=!1;for(;!$;){const Ai=ae;switch(ae=!1,Pe=Fe,Fe=rt.decodeCode(o,Ce,be),I[S++]=Fe,Fe!==rt.CODE_STOP&&(it=!0),Fe!==rt.CODE_STOP&&(ot++,st+=ot*Fe),ve=be,be+=Ce.reduce((ql,kr)=>ql+kr,0),Fe){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new V}switch(j){case rt.CODE_CODE_A:if(Fe<64)zt===an?le+=String.fromCharCode(32+Fe):le+=String.fromCharCode(32+Fe+128),zt=!1;else if(Fe<96)zt===an?le+=String.fromCharCode(Fe-64):le+=String.fromCharCode(Fe+64),zt=!1;else switch(Fe!==rt.CODE_STOP&&(it=!1),Fe){case rt.CODE_FNC_1:m&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!an&&zt?(an=!0,zt=!1):an&&zt?(an=!1,zt=!1):zt=!0;break;case rt.CODE_SHIFT:ae=!0,j=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:j=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:j=rt.CODE_CODE_C;break;case rt.CODE_STOP:$=!0;break}break;case rt.CODE_CODE_B:if(Fe<96)zt===an?le+=String.fromCharCode(32+Fe):le+=String.fromCharCode(32+Fe+128),zt=!1;else switch(Fe!==rt.CODE_STOP&&(it=!1),Fe){case rt.CODE_FNC_1:m&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!an&&zt?(an=!0,zt=!1):an&&zt?(an=!1,zt=!1):zt=!0;break;case rt.CODE_SHIFT:ae=!0,j=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:j=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:j=rt.CODE_CODE_C;break;case rt.CODE_STOP:$=!0;break}break;case rt.CODE_CODE_C:if(Fe<100)Fe<10&&(le+="0"),le+=Fe;else switch(Fe!==rt.CODE_STOP&&(it=!1),Fe){case rt.CODE_FNC_1:m&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_CODE_A:j=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:j=rt.CODE_CODE_B;break;case rt.CODE_STOP:$=!0;break}break}Ai&&(j=j===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const Hn=be-ve;if(be=o.getNextUnset(be),!o.isRange(be,Math.min(o.getSize(),be+(be-ve)/2),!1))throw new Z;if(st-=ot*Pe,st%103!==Pe)throw new C;const qr=le.length;if(qr===0)throw new Z;qr>0&&it&&(j===rt.CODE_CODE_C?le=le.substring(0,qr-2):le=le.substring(0,qr-1));const Wr=(v[1]+v[0])/2,Tn=ve+Hn/2,Nr=I.length,ri=new Uint8Array(Nr);for(let Ai=0;Ai<Nr;Ai++)ri[Ai]=I[Ai];const ja=[new ke(Wr,i),new ke(Tn,i)];return new Ae(le,ri,0,ja,Le.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class Ln extends Nt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,f){let m=this.counters;m.fill(0),this.decodeRowResult="";let v=Ln.findAsteriskPattern(o,m),w=o.getNextSet(v[1]),S=o.getSize(),I,j;do{Ln.recordPattern(o,w,m);let Ce=Ln.toNarrowWidePattern(m);if(Ce<0)throw new Z;I=Ln.patternToChar(Ce),this.decodeRowResult+=I,j=w;for(let Pe of m)w+=Pe;w=o.getNextSet(w)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let $=0;for(let Ce of m)$+=Ce;let ae=w-j-$;if(w!==S&&ae*2<$)throw new Z;if(this.usingCheckDigit){let Ce=this.decodeRowResult.length-1,Pe=0;for(let Fe=0;Fe<Ce;Fe++)Pe+=Ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Fe));if(this.decodeRowResult.charAt(Ce)!==Ln.ALPHABET_STRING.charAt(Pe%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,Ce)}if(this.decodeRowResult.length===0)throw new Z;let le;this.extendedMode?le=Ln.decodeExtended(this.decodeRowResult):le=this.decodeRowResult;let ve=(v[1]+v[0])/2,be=j+$/2;return new Ae(le,null,0,[new ke(ve,i),new ke(be,i)],Le.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let f=i.getSize(),m=i.getNextSet(0),v=0,w=m,S=!1,I=o.length;for(let j=m;j<f;j++)if(i.get(j)!==S)o[v]++;else{if(v===I-1){if(this.toNarrowWidePattern(o)===Ln.ASTERISK_ENCODING&&i.isRange(Math.max(0,w-Math.floor((j-w)/2)),w,!1))return[w,j];w+=o[0]+o[1],o.copyWithin(0,2,2+v-1),o[v-1]=0,o[v]=0,v--}else v++;o[v]=1,S=!S}throw new Z}static toNarrowWidePattern(i){let o=i.length,f=0,m;do{let v=2147483647;for(let I of i)I<v&&I>f&&(v=I);f=v,m=0;let w=0,S=0;for(let I=0;I<o;I++){let j=i[I];j>f&&(S|=1<<o-1-I,m++,w+=j)}if(m===3){for(let I=0;I<o&&m>0;I++){let j=i[I];if(j>f&&(m--,j*2>=w))return-1}return S}}while(m>3);return-1}static patternToChar(i){for(let o=0;o<Ln.CHARACTER_ENCODINGS.length;o++)if(Ln.CHARACTER_ENCODINGS[o]===i)return Ln.ALPHABET_STRING.charAt(o);if(i===Ln.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(i){let o=i.length,f="";for(let m=0;m<o;m++){let v=i.charAt(m);if(v==="+"||v==="$"||v==="%"||v==="/"){let w=i.charAt(m+1),S="\0";switch(v){case"+":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)+32);else throw new V;break;case"$":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)-64);else throw new V;break;case"%":if(w>="A"&&w<="E")S=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")S=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")S=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")S="\0";else if(w==="V")S="@";else if(w==="W")S="`";else if(w==="X"||w==="Y"||w==="Z")S="";else throw new V;break;case"/":if(w>="A"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")S=":";else throw new V;break}f+=S,m++}else f+=v}return f}}Ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ln.ASTERISK_ENCODING=148;class Ft extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,f){let m=this.decodeStart(o),v=this.decodeEnd(o),w=new ee;Ft.decodeMiddle(o,m[1],v[0],w);let S=w.toString(),I=null;f!=null&&(I=f.get(Y.ALLOWED_LENGTHS)),I==null&&(I=Ft.DEFAULT_ALLOWED_LENGTHS);let j=S.length,$=!1,ae=0;for(let be of I){if(j===be){$=!0;break}be>ae&&(ae=be)}if(!$&&j>ae&&($=!0),!$)throw new V;const le=[new ke(m[1],i),new ke(v[0],i)];return new Ae(S,null,0,le,Le.ITF,new Date().getTime())}static decodeMiddle(i,o,f,m){let v=new Int32Array(10),w=new Int32Array(5),S=new Int32Array(5);for(v.fill(0),w.fill(0),S.fill(0);o<f;){Nt.recordPattern(i,o,v);for(let j=0;j<5;j++){let $=2*j;w[j]=v[$],S[j]=v[$+1]}let I=Ft.decodeDigit(w);m.append(I.toString()),I=this.decodeDigit(S),m.append(I.toString()),v.forEach(function(j){o+=j})}}decodeStart(i){let o=Ft.skipWhiteSpace(i),f=Ft.findGuardPattern(i,o,Ft.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(i,f[0]),f}validateQuietZone(i,o){let f=this.narrowLineWidth*10;f=f<o?f:o;for(let m=o-1;f>0&&m>=0&&!i.get(m);m--)f--;if(f!==0)throw new Z}static skipWhiteSpace(i){const o=i.getSize(),f=i.getNextSet(0);if(f===o)throw new Z;return f}decodeEnd(i){i.reverse();try{let o=Ft.skipWhiteSpace(i),f;try{f=Ft.findGuardPattern(i,o,Ft.END_PATTERN_REVERSED[0])}catch(v){v instanceof Z&&(f=Ft.findGuardPattern(i,o,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,f[0]);let m=f[0];return f[0]=i.getSize()-f[1],f[1]=i.getSize()-m,f}finally{i.reverse()}}static findGuardPattern(i,o,f){let m=f.length,v=new Int32Array(m),w=i.getSize(),S=!1,I=0,j=o;v.fill(0);for(let $=o;$<w;$++)if(i.get($)!==S)v[I]++;else{if(I===m-1){if(Nt.patternMatchVariance(v,f,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[j,$];j+=v[0]+v[1],N.arraycopy(v,2,v,0,I-1),v[I-1]=0,v[I]=0,I--}else I++;v[I]=1,S=!S}throw new Z}static decodeDigit(i){let o=Ft.MAX_AVG_VARIANCE,f=-1,m=Ft.PATTERNS.length;for(let v=0;v<m;v++){let w=Ft.PATTERNS[v],S=Nt.patternMatchVariance(i,w,Ft.MAX_INDIVIDUAL_VARIANCE);S<o?(o=S,f=v):S===o&&(f=-1)}if(f>=0)return f%10;throw new Z}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,f,m=0,v=Int32Array.from([0,0,0]);for(;!o;){v=Int32Array.from([0,0,0]),f=Gt.findGuardPattern(i,m,!1,this.START_END_PATTERN,v);let w=f[0];m=f[1];let S=w-(m-w);S>=0&&(o=i.isRange(S,w,!1))}return f}static checkChecksum(i){return Gt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let f=parseInt(i.charAt(o-1),10);return Gt.getStandardUPCEANChecksum(i.substring(0,o-1))===f}static getStandardUPCEANChecksum(i){let o=i.length,f=0;for(let m=o-1;m>=0;m-=2){let v=i.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;f+=v}f*=3;for(let m=o-2;m>=0;m-=2){let v=i.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;f+=v}return(1e3-f)%10}static decodeEnd(i,o){return Gt.findGuardPattern(i,o,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,f,m){return this.findGuardPattern(i,o,f,m,new Int32Array(m.length))}static findGuardPattern(i,o,f,m,v){let w=i.getSize();o=f?i.getNextUnset(o):i.getNextSet(o);let S=0,I=o,j=m.length,$=f;for(let ae=o;ae<w;ae++)if(i.get(ae)!==$)v[S]++;else{if(S===j-1){if(Nt.patternMatchVariance(v,m,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([I,ae]);I+=v[0]+v[1];let le=v.slice(2,v.length-1);for(let ve=0;ve<S-1;ve++)v[ve]=le[ve];v[S-1]=0,v[S]=0,S--}else S++;v[S]=1,$=!$}throw new Z}static decodeDigit(i,o,f,m){this.recordPattern(i,f,o);let v=this.MAX_AVG_VARIANCE,w=-1,S=m.length;for(let I=0;I<S;I++){let j=m[I],$=Nt.patternMatchVariance(o,j,Gt.MAX_INDIVIDUAL_VARIANCE);$<v&&(v=$,w=I)}if(w>=0)return w;throw new Z}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ki{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,f){let m=this.decodeRowStringBuffer,v=this.decodeMiddle(o,f,m),w=m.toString(),S=ki.parseExtensionString(w),I=[new ke((f[0]+f[1])/2,i),new ke(v,i)],j=new Ae(w,null,0,I,Le.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(i,o,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=i.getSize(),w=o[1],S=0;for(let j=0;j<5&&w<v;j++){let $=Gt.decodeDigit(i,m,w,Gt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+$%10);for(let ae of m)w+=ae;$>=10&&(S|=1<<4-j),j!==4&&(w=i.getNextSet(w),w=i.getNextUnset(w))}if(f.length!==5)throw new Z;let I=this.determineCheckDigit(S);if(ki.extensionChecksum(f.toString())!==I)throw new Z;return w}static extensionChecksum(i){let o=i.length,f=0;for(let m=o-2;m>=0;m-=2)f+=i.charAt(m).charCodeAt(0)-48;f*=3;for(let m=o-1;m>=0;m-=2)f+=i.charAt(m).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new Z}static parseExtensionString(i){if(i.length!==5)return null;let o=ki.parseExtension5String(i);return o==null?null:new Map([[Ze.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let f=parseInt(i.substring(1)),m=(f/100).toString(),v=f%100,w=v<10?"0"+v:v.toString();return o+m+"."+w}}class Pi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,f){let m=this.decodeRowStringBuffer,v=this.decodeMiddle(o,f,m),w=m.toString(),S=Pi.parseExtensionString(w),I=[new ke((f[0]+f[1])/2,i),new ke(v,i)],j=new Ae(w,null,0,I,Le.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(i,o,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=i.getSize(),w=o[1],S=0;for(let I=0;I<2&&w<v;I++){let j=Gt.decodeDigit(i,m,w,Gt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+j%10);for(let $ of m)w+=$;j>=10&&(S|=1<<1-I),I!==1&&(w=i.getNextSet(w),w=i.getNextUnset(w))}if(f.length!==2)throw new Z;if(parseInt(f.toString())%4!==S)throw new Z;return w}static parseExtensionString(i){return i.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(i)]])}}class ma{static decodeRow(i,o,f){let m=Gt.findGuardPattern(o,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ki().decodeRow(i,o,m)}catch{return new Pi().decodeRow(i,o,m)}}}ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Zt extends Gt{constructor(){super(),this.decodeRowStringBuffer="",Zt.L_AND_G_PATTERNS=Zt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Zt.L_PATTERNS[i-10],f=new Int32Array(o.length);for(let m=0;m<o.length;m++)f[m]=o[o.length-m-1];Zt.L_AND_G_PATTERNS[i]=f}}decodeRow(i,o,f){let m=Zt.findStartGuardPattern(o),v=f==null?null:f.get(Y.NEED_RESULT_POINT_CALLBACK);if(v!=null){const it=new ke((m[0]+m[1])/2,i);v.foundPossibleResultPoint(it)}let w=this.decodeMiddle(o,m,this.decodeRowStringBuffer),S=w.rowOffset,I=w.resultString;if(v!=null){const it=new ke(S,i);v.foundPossibleResultPoint(it)}let j=this.decodeEnd(o,S);if(v!=null){const it=new ke((j[0]+j[1])/2,i);v.foundPossibleResultPoint(it)}let $=j[1],ae=$+($-j[0]);if(ae>=o.getSize()||!o.isRange($,ae,!1))throw new Z;let le=I.toString();if(le.length<8)throw new V;if(!Zt.checkChecksum(le))throw new C;let ve=(m[1]+m[0])/2,be=(j[1]+j[0])/2,Ce=this.getBarcodeFormat(),Pe=[new ke(ve,i),new ke(be,i)],Fe=new Ae(le,null,0,Pe,Ce,new Date().getTime()),st=0;try{let it=ma.decodeRow(i,o,j[1]);Fe.putMetadata(Ze.UPC_EAN_EXTENSION,it.getText()),Fe.putAllMetadata(it.getResultMetadata()),Fe.addResultPoints(it.getResultPoints()),st=it.getText().length}catch{}let ot=f==null?null:f.get(Y.ALLOWED_EAN_EXTENSIONS);if(ot!=null){let it=!1;for(let an in ot)if(st.toString()===an){it=!0;break}if(!it)throw new Z}return Fe}decodeEnd(i,o){return Zt.findGuardPattern(i,o,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Zt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let f=parseInt(i.charAt(o-1),10);return Zt.getStandardUPCEANChecksum(i.substring(0,o-1))===f}static getStandardUPCEANChecksum(i){let o=i.length,f=0;for(let m=o-1;m>=0;m-=2){let v=i.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;f+=v}f*=3;for(let m=o-2;m>=0;m-=2){let v=i.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;f+=v}return(1e3-f)%10}}class rr extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=i.getSize(),w=o[1],S=0;for(let j=0;j<6&&w<v;j++){let $=Zt.decodeDigit(i,m,w,Zt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+$%10);for(let ae of m)w+=ae;$>=10&&(S|=1<<5-j)}f=rr.determineFirstDigit(f,S),w=Zt.findGuardPattern(i,w,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<6&&w<v;j++){let $=Zt.decodeDigit(i,m,w,Zt.L_PATTERNS);f+=String.fromCharCode(48+$);for(let ae of m)w+=ae}return{rowOffset:w,resultString:f}}getBarcodeFormat(){return Le.EAN_13}static determineFirstDigit(i,o){for(let f=0;f<10;f++)if(o===this.FIRST_DIGIT_ENCODINGS[f])return i=String.fromCharCode(48+f)+i,i;throw new Z}}rr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fr extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,f){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=i.getSize(),w=o[1];for(let I=0;I<4&&w<v;I++){let j=Zt.decodeDigit(i,m,w,Zt.L_PATTERNS);f+=String.fromCharCode(48+j);for(let $ of m)w+=$}w=Zt.findGuardPattern(i,w,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&w<v;I++){let j=Zt.decodeDigit(i,m,w,Zt.L_PATTERNS);f+=String.fromCharCode(48+j);for(let $ of m)w+=$}return{rowOffset:w,resultString:f}}getBarcodeFormat(){return Le.EAN_8}}class pa extends Zt{constructor(){super(...arguments),this.ean13Reader=new rr}getBarcodeFormat(){return Le.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,f))}decodeMiddle(i,o,f){return this.ean13Reader.decodeMiddle(i,o,f)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let f=new Ae(o.substring(1),null,null,i.getResultPoints(),Le.UPC_A);return i.getResultMetadata()!=null&&f.putAllMetadata(i.getResultMetadata()),f}else throw new Z}reset(){this.ean13Reader.reset()}}class Sr extends Zt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,f){const m=this.decodeMiddleCounters.map(j=>j);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const v=i.getSize();let w=o[1],S=0;for(let j=0;j<6&&w<v;j++){const $=Sr.decodeDigit(i,m,w,Sr.L_AND_G_PATTERNS);f+=String.fromCharCode(48+$%10);for(let ae of m)w+=ae;$>=10&&(S|=1<<5-j)}let I=Sr.determineNumSysAndCheckDigit(f,S);return{rowOffset:w,resultString:I}}decodeEnd(i,o){return Sr.findGuardPatternWithoutCounters(i,o,!0,Sr.MIDDLE_END_PATTERN)}checkChecksum(i){return Zt.checkChecksum(Sr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let f=0;f<=1;f++)for(let m=0;m<10;m++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][m]){let v=String.fromCharCode(48+f),w=String.fromCharCode(48+m);return v+i+w}throw Z.getNotFoundInstance()}getBarcodeFormat(){return Le.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(v=>v.charCodeAt(0)),f=new ee;f.append(i.charAt(0));let m=o[5];switch(m){case 0:case 1:case 2:f.appendChars(o,0,2),f.append(m),f.append("0000"),f.appendChars(o,2,3);break;case 3:f.appendChars(o,0,3),f.append("00000"),f.appendChars(o,3,2);break;case 4:f.appendChars(o,0,4),f.append("00000"),f.append(o[4]);break;default:f.appendChars(o,0,5),f.append("0000"),f.append(m);break}return i.length>=8&&f.append(i.charAt(7)),f.toString()}}Sr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xa extends Nt{constructor(i){super();let o=i==null?null:i.get(Y.POSSIBLE_FORMATS),f=[];a(o)?(f.push(new rr),f.push(new pa),f.push(new Fr),f.push(new Sr)):(o.indexOf(Le.EAN_13)>-1&&f.push(new rr),o.indexOf(Le.UPC_A)>-1&&f.push(new pa),o.indexOf(Le.EAN_8)>-1&&f.push(new Fr),o.indexOf(Le.UPC_E)>-1&&f.push(new Sr)),this.readers=f}decodeRow(i,o,f){for(let m of this.readers)try{const v=m.decodeRow(i,o,f),w=v.getBarcodeFormat()===Le.EAN_13&&v.getText().charAt(0)==="0",S=f==null?null:f.get(Y.POSSIBLE_FORMATS),I=S==null||S.includes(Le.UPC_A);if(w&&I){const j=v.getRawBytes(),$=new Ae(v.getText().substring(1),j,j?j.length:null,v.getResultPoints(),Le.UPC_A);return $.putAllMetadata(v.getResultMetadata()),$}return v}catch{}throw new Z}reset(){for(let i of this.readers)i.reset()}}class $n extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let f=0;f<o.length;f++)if(Nt.patternMatchVariance(i,o[f],$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE)return f;throw new Z}static count(i){return Ee.sum(new Int32Array(i))}static increment(i,o){let f=0,m=o[0];for(let v=1;v<i.length;v++)o[v]>m&&(m=o[v],f=v);i[f]++}static decrement(i,o){let f=0,m=o[0];for(let v=1;v<i.length;v++)o[v]<m&&(m=o[v],f=v);i[f]--}static isFinderPattern(i){let o=i[0]+i[1],f=o+i[2]+i[3],m=o/f;if(m>=$n.MIN_FINDER_PATTERN_RATIO&&m<=$n.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let S of i)S>w&&(w=S),S<v&&(v=S);return w<10*v}return!1}}$n.MAX_AVG_VARIANCE=.2,$n.MAX_INDIVIDUAL_VARIANCE=.45,$n.MIN_FINDER_PATTERN_RATIO=9.5/12,$n.MAX_FINDER_PATTERN_RATIO=12.5/14;class yi{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof yi))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Bi{constructor(i,o,f,m,v){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ke(f,v)),this.resultPoints.push(new ke(m,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Bi))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class Lr{constructor(){}static getRSSvalue(i,o,f){let m=0;for(let I of i)m+=I;let v=0,w=0,S=i.length;for(let I=0;I<S-1;I++){let j;for(j=1,w|=1<<I;j<i[I];j++,w&=~(1<<I)){let $=Lr.combins(m-j-1,S-I-2);if(f&&w===0&&m-j-(S-I-1)>=S-I-1&&($-=Lr.combins(m-j-(S-I),S-I-2)),S-I-1>1){let ae=0;for(let le=m-j-(S-I-2);le>o;le--)ae+=Lr.combins(m-j-le-1,S-I-3);$-=ae*(S-1-I)}else m-j>o&&$--;v+=$}m-=j}return v}static combins(i,o){let f,m;i-o>o?(m=o,f=i-o):(m=i-o,f=o);let v=1,w=1;for(let S=i;S>f;S--)v*=S,w<=m&&(v/=w,w++);for(;w<=m;)v/=w,w++;return v}}class Se{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let f=12*o,m=new W(f),v=0,S=i[0].getRightChar().getValue();for(let I=11;I>=0;--I)(S&1<<I)!=0&&m.set(v),v++;for(let I=1;I<i.length;++I){let j=i[I],$=j.getLeftChar().getValue();for(let ae=11;ae>=0;--ae)($&1<<ae)!=0&&m.set(v),v++;if(j.getRightChar()!=null){let ae=j.getRightChar().getValue();for(let le=11;le>=0;--le)(ae&1<<le)!=0&&m.set(v),v++}}return m}}class Ne{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class He{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Xe extends He{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Xe.FNC1}}Xe.FNC1="$";class Ge extends He{constructor(i,o,f){super(i),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xt extends He{constructor(i,o,f){if(super(i),o<0||o>10||f<0||f>10)throw new V;this.firstDigit=o,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xt.FNC1}isSecondDigitFNC1(){return this.secondDigit===xt.FNC1}isAnyFNC1(){return this.firstDigit===xt.FNC1||this.secondDigit===xt.FNC1}}xt.FNC1=10;class $e{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new Z;let o=i.substring(0,2);for(let v of $e.TWO_DIGIT_DATA_LENGTH)if(v[0]===o)return v[1]===$e.VARIABLE_LENGTH?$e.processVariableAI(2,v[2],i):$e.processFixedAI(2,v[1],i);if(i.length<3)throw new Z;let f=i.substring(0,3);for(let v of $e.THREE_DIGIT_DATA_LENGTH)if(v[0]===f)return v[1]===$e.VARIABLE_LENGTH?$e.processVariableAI(3,v[2],i):$e.processFixedAI(3,v[1],i);for(let v of $e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===f)return v[1]===$e.VARIABLE_LENGTH?$e.processVariableAI(4,v[2],i):$e.processFixedAI(4,v[1],i);if(i.length<4)throw new Z;let m=i.substring(0,4);for(let v of $e.FOUR_DIGIT_DATA_LENGTH)if(v[0]===m)return v[1]===$e.VARIABLE_LENGTH?$e.processVariableAI(4,v[2],i):$e.processFixedAI(4,v[1],i);throw new Z}static processFixedAI(i,o,f){if(f.length<i)throw new Z;let m=f.substring(0,i);if(f.length<i+o)throw new Z;let v=f.substring(i,i+o),w=f.substring(i+o),S="("+m+")"+v,I=$e.parseFieldsInGeneralPurpose(w);return I==null?S:S+I}static processVariableAI(i,o,f){let m=f.substring(0,i),v;f.length<i+o?v=f.length:v=i+o;let w=f.substring(i,v),S=f.substring(v),I="("+m+")"+w,j=$e.parseFieldsInGeneralPurpose(S);return j==null?I:I+j}}$e.VARIABLE_LENGTH=[],$e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",$e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",$e.VARIABLE_LENGTH,20],["22",$e.VARIABLE_LENGTH,29],["30",$e.VARIABLE_LENGTH,8],["37",$e.VARIABLE_LENGTH,8],["90",$e.VARIABLE_LENGTH,30],["91",$e.VARIABLE_LENGTH,30],["92",$e.VARIABLE_LENGTH,30],["93",$e.VARIABLE_LENGTH,30],["94",$e.VARIABLE_LENGTH,30],["95",$e.VARIABLE_LENGTH,30],["96",$e.VARIABLE_LENGTH,30],["97",$e.VARIABLE_LENGTH,3],["98",$e.VARIABLE_LENGTH,30],["99",$e.VARIABLE_LENGTH,30]],$e.THREE_DIGIT_DATA_LENGTH=[["240",$e.VARIABLE_LENGTH,30],["241",$e.VARIABLE_LENGTH,30],["242",$e.VARIABLE_LENGTH,6],["250",$e.VARIABLE_LENGTH,30],["251",$e.VARIABLE_LENGTH,30],["253",$e.VARIABLE_LENGTH,17],["254",$e.VARIABLE_LENGTH,20],["400",$e.VARIABLE_LENGTH,30],["401",$e.VARIABLE_LENGTH,30],["402",17],["403",$e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",$e.VARIABLE_LENGTH,20],["421",$e.VARIABLE_LENGTH,15],["422",3],["423",$e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],$e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",$e.VARIABLE_LENGTH,15],["391",$e.VARIABLE_LENGTH,18],["392",$e.VARIABLE_LENGTH,15],["393",$e.VARIABLE_LENGTH,18],["703",$e.VARIABLE_LENGTH,30]],$e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",$e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",$e.VARIABLE_LENGTH,20],["8003",$e.VARIABLE_LENGTH,30],["8004",$e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",$e.VARIABLE_LENGTH,30],["8008",$e.VARIABLE_LENGTH,12],["8018",18],["8020",$e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",$e.VARIABLE_LENGTH,70],["8200",$e.VARIABLE_LENGTH,70]];class dt{constructor(i){this.buffer=new ee,this.information=i}decodeAllCodes(i,o){let f=o,m=null;do{let v=this.decodeGeneralPurposeField(f,m),w=$e.parseFieldsInGeneralPurpose(v.getNewString());if(w!=null&&i.append(w),v.isRemaining()?m=""+v.getRemainingValue():m=null,f===v.getNewPosition())break;f=v.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(i,4);return v===0?new xt(this.information.getSize(),xt.FNC1,xt.FNC1):new xt(this.information.getSize(),v-1,xt.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),f=(o-8)/11,m=(o-8)%11;return new xt(i+7,f,m)}extractNumericValueFromBitArray(i,o){return dt.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,f){let m=0;for(let v=0;v<f;++v)i.get(o+v)&&(m|=1<<f-v-1);return m}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ge(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ge(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let f=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(f!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ge(this.current.getPosition(),this.buffer.toString()):o=new Ge(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ne(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ge(this.current.getPosition(),this.buffer.toString());return new Ne(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ne(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ge(this.current.getPosition(),this.buffer.toString());return new Ne(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ne(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ge(this.current.getPosition(),this.buffer.toString());return new Ne(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ne(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(i,7);if(f>=64&&f<116)return!0;if(i+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(i,8);return m>=232&&m<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Xe(i+5,Xe.FNC1);if(o>=5&&o<15)return new Xe(i+5,"0"+(o-5));let f=this.extractNumericValueFromBitArray(i,7);if(f>=64&&f<90)return new Xe(i+7,""+(f+1));if(f>=90&&f<116)return new Xe(i+7,""+(f+7));let m=this.extractNumericValueFromBitArray(i,8),v;switch(m){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new V}return new Xe(i+8,v)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(i,6);return f>=16&&f<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Xe(i+5,Xe.FNC1);if(o>=5&&o<15)return new Xe(i+5,"0"+(o-5));let f=this.extractNumericValueFromBitArray(i,6);if(f>=32&&f<58)return new Xe(i+6,""+(f+33));let m;switch(f){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new Ye("Decoding invalid alphanumeric value: "+f)}return new Xe(i+6,m)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class pt{constructor(i){this.information=i,this.generalDecoder=new dt(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ht extends pt{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let f=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,f)}encodeCompressedGtinWithoutAI(i,o,f){for(let m=0;m<4;++m){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*m,10);v/100===0&&i.append("0"),v/10===0&&i.append("0"),i.append(v)}ht.appendCheckDigit(i,f)}static appendCheckDigit(i,o){let f=0;for(let m=0;m<13;m++){let v=i.charAt(m+o).charCodeAt(0)-48;f+=(m&1)===0?3*v:v}f=10-f%10,f===10&&(f=0),i.append(f)}}ht.GTIN_SIZE=40;class bt extends ht{constructor(i){super(i)}parseInformation(){let i=new ee;i.append("(01)");let o=i.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(bt.HEADER_SIZE,4);return i.append(f),this.encodeCompressedGtinWithoutAI(i,bt.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,bt.HEADER_SIZE+44)}}bt.HEADER_SIZE=4;class Bt extends pt{constructor(i){super(i)}parseInformation(){let i=new ee;return this.getGeneralDecoder().decodeAllCodes(i,Bt.HEADER_SIZE)}}Bt.HEADER_SIZE=5;class $t extends ht{constructor(i){super(i)}encodeCompressedWeight(i,o,f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(o,f);this.addWeightCode(i,m);let v=this.checkWeight(m),w=1e5;for(let S=0;S<5;++S)v/w===0&&i.append("0"),w/=10;i.append(v)}}class In extends $t{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=In.HEADER_SIZE+$t.GTIN_SIZE+In.WEIGHT_SIZE)throw new Z;let i=new ee;return this.encodeCompressedGtin(i,In.HEADER_SIZE),this.encodeCompressedWeight(i,In.HEADER_SIZE+$t.GTIN_SIZE,In.WEIGHT_SIZE),i.toString()}}In.HEADER_SIZE=5,In.WEIGHT_SIZE=15;class En extends In{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class mn extends In{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class en extends ht{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+ht.GTIN_SIZE)throw new Z;let i=new ee;this.encodeCompressedGtin(i,en.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ht.GTIN_SIZE,en.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+ht.GTIN_SIZE+en.LAST_DIGIT_SIZE,null);return i.append(f.getNewString()),i.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2;class Rn extends ht{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Rn.HEADER_SIZE+ht.GTIN_SIZE)throw new Z;let i=new ee;this.encodeCompressedGtin(i,Rn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+ht.GTIN_SIZE,Rn.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+ht.GTIN_SIZE+Rn.LAST_DIGIT_SIZE,Rn.FIRST_THREE_DIGITS_SIZE);f/100==0&&i.append("0"),f/10==0&&i.append("0"),i.append(f);let m=this.getGeneralDecoder().decodeGeneralPurposeField(Rn.HEADER_SIZE+ht.GTIN_SIZE+Rn.LAST_DIGIT_SIZE+Rn.FIRST_THREE_DIGITS_SIZE,null);return i.append(m.getNewString()),i.toString()}}Rn.HEADER_SIZE=8,Rn.LAST_DIGIT_SIZE=2,Rn.FIRST_THREE_DIGITS_SIZE=10;class vn extends $t{constructor(i,o,f){super(i),this.dateCode=f,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=vn.HEADER_SIZE+vn.GTIN_SIZE+vn.WEIGHT_SIZE+vn.DATE_SIZE)throw new Z;let i=new ee;return this.encodeCompressedGtin(i,vn.HEADER_SIZE),this.encodeCompressedWeight(i,vn.HEADER_SIZE+vn.GTIN_SIZE,vn.WEIGHT_SIZE),this.encodeCompressedDate(i,vn.HEADER_SIZE+vn.GTIN_SIZE+vn.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,vn.DATE_SIZE);if(f==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let m=f%32;f/=32;let v=f%12+1;f/=12;let w=f;w/10==0&&i.append("0"),i.append(w),v/10==0&&i.append("0"),i.append(v),m/10==0&&i.append("0"),i.append(m)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}vn.HEADER_SIZE=8,vn.WEIGHT_SIZE=20,vn.DATE_SIZE=16;function or(ie){try{if(ie.get(1))return new bt(ie);if(!ie.get(2))return new Bt(ie);switch(dt.extractNumericValueFromBitArray(ie,1,4)){case 4:return new En(ie);case 5:return new mn(ie)}switch(dt.extractNumericValueFromBitArray(ie,1,5)){case 12:return new en(ie);case 13:return new Rn(ie)}switch(dt.extractNumericValueFromBitArray(ie,1,7)){case 56:return new vn(ie,"310","11");case 57:return new vn(ie,"320","11");case 58:return new vn(ie,"310","13");case 59:return new vn(ie,"320","13");case 60:return new vn(ie,"310","15");case 61:return new vn(ie,"320","15");case 62:return new vn(ie,"310","17");case 63:return new vn(ie,"320","17")}}catch(i){throw console.log(i),new Ye("unknown decoder: "+ie)}}class hn{constructor(i,o,f,m){this.leftchar=i,this.rightchar=o,this.finderpattern=f,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof hn?hn.equalsOrNull(i.leftchar,o.leftchar)&&hn.equalsOrNull(i.rightchar,o.rightchar)&&hn.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:hn.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ga{constructor(i,o,f){this.pairs=i,this.rowNumber=o,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof ga?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let f;return i.forEach((m,v)=>{o.forEach(w=>{m.getLeftChar().getValue()===w.getLeftChar().getValue()&&m.getRightChar().getValue()===w.getRightChar().getValue()&&m.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(f=!0)})}),f}}class et extends $n{constructor(i){super(...arguments),this.pairs=new Array(et.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,f){this.pairs.length=0,this.startFromEven=!1;try{return et.constructResult(this.decodeRow2pairs(i,o))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,et.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(v){if(v instanceof Z){if(!this.pairs.length)throw new Z;f=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(i,!1),m){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new Z}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let f=o;f<this.rows.length;f++){let m=this.rows[f];this.pairs.length=0;for(let w of i)this.pairs.push(w.getPairs());if(this.pairs.push(m.getPairs()),!et.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(i);v.push(m);try{return this.checkRows(v,f+1)}catch(w){this.verbose&&console.log(w)}}throw new Z}static isValidSequence(i){for(let o of et.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let f=!0;for(let m=0;m<i.length;m++)if(i[m].getFinderPattern().getValue()!=o[m]){f=!1;break}if(f)return!0}return!1}storeRow(i,o){let f=0,m=!1,v=!1;for(;f<this.rows.length;){let w=this.rows[f];if(w.getRowNumber()>i){v=w.isEquivalent(this.pairs);break}m=w.isEquivalent(this.pairs),f++}v||m||et.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new ga(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let f of o)if(f.getPairs().length!==i.length){for(let m of f.getPairs())for(let v of i)if(hn.equals(m,v))break}}static isPartialRow(i,o){for(let f of o){let m=!0;for(let v of i){let w=!1;for(let S of f.getPairs())if(v.equals(S)){w=!0;break}if(!w){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Se.buildBitArray(i),m=or(o).parseInformation(),v=i[0].getFinderPattern().getResultPoints(),w=i[i.length-1].getFinderPattern().getResultPoints(),S=[v[0],v[1],w[0],w[1]];return new Ae(m,null,null,S,Le.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),f=i.getRightChar();if(f==null)return!1;let m=f.getChecksumPortion(),v=2;for(let S=1;S<this.pairs.size();++S){let I=this.pairs.get(S);m+=I.getLeftChar().getChecksumPortion(),v++;let j=I.getRightChar();j!=null&&(m+=j.getChecksumPortion(),v++)}return m%=211,211*(v-4)+m==o.getValue()}static getNextSecondBar(i,o){let f;return i.get(o)?(f=i.getNextUnset(o),f=i.getNextSet(f)):(f=i.getNextSet(o),f=i.getNextUnset(f)),f}retrieveNextPair(i,o,f){let m=o.length%2==0;this.startFromEven&&(m=!m);let v,w=!0,S=-1;do this.findNextPair(i,o,S),v=this.parseFoundFinderPattern(i,f,m),v==null?S=et.getNextSecondBar(i,this.startEnd[0]):w=!1;while(w);let I=this.decodeDataCharacter(i,v,m,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new Z;let j;try{j=this.decodeDataCharacter(i,v,m,!1)}catch($){j=null,this.verbose&&console.log($)}return new hn(I,j,v,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,f){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=i.getSize(),w;f>=0?w=f:this.isEmptyPair(o)?w=0:w=o[o.length-1].getFinderPattern().getStartEnd()[1];let S=o.length%2!=0;this.startFromEven&&(S=!S);let I=!1;for(;w<v&&(I=!i.get(w),!!I);)w++;let j=0,$=w;for(let ae=w;ae<v;ae++)if(i.get(ae)!=I)m[j]++;else{if(j==3){if(S&&et.reverseCounters(m),et.isFinderPattern(m)){this.startEnd[0]=$,this.startEnd[1]=ae;return}S&&et.reverseCounters(m),$+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,j--}else j++;m[j]=1,I=!I}throw new Z}static reverseCounters(i){let o=i.length;for(let f=0;f<o/2;++f){let m=i[f];i[f]=i[o-f-1],i[o-f-1]=m}}parseFoundFinderPattern(i,o,f){let m,v,w;if(f){let j=this.startEnd[0]-1;for(;j>=0&&!i.get(j);)j--;j++,m=this.startEnd[0]-j,v=j,w=this.startEnd[1]}else v=this.startEnd[0],w=i.getNextUnset(this.startEnd[1]+1),m=w-this.startEnd[1];let S=this.getDecodeFinderCounters();N.arraycopy(S,0,S,1,S.length-1),S[0]=m;let I;try{I=this.parseFinderValue(S,et.FINDER_PATTERNS)}catch{return null}return new Bi(I,[v,w],v,w,o)}decodeDataCharacter(i,o,f,m){let v=this.getDataCharacterCounters();for(let Tn=0;Tn<v.length;Tn++)v[Tn]=0;if(m)et.recordPatternInReverse(i,o.getStartEnd()[0],v);else{et.recordPattern(i,o.getStartEnd()[1],v);for(let Tn=0,Nr=v.length-1;Tn<Nr;Tn++,Nr--){let ri=v[Tn];v[Tn]=v[Nr],v[Nr]=ri}}let w=17,S=Ee.sum(new Int32Array(v))/w,I=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(S-I)/I>.3)throw new Z;let j=this.getOddCounts(),$=this.getEvenCounts(),ae=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let Tn=0;Tn<v.length;Tn++){let Nr=1*v[Tn]/S,ri=Nr+.5;if(ri<1){if(Nr<.3)throw new Z;ri=1}else if(ri>8){if(Nr>8.7)throw new Z;ri=8}let ja=Tn/2;(Tn&1)==0?(j[ja]=ri,ae[ja]=Nr-ri):($[ja]=ri,le[ja]=Nr-ri)}this.adjustOddEvenCounts(w);let ve=4*o.getValue()+(f?0:2)+(m?0:1)-1,be=0,Ce=0;for(let Tn=j.length-1;Tn>=0;Tn--){if(et.isNotA1left(o,f,m)){let Nr=et.WEIGHTS[ve][2*Tn];Ce+=j[Tn]*Nr}be+=j[Tn]}let Pe=0;for(let Tn=$.length-1;Tn>=0;Tn--)if(et.isNotA1left(o,f,m)){let Nr=et.WEIGHTS[ve][2*Tn+1];Pe+=$[Tn]*Nr}let Fe=Ce+Pe;if((be&1)!=0||be>13||be<4)throw new Z;let st=(13-be)/2,ot=et.SYMBOL_WIDEST[st],it=9-ot,an=Lr.getRSSvalue(j,ot,!0),zt=Lr.getRSSvalue($,it,!1),Hn=et.EVEN_TOTAL_SUBSET[st],qr=et.GSUM[st],Wr=an*Hn+zt+qr;return new yi(Wr,Fe)}static isNotA1left(i,o,f){return!(i.getValue()==0&&o&&f)}adjustOddEvenCounts(i){let o=Ee.sum(new Int32Array(this.getOddCounts())),f=Ee.sum(new Int32Array(this.getEvenCounts())),m=!1,v=!1;o>13?v=!0:o<4&&(m=!0);let w=!1,S=!1;f>13?S=!0:f<4&&(w=!0);let I=o+f-i,j=(o&1)==1,$=(f&1)==0;if(I==1)if(j){if($)throw new Z;v=!0}else{if(!$)throw new Z;S=!0}else if(I==-1)if(j){if($)throw new Z;m=!0}else{if(!$)throw new Z;w=!0}else if(I==0){if(j){if(!$)throw new Z;o<f?(m=!0,S=!0):(v=!0,w=!0)}else if($)throw new Z}else throw new Z;if(m){if(v)throw new Z;et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new Z;et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.SYMBOL_WIDEST=[7,5,4,3,1],et.EVEN_TOTAL_SUBSET=[4,20,52,104,204],et.GSUM=[0,348,1388,2948,3988],et.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],et.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],et.FINDER_PAT_A=0,et.FINDER_PAT_B=1,et.FINDER_PAT_C=2,et.FINDER_PAT_D=3,et.FINDER_PAT_E=4,et.FINDER_PAT_F=5,et.FINDER_PATTERN_SEQUENCES=[[et.FINDER_PAT_A,et.FINDER_PAT_A],[et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B],[et.FINDER_PAT_A,et.FINDER_PAT_C,et.FINDER_PAT_B,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_C],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F]],et.MAX_PAIRS=11;class Hr extends yi{constructor(i,o,f){super(i,o),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Sn extends $n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,f){const m=this.decodePair(o,!1,i,f);Sn.addOrTally(this.possibleLeftPairs,m),o.reverse();let v=this.decodePair(o,!0,i,f);Sn.addOrTally(this.possibleRightPairs,v),o.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&Sn.checkChecksum(w,S))return Sn.constructResult(w,S)}throw new Z}static addOrTally(i,o){if(o==null)return;let f=!1;for(let m of i)if(m.getValue()===o.getValue()){m.incrementCount(),f=!0;break}f||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let f=4537077*i.getValue()+o.getValue(),m=new String(f).toString(),v=new ee;for(let j=13-m.length;j>0;j--)v.append("0");v.append(m);let w=0;for(let j=0;j<13;j++){let $=v.charAt(j).charCodeAt(0)-48;w+=(j&1)===0?3*$:$}w=10-w%10,w===10&&(w=0),v.append(w.toString());let S=i.getFinderPattern().getResultPoints(),I=o.getFinderPattern().getResultPoints();return new Ae(v.toString(),null,0,[S[0],S[1],I[0],I[1]],Le.RSS_14,new Date().getTime())}static checkChecksum(i,o){let f=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,m=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,f===m}decodePair(i,o,f,m){try{let v=this.findFinderPattern(i,o),w=this.parseFoundFinderPattern(i,f,o,v),S=m==null?null:m.get(Y.NEED_RESULT_POINT_CALLBACK);if(S!=null){let $=(v[0]+v[1])/2;o&&($=i.getSize()-1-$),S.foundPossibleResultPoint(new ke($,f))}let I=this.decodeDataCharacter(i,w,!0),j=this.decodeDataCharacter(i,w,!1);return new Hr(1597*I.getValue()+j.getValue(),I.getChecksumPortion()+4*j.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(i,o,f){let m=this.getDataCharacterCounters();for(let Pe=0;Pe<m.length;Pe++)m[Pe]=0;if(f)Nt.recordPatternInReverse(i,o.getStartEnd()[0],m);else{Nt.recordPattern(i,o.getStartEnd()[1]+1,m);for(let Pe=0,Fe=m.length-1;Pe<Fe;Pe++,Fe--){let st=m[Pe];m[Pe]=m[Fe],m[Fe]=st}}let v=f?16:15,w=Ee.sum(new Int32Array(m))/v,S=this.getOddCounts(),I=this.getEvenCounts(),j=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Pe=0;Pe<m.length;Pe++){let Fe=m[Pe]/w,st=Math.floor(Fe+.5);st<1?st=1:st>8&&(st=8);let ot=Math.floor(Pe/2);(Pe&1)===0?(S[ot]=st,j[ot]=Fe-st):(I[ot]=st,$[ot]=Fe-st)}this.adjustOddEvenCounts(f,v);let ae=0,le=0;for(let Pe=S.length-1;Pe>=0;Pe--)le*=9,le+=S[Pe],ae+=S[Pe];let ve=0,be=0;for(let Pe=I.length-1;Pe>=0;Pe--)ve*=9,ve+=I[Pe],be+=I[Pe];let Ce=le+3*ve;if(f){if((ae&1)!==0||ae>12||ae<4)throw new Z;let Pe=(12-ae)/2,Fe=Sn.OUTSIDE_ODD_WIDEST[Pe],st=9-Fe,ot=Lr.getRSSvalue(S,Fe,!1),it=Lr.getRSSvalue(I,st,!0),an=Sn.OUTSIDE_EVEN_TOTAL_SUBSET[Pe],zt=Sn.OUTSIDE_GSUM[Pe];return new yi(ot*an+it+zt,Ce)}else{if((be&1)!==0||be>10||be<4)throw new Z;let Pe=(10-be)/2,Fe=Sn.INSIDE_ODD_WIDEST[Pe],st=9-Fe,ot=Lr.getRSSvalue(S,Fe,!0),it=Lr.getRSSvalue(I,st,!1),an=Sn.INSIDE_ODD_TOTAL_SUBSET[Pe],zt=Sn.INSIDE_GSUM[Pe];return new yi(it*an+ot+zt,Ce)}}findFinderPattern(i,o){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=i.getSize(),v=!1,w=0;for(;w<m&&(v=!i.get(w),o!==v);)w++;let S=0,I=w;for(let j=w;j<m;j++)if(i.get(j)!==v)f[S]++;else{if(S===3){if($n.isFinderPattern(f))return[I,j];I+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,S--}else S++;f[S]=1,v=!v}throw new Z}parseFoundFinderPattern(i,o,f,m){let v=i.get(m[0]),w=m[0]-1;for(;w>=0&&v!==i.get(w);)w--;w++;const S=m[0]-w,I=this.getDecodeFinderCounters(),j=new Int32Array(I.length);N.arraycopy(I,0,j,1,I.length-1),j[0]=S;const $=this.parseFinderValue(j,Sn.FINDER_PATTERNS);let ae=w,le=m[1];return f&&(ae=i.getSize()-1-ae,le=i.getSize()-1-le),new Bi($,[w,m[1]],ae,le,o)}adjustOddEvenCounts(i,o){let f=Ee.sum(new Int32Array(this.getOddCounts())),m=Ee.sum(new Int32Array(this.getEvenCounts())),v=!1,w=!1,S=!1,I=!1;i?(f>12?w=!0:f<4&&(v=!0),m>12?I=!0:m<4&&(S=!0)):(f>11?w=!0:f<5&&(v=!0),m>10?I=!0:m<4&&(S=!0));let j=f+m-o,$=(f&1)===(i?1:0),ae=(m&1)===1;if(j===1)if($){if(ae)throw new Z;w=!0}else{if(!ae)throw new Z;I=!0}else if(j===-1)if($){if(ae)throw new Z;v=!0}else{if(!ae)throw new Z;S=!0}else if(j===0){if($){if(!ae)throw new Z;f<m?(v=!0,I=!0):(w=!0,S=!0)}else if(ae)throw new Z}else throw new Z;if(v){if(w)throw new Z;$n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&$n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(I)throw new Z;$n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&$n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Sn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Sn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Sn.OUTSIDE_GSUM=[0,161,961,2015,2715],Sn.INSIDE_GSUM=[0,336,1036,1516],Sn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Sn.INSIDE_ODD_WIDEST=[2,4,6,8],Sn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ir extends Nt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const f=i?i.get(Y.POSSIBLE_FORMATS):null,m=i&&i.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(Le.EAN_13)||f.includes(Le.UPC_A)||f.includes(Le.EAN_8)||f.includes(Le.UPC_E))&&this.readers.push(new Xa(i)),f.includes(Le.CODE_39)&&this.readers.push(new Ln(m)),f.includes(Le.CODE_128)&&this.readers.push(new rt),f.includes(Le.ITF)&&this.readers.push(new Ft),f.includes(Le.RSS_14)&&this.readers.push(new Sn),f.includes(Le.RSS_EXPANDED)&&this.readers.push(new et(this.verbose))):(this.readers.push(new Xa(i)),this.readers.push(new Ln),this.readers.push(new Xa(i)),this.readers.push(new rt),this.readers.push(new Ft),this.readers.push(new Sn),this.readers.push(new et(this.verbose)))}decodeRow(i,o,f){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(i,o,f)}catch{}throw new Z}reset(){this.readers.forEach(i=>i.reset())}}class rn extends Ie{constructor(i=500,o){super(new ir(o),i,o)}}class Dt{constructor(i,o,f){this.ecCodewords=i,this.ecBlocks=[o],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Kt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(i,o,f,m,v,w){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=f,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=v,this.ecBlocks=w;let S=0;const I=w.getECCodewords(),j=w.getECBlocks();for(let $ of j)S+=$.getCount()*($.getDataCodewords()+I);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new V;for(let f of qt.VERSIONS)if(f.symbolSizeRows===i&&f.symbolSizeColumns===o)return f;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new qt(1,10,10,8,8,new Dt(5,new Kt(1,3))),new qt(2,12,12,10,10,new Dt(7,new Kt(1,5))),new qt(3,14,14,12,12,new Dt(10,new Kt(1,8))),new qt(4,16,16,14,14,new Dt(12,new Kt(1,12))),new qt(5,18,18,16,16,new Dt(14,new Kt(1,18))),new qt(6,20,20,18,18,new Dt(18,new Kt(1,22))),new qt(7,22,22,20,20,new Dt(20,new Kt(1,30))),new qt(8,24,24,22,22,new Dt(24,new Kt(1,36))),new qt(9,26,26,24,24,new Dt(28,new Kt(1,44))),new qt(10,32,32,14,14,new Dt(36,new Kt(1,62))),new qt(11,36,36,16,16,new Dt(42,new Kt(1,86))),new qt(12,40,40,18,18,new Dt(48,new Kt(1,114))),new qt(13,44,44,20,20,new Dt(56,new Kt(1,144))),new qt(14,48,48,22,22,new Dt(68,new Kt(1,174))),new qt(15,52,52,24,24,new Dt(42,new Kt(2,102))),new qt(16,64,64,14,14,new Dt(56,new Kt(2,140))),new qt(17,72,72,16,16,new Dt(36,new Kt(4,92))),new qt(18,80,80,18,18,new Dt(48,new Kt(4,114))),new qt(19,88,88,20,20,new Dt(56,new Kt(4,144))),new qt(20,96,96,22,22,new Dt(68,new Kt(4,174))),new qt(21,104,104,24,24,new Dt(56,new Kt(6,136))),new qt(22,120,120,18,18,new Dt(68,new Kt(6,175))),new qt(23,132,132,20,20,new Dt(62,new Kt(8,163))),new qt(24,144,144,22,22,new Dt(62,new Kt(8,156),new Kt(2,155))),new qt(25,8,18,6,16,new Dt(7,new Kt(1,5))),new qt(26,8,32,6,14,new Dt(11,new Kt(1,10))),new qt(27,12,26,10,24,new Dt(14,new Kt(1,16))),new qt(28,12,36,10,16,new Dt(18,new Kt(1,22))),new qt(29,16,36,14,16,new Dt(24,new Kt(1,32))),new qt(30,16,48,14,22,new Dt(28,new Kt(1,49)))]}}qt.VERSIONS=qt.buildVersions();class Ot{constructor(i){const o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new V;this.version=Ot.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),f=i.getWidth();return qt.getVersionForDimensions(o,f)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,f=4,m=0;const v=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let S=!1,I=!1,j=!1,$=!1;do if(f===v&&m===0&&!S)i[o++]=this.readCorner1(v,w)&255,f-=2,m+=2,S=!0;else if(f===v-2&&m===0&&(w&3)!==0&&!I)i[o++]=this.readCorner2(v,w)&255,f-=2,m+=2,I=!0;else if(f===v+4&&m===2&&(w&7)===0&&!j)i[o++]=this.readCorner3(v,w)&255,f-=2,m+=2,j=!0;else if(f===v-2&&m===0&&(w&7)===4&&!$)i[o++]=this.readCorner4(v,w)&255,f-=2,m+=2,$=!0;else{do f<v&&m>=0&&!this.readMappingMatrix.get(m,f)&&(i[o++]=this.readUtah(f,m,v,w)&255),f-=2,m+=2;while(f>=0&&m<w);f+=1,m+=3;do f>=0&&m<w&&!this.readMappingMatrix.get(m,f)&&(i[o++]=this.readUtah(f,m,v,w)&255),f+=2,m-=2;while(f<v&&m>=0);f+=3,m+=1}while(f<v||m<w);if(o!==this.version.getTotalCodewords())throw new V;return i}readModule(i,o,f,m){return i<0&&(i+=f,o+=4-(f+4&7)),o<0&&(o+=m,i+=4-(m+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,f,m){let v=0;return this.readModule(i-2,o-2,f,m)&&(v|=1),v<<=1,this.readModule(i-2,o-1,f,m)&&(v|=1),v<<=1,this.readModule(i-1,o-2,f,m)&&(v|=1),v<<=1,this.readModule(i-1,o-1,f,m)&&(v|=1),v<<=1,this.readModule(i-1,o,f,m)&&(v|=1),v<<=1,this.readModule(i,o-2,f,m)&&(v|=1),v<<=1,this.readModule(i,o-1,f,m)&&(v|=1),v<<=1,this.readModule(i,o,f,m)&&(v|=1),v}readCorner1(i,o){let f=0;return this.readModule(i-1,0,i,o)&&(f|=1),f<<=1,this.readModule(i-1,1,i,o)&&(f|=1),f<<=1,this.readModule(i-1,2,i,o)&&(f|=1),f<<=1,this.readModule(0,o-2,i,o)&&(f|=1),f<<=1,this.readModule(0,o-1,i,o)&&(f|=1),f<<=1,this.readModule(1,o-1,i,o)&&(f|=1),f<<=1,this.readModule(2,o-1,i,o)&&(f|=1),f<<=1,this.readModule(3,o-1,i,o)&&(f|=1),f}readCorner2(i,o){let f=0;return this.readModule(i-3,0,i,o)&&(f|=1),f<<=1,this.readModule(i-2,0,i,o)&&(f|=1),f<<=1,this.readModule(i-1,0,i,o)&&(f|=1),f<<=1,this.readModule(0,o-4,i,o)&&(f|=1),f<<=1,this.readModule(0,o-3,i,o)&&(f|=1),f<<=1,this.readModule(0,o-2,i,o)&&(f|=1),f<<=1,this.readModule(0,o-1,i,o)&&(f|=1),f<<=1,this.readModule(1,o-1,i,o)&&(f|=1),f}readCorner3(i,o){let f=0;return this.readModule(i-1,0,i,o)&&(f|=1),f<<=1,this.readModule(i-1,o-1,i,o)&&(f|=1),f<<=1,this.readModule(0,o-3,i,o)&&(f|=1),f<<=1,this.readModule(0,o-2,i,o)&&(f|=1),f<<=1,this.readModule(0,o-1,i,o)&&(f|=1),f<<=1,this.readModule(1,o-3,i,o)&&(f|=1),f<<=1,this.readModule(1,o-2,i,o)&&(f|=1),f<<=1,this.readModule(1,o-1,i,o)&&(f|=1),f}readCorner4(i,o){let f=0;return this.readModule(i-3,0,i,o)&&(f|=1),f<<=1,this.readModule(i-2,0,i,o)&&(f|=1),f<<=1,this.readModule(i-1,0,i,o)&&(f|=1),f<<=1,this.readModule(0,o-2,i,o)&&(f|=1),f<<=1,this.readModule(0,o-1,i,o)&&(f|=1),f<<=1,this.readModule(1,o-1,i,o)&&(f|=1),f<<=1,this.readModule(2,o-1,i,o)&&(f|=1),f<<=1,this.readModule(3,o-1,i,o)&&(f|=1),f}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),w=o/m|0,S=f/v|0,I=w*m,j=S*v,$=new z(j,I);for(let ae=0;ae<w;++ae){const le=ae*m;for(let ve=0;ve<S;++ve){const be=ve*v;for(let Ce=0;Ce<m;++Ce){const Pe=ae*(m+2)+1+Ce,Fe=le+Ce;for(let st=0;st<v;++st){const ot=ve*(v+2)+1+st;if(i.get(ot,Pe)){const it=be+st;$.set(it,Fe)}}}}}return $}}class pn{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const f=o.getECBlocks();let m=0;const v=f.getECBlocks();for(let Ce of v)m+=Ce.getCount();const w=new Array(m);let S=0;for(let Ce of v)for(let Pe=0;Pe<Ce.getCount();Pe++){const Fe=Ce.getDataCodewords(),st=f.getECCodewords()+Fe;w[S++]=new pn(Fe,new Uint8Array(st))}const j=w[0].codewords.length-f.getECCodewords(),$=j-1;let ae=0;for(let Ce=0;Ce<$;Ce++)for(let Pe=0;Pe<S;Pe++)w[Pe].codewords[Ce]=i[ae++];const le=o.getVersionNumber()===24,ve=le?8:S;for(let Ce=0;Ce<ve;Ce++)w[Ce].codewords[j-1]=i[ae++];const be=w[0].codewords.length;for(let Ce=j;Ce<be;Ce++)for(let Pe=0;Pe<S;Pe++){const Fe=le?(Pe+8)%S:Pe,st=le&&Fe>7?Ce-1:Ce;w[Fe].codewords[st]=i[ae++]}if(ae!==i.length)throw new E;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Cr{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new E(""+i);let o=0,f=this.bitOffset,m=this.byteOffset;const v=this.bytes;if(f>0){const w=8-f,S=i<w?i:w,I=w-S,j=255>>8-S<<I;o=(v[m]&j)>>I,i-=S,f+=S,f===8&&(f=0,m++)}if(i>0){for(;i>=8;)o=o<<8|v[m]&255,m++,i-=8;if(i>0){const w=8-i,S=255>>w<<w;o=o<<i|(v[m]&S)>>w,f+=i}}return this.bitOffset=f,this.byteOffset=m,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var on;(function(ie){ie[ie.PAD_ENCODE=0]="PAD_ENCODE",ie[ie.ASCII_ENCODE=1]="ASCII_ENCODE",ie[ie.C40_ENCODE=2]="C40_ENCODE",ie[ie.TEXT_ENCODE=3]="TEXT_ENCODE",ie[ie.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ie[ie.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ie[ie.BASE256_ENCODE=6]="BASE256_ENCODE"})(on||(on={}));class $r{static decode(i){const o=new Cr(i),f=new ee,m=new ee,v=new Array;let w=on.ASCII_ENCODE;do if(w===on.ASCII_ENCODE)w=this.decodeAsciiSegment(o,f,m);else{switch(w){case on.C40_ENCODE:this.decodeC40Segment(o,f);break;case on.TEXT_ENCODE:this.decodeTextSegment(o,f);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,f);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(o,f);break;case on.BASE256_ENCODE:this.decodeBase256Segment(o,f,v);break;default:throw new V}w=on.ASCII_ENCODE}while(w!==on.PAD_ENCODE&&o.available()>0);return m.length()>0&&f.append(m.toString()),new ft(i,f.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(i,o,f){let m=!1;do{let v=i.readBits(8);if(v===0)throw new V;if(v<=128)return m&&(v+=128),o.append(String.fromCharCode(v-1)),on.ASCII_ENCODE;if(v===129)return on.PAD_ENCODE;if(v<=229){const w=v-130;w<10&&o.append("0"),o.append(""+w)}else switch(v){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:o.append("[)>05"),f.insert(0,"");break;case 237:o.append("[)>06"),f.insert(0,"");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;case 241:break;default:if(v!==254||i.available()!==0)throw new V;break}}while(i.available()>0);return on.ASCII_ENCODE}static decodeC40Segment(i,o){let f=!1;const m=[];let v=0;do{if(i.available()===8)return;const w=i.readBits(8);if(w===254)return;this.parseTwoBytes(w,i.readBits(8),m);for(let S=0;S<3;S++){const I=m[S];switch(v){case 0:if(I<3)v=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const j=this.C40_BASIC_SET_CHARS[I];f?(o.append(String.fromCharCode(j.charCodeAt(0)+128)),f=!1):o.append(j)}else throw new V;break;case 1:f?(o.append(String.fromCharCode(I+128)),f=!1):o.append(String.fromCharCode(I)),v=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const j=this.C40_SHIFT2_SET_CHARS[I];f?(o.append(String.fromCharCode(j.charCodeAt(0)+128)),f=!1):o.append(j)}else switch(I){case 27:o.append("");break;case 30:f=!0;break;default:throw new V}v=0;break;case 3:f?(o.append(String.fromCharCode(I+224)),f=!1):o.append(String.fromCharCode(I+96)),v=0;break;default:throw new V}}}while(i.available()>0)}static decodeTextSegment(i,o){let f=!1,m=[],v=0;do{if(i.available()===8)return;const w=i.readBits(8);if(w===254)return;this.parseTwoBytes(w,i.readBits(8),m);for(let S=0;S<3;S++){const I=m[S];switch(v){case 0:if(I<3)v=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const j=this.TEXT_BASIC_SET_CHARS[I];f?(o.append(String.fromCharCode(j.charCodeAt(0)+128)),f=!1):o.append(j)}else throw new V;break;case 1:f?(o.append(String.fromCharCode(I+128)),f=!1):o.append(String.fromCharCode(I)),v=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const j=this.TEXT_SHIFT2_SET_CHARS[I];f?(o.append(String.fromCharCode(j.charCodeAt(0)+128)),f=!1):o.append(j)}else switch(I){case 27:o.append("");break;case 30:f=!0;break;default:throw new V}v=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const j=this.TEXT_SHIFT3_SET_CHARS[I];f?(o.append(String.fromCharCode(j.charCodeAt(0)+128)),f=!1):o.append(j),v=0}else throw new V;break;default:throw new V}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const f=[];do{if(i.available()===8)return;const m=i.readBits(8);if(m===254)return;this.parseTwoBytes(m,i.readBits(8),f);for(let v=0;v<3;v++){const w=f[v];switch(w){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(w<14)o.append(String.fromCharCode(w+44));else if(w<40)o.append(String.fromCharCode(w+51));else throw new V;break}}}while(i.available()>0)}static parseTwoBytes(i,o,f){let m=(i<<8)+o-1,v=Math.floor(m/1600);f[0]=v,m-=v*1600,v=Math.floor(m/40),f[1]=v,f[2]=m-v*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let f=0;f<4;f++){let m=i.readBits(6);if(m===31){const v=8-i.getBitOffset();v!==8&&i.readBits(v);return}(m&32)===0&&(m|=64),o.append(String.fromCharCode(m))}}while(i.available()>0)}static decodeBase256Segment(i,o,f){let m=1+i.getByteOffset();const v=this.unrandomize255State(i.readBits(8),m++);let w;if(v===0?w=i.available()/8|0:v<250?w=v:w=250*(v-249)+this.unrandomize255State(i.readBits(8),m++),w<0)throw new V;const S=new Uint8Array(w);for(let I=0;I<w;I++){if(i.available()<8)throw new V;S[I]=this.unrandomize255State(i.readBits(8),m++)}f.push(S);try{o.append(Q.decode(S,H.ISO88591))}catch(I){throw new Ye("Platform does not support required encoding: "+I.message)}}static unrandomize255State(i,o){const f=149*o%255+1,m=i-f;return m>=0?m:m+256}}$r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$r.TEXT_SHIFT2_SET_CHARS=$r.C40_SHIFT2_SET_CHARS,$r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Yo{constructor(){this.rsDecoder=new Ue(Tt.DATA_MATRIX_FIELD_256)}decode(i){const o=new Ot(i),f=o.getVersion(),m=o.readCodewords(),v=pn.getDataBlocks(m,f);let w=0;for(let j of v)w+=j.getNumDataCodewords();const S=new Uint8Array(w),I=v.length;for(let j=0;j<I;j++){const $=v[j],ae=$.getCodewords(),le=$.getNumDataCodewords();this.correctErrors(ae,le);for(let ve=0;ve<le;ve++)S[ve*I+j]=ae[ve]}return $r.decode(S)}correctErrors(i,o){const f=new Int32Array(i);try{this.rsDecoder.decode(f,i.length-o)}catch{throw new C}for(let m=0;m<o;m++)i[m]=f[m]}}class Et{constructor(i){this.image=i,this.rectangleDetector=new lt(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new Z;o=this.shiftToModuleCenter(o);const f=o[0],m=o[1],v=o[2],w=o[3];let S=this.transitionsBetween(f,w)+1,I=this.transitionsBetween(v,w)+1;(S&1)===1&&(S+=1),(I&1)===1&&(I+=1),4*S<7*I&&4*I<7*S&&(S=I=Math.max(S,I));let j=Et.sampleGrid(this.image,f,m,v,w,S,I);return new je(j,[f,m,v,w])}static shiftPoint(i,o,f){let m=(o.getX()-i.getX())/(f+1),v=(o.getY()-i.getY())/(f+1);return new ke(i.getX()+m,i.getY()+v)}static moveAway(i,o,f){let m=i.getX(),v=i.getY();return m<o?m-=1:m+=1,v<f?v-=1:v+=1,new ke(m,v)}detectSolid1(i){let o=i[0],f=i[1],m=i[3],v=i[2],w=this.transitionsBetween(o,f),S=this.transitionsBetween(f,m),I=this.transitionsBetween(m,v),j=this.transitionsBetween(v,o),$=w,ae=[v,o,f,m];return $>S&&($=S,ae[0]=o,ae[1]=f,ae[2]=m,ae[3]=v),$>I&&($=I,ae[0]=f,ae[1]=m,ae[2]=v,ae[3]=o),$>j&&(ae[0]=m,ae[1]=v,ae[2]=o,ae[3]=f),ae}detectSolid2(i){let o=i[0],f=i[1],m=i[2],v=i[3],w=this.transitionsBetween(o,v),S=Et.shiftPoint(f,m,(w+1)*4),I=Et.shiftPoint(m,f,(w+1)*4),j=this.transitionsBetween(S,o),$=this.transitionsBetween(I,v);return j<$?(i[0]=o,i[1]=f,i[2]=m,i[3]=v):(i[0]=f,i[1]=m,i[2]=v,i[3]=o),i}correctTopRight(i){let o=i[0],f=i[1],m=i[2],v=i[3],w=this.transitionsBetween(o,v),S=this.transitionsBetween(f,v),I=Et.shiftPoint(o,f,(S+1)*4),j=Et.shiftPoint(m,f,(w+1)*4);w=this.transitionsBetween(I,v),S=this.transitionsBetween(j,v);let $=new ke(v.getX()+(m.getX()-f.getX())/(w+1),v.getY()+(m.getY()-f.getY())/(w+1)),ae=new ke(v.getX()+(o.getX()-f.getX())/(S+1),v.getY()+(o.getY()-f.getY())/(S+1));if(!this.isValid($))return this.isValid(ae)?ae:null;if(!this.isValid(ae))return $;let le=this.transitionsBetween(I,$)+this.transitionsBetween(j,$),ve=this.transitionsBetween(I,ae)+this.transitionsBetween(j,ae);return le>ve?$:ae}shiftToModuleCenter(i){let o=i[0],f=i[1],m=i[2],v=i[3],w=this.transitionsBetween(o,v)+1,S=this.transitionsBetween(m,v)+1,I=Et.shiftPoint(o,f,S*4),j=Et.shiftPoint(m,f,w*4);w=this.transitionsBetween(I,v)+1,S=this.transitionsBetween(j,v)+1,(w&1)===1&&(w+=1),(S&1)===1&&(S+=1);let $=(o.getX()+f.getX()+m.getX()+v.getX())/4,ae=(o.getY()+f.getY()+m.getY()+v.getY())/4;o=Et.moveAway(o,$,ae),f=Et.moveAway(f,$,ae),m=Et.moveAway(m,$,ae),v=Et.moveAway(v,$,ae);let le,ve;return I=Et.shiftPoint(o,f,S*4),I=Et.shiftPoint(I,v,w*4),le=Et.shiftPoint(f,o,S*4),le=Et.shiftPoint(le,m,w*4),j=Et.shiftPoint(m,v,S*4),j=Et.shiftPoint(j,f,w*4),ve=Et.shiftPoint(v,m,S*4),ve=Et.shiftPoint(ve,o,w*4),[I,le,j,ve]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,f,m,v,w,S){return It.getInstance().sampleGrid(i,w,S,.5,.5,w-.5,.5,w-.5,S-.5,.5,S-.5,o.getX(),o.getY(),v.getX(),v.getY(),m.getX(),m.getY(),f.getX(),f.getY())}transitionsBetween(i,o){let f=Math.trunc(i.getX()),m=Math.trunc(i.getY()),v=Math.trunc(o.getX()),w=Math.trunc(o.getY()),S=Math.abs(w-m)>Math.abs(v-f);if(S){let Ce=f;f=m,m=Ce,Ce=v,v=w,w=Ce}let I=Math.abs(v-f),j=Math.abs(w-m),$=-I/2,ae=m<w?1:-1,le=f<v?1:-1,ve=0,be=this.image.get(S?m:f,S?f:m);for(let Ce=f,Pe=m;Ce!==v;Ce+=le){let Fe=this.image.get(S?Pe:Ce,S?Ce:Pe);if(Fe!==be&&(ve++,be=Fe),$+=j,$>0){if(Pe===w)break;Pe+=ae,$-=I}}return ve}}class Nn{constructor(){this.decoder=new Yo}decode(i,o=null){let f,m;if(o!=null&&o.has(Y.PURE_BARCODE)){const j=Nn.extractPureBits(i.getBlackMatrix());f=this.decoder.decode(j),m=Nn.NO_POINTS}else{const j=new Et(i.getBlackMatrix()).detect();f=this.decoder.decode(j.getBits()),m=j.getPoints()}const v=f.getRawBytes(),w=new Ae(f.getText(),v,8*v.length,m,Le.DATA_MATRIX,N.currentTimeMillis()),S=f.getByteSegments();S!=null&&w.putMetadata(Ze.BYTE_SEGMENTS,S);const I=f.getECLevel();return I!=null&&w.putMetadata(Ze.ERROR_CORRECTION_LEVEL,I),w}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),f=i.getBottomRightOnBit();if(o==null||f==null)throw new Z;const m=this.moduleSize(o,i);let v=o[1];const w=f[1];let S=o[0];const j=(f[0]-S+1)/m,$=(w-v+1)/m;if(j<=0||$<=0)throw new Z;const ae=m/2;v+=ae,S+=ae;const le=new z(j,$);for(let ve=0;ve<$;ve++){const be=v+ve*m;for(let Ce=0;Ce<j;Ce++)i.get(S+Ce*m,be)&&le.set(Ce,ve)}return le}static moduleSize(i,o){const f=o.getWidth();let m=i[0];const v=i[1];for(;m<f&&o.get(m,v);)m++;if(m===f)throw new Z;const w=m-i[0];if(w===0)throw new Z;return w}}Nn.NO_POINTS=[];class $a extends Ie{constructor(i=500){super(new Nn,i)}}var Xi;(function(ie){ie[ie.L=0]="L",ie[ie.M=1]="M",ie[ie.Q=2]="Q",ie[ie.H=3]="H"})(Xi||(Xi={}));class jt{constructor(i,o,f){this.value=i,this.stringValue=o,this.bits=f,jt.FOR_BITS.set(f,this),jt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return jt.L;case"M":return jt.M;case"Q":return jt.Q;case"H":return jt.H;default:throw new b(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof jt))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=jt.FOR_BITS.size)throw new E;return jt.FOR_BITS.get(i)}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.L=new jt(Xi.L,"L",1),jt.M=new jt(Xi.M,"M",0),jt.Q=new jt(Xi.Q,"Q",3),jt.H=new jt(Xi.H,"H",2);class gr{constructor(i){this.errorCorrectionLevel=jt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return B.bitCount(i^o)}static decodeFormatInformation(i,o){const f=gr.doDecodeFormatInformation(i,o);return f!==null?f:gr.doDecodeFormatInformation(i^gr.FORMAT_INFO_MASK_QR,o^gr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let f=Number.MAX_SAFE_INTEGER,m=0;for(const v of gr.FORMAT_INFO_DECODE_LOOKUP){const w=v[0];if(w===i||w===o)return new gr(v[1]);let S=gr.numBitsDiffering(i,w);S<f&&(m=v[1],f=S),i!==o&&(S=gr.numBitsDiffering(o,w),S<f&&(m=v[1],f=S))}return f<=3?new gr(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof gr))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}gr.FORMAT_INFO_MASK_QR=21522,gr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Be{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const f of o)i+=f.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class me{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(i,o,...f){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=f;let m=0;const v=f[0].getECCodewordsPerBlock(),w=f[0].getECBlocks();for(const S of w)m+=S.getCount()*(S.getDataCodewords()+v);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new V;try{return this.getVersionForNumber((i-17)/4)}catch{throw new V}}static getVersionForNumber(i){if(i<1||i>40)throw new E;return mt.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,f=0;for(let m=0;m<mt.VERSION_DECODE_INFO.length;m++){const v=mt.VERSION_DECODE_INFO[m];if(v===i)return mt.getVersionForNumber(m+7);const w=gr.numBitsDiffering(i,v);w<o&&(f=m+7,o=w)}return o<=3?mt.getVersionForNumber(f):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new z(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const f=this.alignmentPatternCenters.length;for(let m=0;m<f;m++){const v=this.alignmentPatternCenters[m]-2;for(let w=0;w<f;w++)m===0&&(w===0||w===f-1)||m===f-1&&w===0||o.setRegion(this.alignmentPatternCenters[w]-2,v,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new Be(7,new me(1,19)),new Be(10,new me(1,16)),new Be(13,new me(1,13)),new Be(17,new me(1,9))),new mt(2,Int32Array.from([6,18]),new Be(10,new me(1,34)),new Be(16,new me(1,28)),new Be(22,new me(1,22)),new Be(28,new me(1,16))),new mt(3,Int32Array.from([6,22]),new Be(15,new me(1,55)),new Be(26,new me(1,44)),new Be(18,new me(2,17)),new Be(22,new me(2,13))),new mt(4,Int32Array.from([6,26]),new Be(20,new me(1,80)),new Be(18,new me(2,32)),new Be(26,new me(2,24)),new Be(16,new me(4,9))),new mt(5,Int32Array.from([6,30]),new Be(26,new me(1,108)),new Be(24,new me(2,43)),new Be(18,new me(2,15),new me(2,16)),new Be(22,new me(2,11),new me(2,12))),new mt(6,Int32Array.from([6,34]),new Be(18,new me(2,68)),new Be(16,new me(4,27)),new Be(24,new me(4,19)),new Be(28,new me(4,15))),new mt(7,Int32Array.from([6,22,38]),new Be(20,new me(2,78)),new Be(18,new me(4,31)),new Be(18,new me(2,14),new me(4,15)),new Be(26,new me(4,13),new me(1,14))),new mt(8,Int32Array.from([6,24,42]),new Be(24,new me(2,97)),new Be(22,new me(2,38),new me(2,39)),new Be(22,new me(4,18),new me(2,19)),new Be(26,new me(4,14),new me(2,15))),new mt(9,Int32Array.from([6,26,46]),new Be(30,new me(2,116)),new Be(22,new me(3,36),new me(2,37)),new Be(20,new me(4,16),new me(4,17)),new Be(24,new me(4,12),new me(4,13))),new mt(10,Int32Array.from([6,28,50]),new Be(18,new me(2,68),new me(2,69)),new Be(26,new me(4,43),new me(1,44)),new Be(24,new me(6,19),new me(2,20)),new Be(28,new me(6,15),new me(2,16))),new mt(11,Int32Array.from([6,30,54]),new Be(20,new me(4,81)),new Be(30,new me(1,50),new me(4,51)),new Be(28,new me(4,22),new me(4,23)),new Be(24,new me(3,12),new me(8,13))),new mt(12,Int32Array.from([6,32,58]),new Be(24,new me(2,92),new me(2,93)),new Be(22,new me(6,36),new me(2,37)),new Be(26,new me(4,20),new me(6,21)),new Be(28,new me(7,14),new me(4,15))),new mt(13,Int32Array.from([6,34,62]),new Be(26,new me(4,107)),new Be(22,new me(8,37),new me(1,38)),new Be(24,new me(8,20),new me(4,21)),new Be(22,new me(12,11),new me(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new Be(30,new me(3,115),new me(1,116)),new Be(24,new me(4,40),new me(5,41)),new Be(20,new me(11,16),new me(5,17)),new Be(24,new me(11,12),new me(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new Be(22,new me(5,87),new me(1,88)),new Be(24,new me(5,41),new me(5,42)),new Be(30,new me(5,24),new me(7,25)),new Be(24,new me(11,12),new me(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new Be(24,new me(5,98),new me(1,99)),new Be(28,new me(7,45),new me(3,46)),new Be(24,new me(15,19),new me(2,20)),new Be(30,new me(3,15),new me(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new Be(28,new me(1,107),new me(5,108)),new Be(28,new me(10,46),new me(1,47)),new Be(28,new me(1,22),new me(15,23)),new Be(28,new me(2,14),new me(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new Be(30,new me(5,120),new me(1,121)),new Be(26,new me(9,43),new me(4,44)),new Be(28,new me(17,22),new me(1,23)),new Be(28,new me(2,14),new me(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new Be(28,new me(3,113),new me(4,114)),new Be(26,new me(3,44),new me(11,45)),new Be(26,new me(17,21),new me(4,22)),new Be(26,new me(9,13),new me(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new Be(28,new me(3,107),new me(5,108)),new Be(26,new me(3,41),new me(13,42)),new Be(30,new me(15,24),new me(5,25)),new Be(28,new me(15,15),new me(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new Be(28,new me(4,116),new me(4,117)),new Be(26,new me(17,42)),new Be(28,new me(17,22),new me(6,23)),new Be(30,new me(19,16),new me(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new Be(28,new me(2,111),new me(7,112)),new Be(28,new me(17,46)),new Be(30,new me(7,24),new me(16,25)),new Be(24,new me(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new Be(30,new me(4,121),new me(5,122)),new Be(28,new me(4,47),new me(14,48)),new Be(30,new me(11,24),new me(14,25)),new Be(30,new me(16,15),new me(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new Be(30,new me(6,117),new me(4,118)),new Be(28,new me(6,45),new me(14,46)),new Be(30,new me(11,24),new me(16,25)),new Be(30,new me(30,16),new me(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new Be(26,new me(8,106),new me(4,107)),new Be(28,new me(8,47),new me(13,48)),new Be(30,new me(7,24),new me(22,25)),new Be(30,new me(22,15),new me(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new Be(28,new me(10,114),new me(2,115)),new Be(28,new me(19,46),new me(4,47)),new Be(28,new me(28,22),new me(6,23)),new Be(30,new me(33,16),new me(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new Be(30,new me(8,122),new me(4,123)),new Be(28,new me(22,45),new me(3,46)),new Be(30,new me(8,23),new me(26,24)),new Be(30,new me(12,15),new me(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new Be(30,new me(3,117),new me(10,118)),new Be(28,new me(3,45),new me(23,46)),new Be(30,new me(4,24),new me(31,25)),new Be(30,new me(11,15),new me(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new Be(30,new me(7,116),new me(7,117)),new Be(28,new me(21,45),new me(7,46)),new Be(30,new me(1,23),new me(37,24)),new Be(30,new me(19,15),new me(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new Be(30,new me(5,115),new me(10,116)),new Be(28,new me(19,47),new me(10,48)),new Be(30,new me(15,24),new me(25,25)),new Be(30,new me(23,15),new me(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new Be(30,new me(13,115),new me(3,116)),new Be(28,new me(2,46),new me(29,47)),new Be(30,new me(42,24),new me(1,25)),new Be(30,new me(23,15),new me(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new Be(30,new me(17,115)),new Be(28,new me(10,46),new me(23,47)),new Be(30,new me(10,24),new me(35,25)),new Be(30,new me(19,15),new me(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new Be(30,new me(17,115),new me(1,116)),new Be(28,new me(14,46),new me(21,47)),new Be(30,new me(29,24),new me(19,25)),new Be(30,new me(11,15),new me(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new Be(30,new me(13,115),new me(6,116)),new Be(28,new me(14,46),new me(23,47)),new Be(30,new me(44,24),new me(7,25)),new Be(30,new me(59,16),new me(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Be(30,new me(12,121),new me(7,122)),new Be(28,new me(12,47),new me(26,48)),new Be(30,new me(39,24),new me(14,25)),new Be(30,new me(22,15),new me(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Be(30,new me(6,121),new me(14,122)),new Be(28,new me(6,47),new me(34,48)),new Be(30,new me(46,24),new me(10,25)),new Be(30,new me(2,15),new me(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Be(30,new me(17,122),new me(4,123)),new Be(28,new me(29,46),new me(14,47)),new Be(30,new me(49,24),new me(10,25)),new Be(30,new me(24,15),new me(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Be(30,new me(4,122),new me(18,123)),new Be(28,new me(13,46),new me(32,47)),new Be(30,new me(48,24),new me(14,25)),new Be(30,new me(42,15),new me(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Be(30,new me(20,117),new me(4,118)),new Be(28,new me(40,47),new me(7,48)),new Be(30,new me(43,24),new me(22,25)),new Be(30,new me(10,15),new me(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Be(30,new me(19,118),new me(6,119)),new Be(28,new me(18,47),new me(31,48)),new Be(30,new me(34,24),new me(34,25)),new Be(30,new me(20,15),new me(61,16)))];var zn;(function(ie){ie[ie.DATA_MASK_000=0]="DATA_MASK_000",ie[ie.DATA_MASK_001=1]="DATA_MASK_001",ie[ie.DATA_MASK_010=2]="DATA_MASK_010",ie[ie.DATA_MASK_011=3]="DATA_MASK_011",ie[ie.DATA_MASK_100=4]="DATA_MASK_100",ie[ie.DATA_MASK_101=5]="DATA_MASK_101",ie[ie.DATA_MASK_110=6]="DATA_MASK_110",ie[ie.DATA_MASK_111=7]="DATA_MASK_111"})(zn||(zn={}));class Ar{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let f=0;f<o;f++)for(let m=0;m<o;m++)this.isMasked(f,m)&&i.flip(m,f)}}Ar.values=new Map([[zn.DATA_MASK_000,new Ar(zn.DATA_MASK_000,(ie,i)=>(ie+i&1)===0)],[zn.DATA_MASK_001,new Ar(zn.DATA_MASK_001,(ie,i)=>(ie&1)===0)],[zn.DATA_MASK_010,new Ar(zn.DATA_MASK_010,(ie,i)=>i%3===0)],[zn.DATA_MASK_011,new Ar(zn.DATA_MASK_011,(ie,i)=>(ie+i)%3===0)],[zn.DATA_MASK_100,new Ar(zn.DATA_MASK_100,(ie,i)=>(Math.floor(ie/2)+Math.floor(i/3)&1)===0)],[zn.DATA_MASK_101,new Ar(zn.DATA_MASK_101,(ie,i)=>ie*i%6===0)],[zn.DATA_MASK_110,new Ar(zn.DATA_MASK_110,(ie,i)=>ie*i%6<3)],[zn.DATA_MASK_111,new Ar(zn.DATA_MASK_111,(ie,i)=>(ie+i+ie*i%3&1)===0)]]);class ji{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new V;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let v=0;v<6;v++)i=this.copyBit(v,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let v=5;v>=0;v--)i=this.copyBit(8,v,i);const o=this.bitMatrix.getHeight();let f=0;const m=o-7;for(let v=o-1;v>=m;v--)f=this.copyBit(8,v,f);for(let v=o-8;v<o;v++)f=this.copyBit(v,8,f);if(this.parsedFormatInfo=gr.decodeFormatInformation(i,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return mt.getVersionForNumber(o);let f=0;const m=i-11;for(let w=5;w>=0;w--)for(let S=i-9;S>=m;S--)f=this.copyBit(S,w,f);let v=mt.decodeVersionInformation(f);if(v!==null&&v.getDimensionForVersion()===i)return this.parsedVersion=v,v;f=0;for(let w=5;w>=0;w--)for(let S=i-9;S>=m;S--)f=this.copyBit(w,S,f);if(v=mt.decodeVersionInformation(f),v!==null&&v.getDimensionForVersion()===i)return this.parsedVersion=v,v;throw new V}copyBit(i,o,f){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?f<<1|1:f<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),f=Ar.values.get(i.getDataMask()),m=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,m);const v=o.buildFunctionPattern();let w=!0;const S=new Uint8Array(o.getTotalCodewords());let I=0,j=0,$=0;for(let ae=m-1;ae>0;ae-=2){ae===6&&ae--;for(let le=0;le<m;le++){const ve=w?m-1-le:le;for(let be=0;be<2;be++)v.get(ae-be,ve)||($++,j<<=1,this.bitMatrix.get(ae-be,ve)&&(j|=1),$===8&&(S[I++]=j,$=0,j=0))}w=!w}if(I!==o.getTotalCodewords())throw new V;return S}remask(){if(this.parsedFormatInfo===null)return;const i=Ar.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,f=i.getWidth();o<f;o++)for(let m=o+1,v=i.getHeight();m<v;m++)i.get(o,m)!==i.get(m,o)&&(i.flip(m,o),i.flip(o,m))}}class As{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,f){if(i.length!==o.getTotalCodewords())throw new E;const m=o.getECBlocksForLevel(f);let v=0;const w=m.getECBlocks();for(const be of w)v+=be.getCount();const S=new Array(v);let I=0;for(const be of w)for(let Ce=0;Ce<be.getCount();Ce++){const Pe=be.getDataCodewords(),Fe=m.getECCodewordsPerBlock()+Pe;S[I++]=new As(Pe,new Uint8Array(Fe))}const j=S[0].codewords.length;let $=S.length-1;for(;$>=0&&S[$].codewords.length!==j;)$--;$++;const ae=j-m.getECCodewordsPerBlock();let le=0;for(let be=0;be<ae;be++)for(let Ce=0;Ce<I;Ce++)S[Ce].codewords[be]=i[le++];for(let be=$;be<I;be++)S[be].codewords[ae]=i[le++];const ve=S[0].codewords.length;for(let be=ae;be<ve;be++)for(let Ce=0;Ce<I;Ce++){const Pe=Ce<$?be:be+1;S[Ce].codewords[Pe]=i[le++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tr;(function(ie){ie[ie.TERMINATOR=0]="TERMINATOR",ie[ie.NUMERIC=1]="NUMERIC",ie[ie.ALPHANUMERIC=2]="ALPHANUMERIC",ie[ie.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ie[ie.BYTE=4]="BYTE",ie[ie.ECI=5]="ECI",ie[ie.KANJI=6]="KANJI",ie[ie.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ie[ie.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ie[ie.HANZI=9]="HANZI"})(Tr||(Tr={}));class Rt{constructor(i,o,f,m){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=f,this.bits=m,Rt.FOR_BITS.set(m,this),Rt.FOR_VALUE.set(i,this)}static forBits(i){const o=Rt.FOR_BITS.get(i);if(o===void 0)throw new E;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let f;return o<=9?f=0:o<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Rt))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.TERMINATOR=new Rt(Tr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Rt.NUMERIC=new Rt(Tr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Rt.ALPHANUMERIC=new Rt(Tr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Rt.STRUCTURED_APPEND=new Rt(Tr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Rt.BYTE=new Rt(Tr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Rt.ECI=new Rt(Tr.ECI,"ECI",Int32Array.from([0,0,0]),7),Rt.KANJI=new Rt(Tr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Rt.FNC1_FIRST_POSITION=new Rt(Tr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Rt.FNC1_SECOND_POSITION=new Rt(Tr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Rt.HANZI=new Rt(Tr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kn{static decode(i,o,f,m){const v=new Cr(i);let w=new ee;const S=new Array;let I=-1,j=-1;try{let $=null,ae=!1,le;do{if(v.available()<4)le=Rt.TERMINATOR;else{const ve=v.readBits(4);le=Rt.forBits(ve)}switch(le){case Rt.TERMINATOR:break;case Rt.FNC1_FIRST_POSITION:case Rt.FNC1_SECOND_POSITION:ae=!0;break;case Rt.STRUCTURED_APPEND:if(v.available()<16)throw new V;I=v.readBits(8),j=v.readBits(8);break;case Rt.ECI:const ve=kn.parseECIValue(v);if($=G.getCharacterSetECIByValue(ve),$===null)throw new V;break;case Rt.HANZI:const be=v.readBits(4),Ce=v.readBits(le.getCharacterCountBits(o));be===kn.GB2312_SUBSET&&kn.decodeHanziSegment(v,w,Ce);break;default:const Pe=v.readBits(le.getCharacterCountBits(o));switch(le){case Rt.NUMERIC:kn.decodeNumericSegment(v,w,Pe);break;case Rt.ALPHANUMERIC:kn.decodeAlphanumericSegment(v,w,Pe,ae);break;case Rt.BYTE:kn.decodeByteSegment(v,w,Pe,$,S,m);break;case Rt.KANJI:kn.decodeKanjiSegment(v,w,Pe);break;default:throw new V}break}}while(le!==Rt.TERMINATOR)}catch{throw new V}return new ft(i,w.toString(),S.length===0?null:S,f===null?null:f.toString(),I,j)}static decodeHanziSegment(i,o,f){if(f*13>i.available())throw new V;const m=new Uint8Array(2*f);let v=0;for(;f>0;){const w=i.readBits(13);let S=w/96<<8&4294967295|w%96;S<959?S+=41377:S+=42657,m[v]=S>>8&255,m[v+1]=S&255,v+=2,f--}try{o.append(Q.decode(m,H.GB2312))}catch(w){throw new V(w)}}static decodeKanjiSegment(i,o,f){if(f*13>i.available())throw new V;const m=new Uint8Array(2*f);let v=0;for(;f>0;){const w=i.readBits(13);let S=w/192<<8&4294967295|w%192;S<7936?S+=33088:S+=49472,m[v]=S>>8,m[v+1]=S,v+=2,f--}try{o.append(Q.decode(m,H.SHIFT_JIS))}catch(w){throw new V(w)}}static decodeByteSegment(i,o,f,m,v,w){if(8*f>i.available())throw new V;const S=new Uint8Array(f);for(let j=0;j<f;j++)S[j]=i.readBits(8);let I;m===null?I=H.guessEncoding(S,w):I=m.getName();try{o.append(Q.decode(S,I))}catch(j){throw new V(j)}v.push(S)}static toAlphaNumericChar(i){if(i>=kn.ALPHANUMERIC_CHARS.length)throw new V;return kn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,f,m){const v=o.length();for(;f>1;){if(i.available()<11)throw new V;const w=i.readBits(11);o.append(kn.toAlphaNumericChar(Math.floor(w/45))),o.append(kn.toAlphaNumericChar(w%45)),f-=2}if(f===1){if(i.available()<6)throw new V;o.append(kn.toAlphaNumericChar(i.readBits(6)))}if(m)for(let w=v;w<o.length();w++)o.charAt(w)==="%"&&(w<o.length()-1&&o.charAt(w+1)==="%"?o.deleteCharAt(w+1):o.setCharAt(w,""))}static decodeNumericSegment(i,o,f){for(;f>=3;){if(i.available()<10)throw new V;const m=i.readBits(10);if(m>=1e3)throw new V;o.append(kn.toAlphaNumericChar(Math.floor(m/100))),o.append(kn.toAlphaNumericChar(Math.floor(m/10)%10)),o.append(kn.toAlphaNumericChar(m%10)),f-=3}if(f===2){if(i.available()<7)throw new V;const m=i.readBits(7);if(m>=100)throw new V;o.append(kn.toAlphaNumericChar(Math.floor(m/10))),o.append(kn.toAlphaNumericChar(m%10))}else if(f===1){if(i.available()<4)throw new V;const m=i.readBits(4);if(m>=10)throw new V;o.append(kn.toAlphaNumericChar(m))}}static parseECIValue(i){const o=i.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const f=i.readBits(8);return(o&63)<<8&4294967295|f}if((o&224)===192){const f=i.readBits(16);return(o&31)<<16&4294967295|f}throw new V}}kn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kn.GB2312_SUBSET=1;class Ts{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Xo{constructor(){this.rsDecoder=new Ue(Tt.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(z.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const f=new ji(i);let m=null;try{return this.decodeBitMatrixParser(f,o)}catch(v){m=v}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const v=this.decodeBitMatrixParser(f,o);return v.setOther(new Ts(!0)),v}catch(v){throw m!==null?m:v}}decodeBitMatrixParser(i,o){const f=i.readVersion(),m=i.readFormatInformation().getErrorCorrectionLevel(),v=i.readCodewords(),w=As.getDataBlocks(v,f,m);let S=0;for(const $ of w)S+=$.getNumDataCodewords();const I=new Uint8Array(S);let j=0;for(const $ of w){const ae=$.getCodewords(),le=$.getNumDataCodewords();this.correctErrors(ae,le);for(let ve=0;ve<le;ve++)I[j++]=ae[ve]}return kn.decode(I,f,m,o)}correctErrors(i,o){const f=new Int32Array(i);try{this.rsDecoder.decode(f,i.length-o)}catch{throw new C}for(let m=0;m<o;m++)i[m]=f[m]}}class va extends ke{constructor(i,o,f){super(i,o),this.estimatedModuleSize=f}aboutEquals(i,o,f){if(Math.abs(o-this.getY())<=i&&Math.abs(f-this.getX())<=i){const m=Math.abs(i-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(i,o,f){const m=(this.getX()+o)/2,v=(this.getY()+i)/2,w=(this.estimatedModuleSize+f)/2;return new va(m,v,w)}}class $i{constructor(i,o,f,m,v,w,S){this.image=i,this.startX=o,this.startY=f,this.width=m,this.height=v,this.moduleSize=w,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,f=this.width,m=i+f,v=this.startY+o/2,w=new Int32Array(3),S=this.image;for(let I=0;I<o;I++){const j=v+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));w[0]=0,w[1]=0,w[2]=0;let $=i;for(;$<m&&!S.get($,j);)$++;let ae=0;for(;$<m;){if(S.get($,j))if(ae===1)w[1]++;else if(ae===2){if(this.foundPatternCross(w)){const le=this.handlePossibleCenter(w,j,$);if(le!==null)return le}w[0]=w[2],w[1]=1,w[2]=0,ae=1}else w[++ae]++;else ae===1&&ae++,w[ae]++;$++}if(this.foundPatternCross(w)){const le=this.handlePossibleCenter(w,j,m);if(le!==null)return le}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,f=o/2;for(let m=0;m<3;m++)if(Math.abs(o-i[m])>=f)return!1;return!0}crossCheckVertical(i,o,f,m){const v=this.image,w=v.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let I=i;for(;I>=0&&v.get(o,I)&&S[1]<=f;)S[1]++,I--;if(I<0||S[1]>f)return NaN;for(;I>=0&&!v.get(o,I)&&S[0]<=f;)S[0]++,I--;if(S[0]>f)return NaN;for(I=i+1;I<w&&v.get(o,I)&&S[1]<=f;)S[1]++,I++;if(I===w||S[1]>f)return NaN;for(;I<w&&!v.get(o,I)&&S[2]<=f;)S[2]++,I++;if(S[2]>f)return NaN;const j=S[0]+S[1]+S[2];return 5*Math.abs(j-m)>=2*m?NaN:this.foundPatternCross(S)?$i.centerFromEnd(S,I):NaN}handlePossibleCenter(i,o,f){const m=i[0]+i[1]+i[2],v=$i.centerFromEnd(i,f),w=this.crossCheckVertical(o,v,2*i[1],m);if(!isNaN(w)){const S=(i[0]+i[1]+i[2])/3;for(const j of this.possibleCenters)if(j.aboutEquals(S,w,v))return j.combineEstimate(w,v,S);const I=new va(v,w,S);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class Ka extends ke{constructor(i,o,f,m){super(i,o),this.estimatedModuleSize=f,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,f){if(Math.abs(o-this.getY())<=i&&Math.abs(f-this.getX())<=i){const m=Math.abs(i-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(i,o,f){const m=this.count+1,v=(this.count*this.getX()+o)/m,w=(this.count*this.getY()+i)/m,S=(this.count*this.estimatedModuleSize+f)/m;return new Ka(v,w,S,m)}}class ya{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Y.TRY_HARDER)!==void 0,f=i!=null&&i.get(Y.PURE_BARCODE)!==void 0,m=this.image,v=m.getHeight(),w=m.getWidth();let S=Math.floor(3*v/(4*Gn.MAX_MODULES));(S<Gn.MIN_SKIP||o)&&(S=Gn.MIN_SKIP);let I=!1;const j=new Int32Array(5);for(let ae=S-1;ae<v&&!I;ae+=S){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;let le=0;for(let ve=0;ve<w;ve++)if(m.get(ve,ae))(le&1)===1&&le++,j[le]++;else if((le&1)===0)if(le===4)if(Gn.foundPatternCross(j)){if(this.handlePossibleCenter(j,ae,ve,f)===!0)if(S=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Ce=this.findRowSkip();Ce>j[2]&&(ae+=Ce-j[2]-S,ve=w-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,le=3;continue}le=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,le=3;else j[++le]++;else j[le]++;Gn.foundPatternCross(j)&&this.handlePossibleCenter(j,ae,w,f)===!0&&(S=j[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const $=this.selectBestPatterns();return ke.orderBestPatterns($),new ya($)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let v=0;v<5;v++){const w=i[v];if(w===0)return!1;o+=w}if(o<7)return!1;const f=o/7,m=f/2;return Math.abs(f-i[0])<m&&Math.abs(f-i[1])<m&&Math.abs(3*f-i[2])<3*m&&Math.abs(f-i[3])<m&&Math.abs(f-i[4])<m}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,f,m){const v=this.getCrossCheckStateCount();let w=0;const S=this.image;for(;i>=w&&o>=w&&S.get(o-w,i-w);)v[2]++,w++;if(i<w||o<w)return!1;for(;i>=w&&o>=w&&!S.get(o-w,i-w)&&v[1]<=f;)v[1]++,w++;if(i<w||o<w||v[1]>f)return!1;for(;i>=w&&o>=w&&S.get(o-w,i-w)&&v[0]<=f;)v[0]++,w++;if(v[0]>f)return!1;const I=S.getHeight(),j=S.getWidth();for(w=1;i+w<I&&o+w<j&&S.get(o+w,i+w);)v[2]++,w++;if(i+w>=I||o+w>=j)return!1;for(;i+w<I&&o+w<j&&!S.get(o+w,i+w)&&v[3]<f;)v[3]++,w++;if(i+w>=I||o+w>=j||v[3]>=f)return!1;for(;i+w<I&&o+w<j&&S.get(o+w,i+w)&&v[4]<f;)v[4]++,w++;if(v[4]>=f)return!1;const $=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs($-m)<2*m&&Gn.foundPatternCross(v)}crossCheckVertical(i,o,f,m){const v=this.image,w=v.getHeight(),S=this.getCrossCheckStateCount();let I=i;for(;I>=0&&v.get(o,I);)S[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(o,I)&&S[1]<=f;)S[1]++,I--;if(I<0||S[1]>f)return NaN;for(;I>=0&&v.get(o,I)&&S[0]<=f;)S[0]++,I--;if(S[0]>f)return NaN;for(I=i+1;I<w&&v.get(o,I);)S[2]++,I++;if(I===w)return NaN;for(;I<w&&!v.get(o,I)&&S[3]<f;)S[3]++,I++;if(I===w||S[3]>=f)return NaN;for(;I<w&&v.get(o,I)&&S[4]<f;)S[4]++,I++;if(S[4]>=f)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-m)>=2*m?NaN:Gn.foundPatternCross(S)?Gn.centerFromEnd(S,I):NaN}crossCheckHorizontal(i,o,f,m){const v=this.image,w=v.getWidth(),S=this.getCrossCheckStateCount();let I=i;for(;I>=0&&v.get(I,o);)S[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(I,o)&&S[1]<=f;)S[1]++,I--;if(I<0||S[1]>f)return NaN;for(;I>=0&&v.get(I,o)&&S[0]<=f;)S[0]++,I--;if(S[0]>f)return NaN;for(I=i+1;I<w&&v.get(I,o);)S[2]++,I++;if(I===w)return NaN;for(;I<w&&!v.get(I,o)&&S[3]<f;)S[3]++,I++;if(I===w||S[3]>=f)return NaN;for(;I<w&&v.get(I,o)&&S[4]<f;)S[4]++,I++;if(S[4]>=f)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-m)>=m?NaN:Gn.foundPatternCross(S)?Gn.centerFromEnd(S,I):NaN}handlePossibleCenter(i,o,f,m){const v=i[0]+i[1]+i[2]+i[3]+i[4];let w=Gn.centerFromEnd(i,f),S=this.crossCheckVertical(o,Math.floor(w),i[2],v);if(!isNaN(S)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(S),i[2],v),!isNaN(w)&&(!m||this.crossCheckDiagonal(Math.floor(S),Math.floor(w),i[2],v)))){const I=v/7;let j=!1;const $=this.possibleCenters;for(let ae=0,le=$.length;ae<le;ae++){const ve=$[ae];if(ve.aboutEquals(I,S,w)){$[ae]=ve.combineEstimate(S,w,I),j=!0;break}}if(!j){const ae=new Ka(w,S,I);$.push(ae),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ae)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const f of this.possibleCenters)if(f.getCount()>=Gn.CENTER_QUORUM)if(o==null)o=f;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-f.getX())-Math.abs(o.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const f=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Gn.CENTER_QUORUM&&(i++,o+=w.getEstimatedModuleSize());if(i<3)return!1;const m=o/f;let v=0;for(const w of this.possibleCenters)v+=Math.abs(w.getEstimatedModuleSize()-m);return v<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new Z;const o=this.possibleCenters;let f;if(i>3){let m=0,v=0;for(const I of this.possibleCenters){const j=I.getEstimatedModuleSize();m+=j,v+=j*j}f=m/i;let w=Math.sqrt(v/i-f*f);o.sort((I,j)=>{const $=Math.abs(j.getEstimatedModuleSize()-f),ae=Math.abs(I.getEstimatedModuleSize()-f);return $<ae?-1:$>ae?1:0});const S=Math.max(.2*f,w);for(let I=0;I<o.length&&o.length>3;I++){const j=o[I];Math.abs(j.getEstimatedModuleSize()-f)>S&&(o.splice(I,1),I--)}}if(o.length>3){let m=0;for(const v of o)m+=v.getEstimatedModuleSize();f=m/o.length,o.sort((v,w)=>{if(w.getCount()===v.getCount()){const S=Math.abs(w.getEstimatedModuleSize()-f),I=Math.abs(v.getEstimatedModuleSize()-f);return S<I?1:S>I?-1:0}else return w.getCount()-v.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Gn.CENTER_QUORUM=2,Gn.MIN_SKIP=3,Gn.MAX_MODULES=57;class Ht{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);const f=new Gn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(f)}processFinderPatternInfo(i){const o=i.getTopLeft(),f=i.getTopRight(),m=i.getBottomLeft(),v=this.calculateModuleSize(o,f,m);if(v<1)throw new Z("No pattern found in proccess finder.");const w=Ht.computeDimension(o,f,m,v),S=mt.getProvisionalVersionForDimension(w),I=S.getDimensionForVersion()-7;let j=null;if(S.getAlignmentPatternCenters().length>0){const ve=f.getX()-o.getX()+m.getX(),be=f.getY()-o.getY()+m.getY(),Ce=1-3/I,Pe=Math.floor(o.getX()+Ce*(ve-o.getX())),Fe=Math.floor(o.getY()+Ce*(be-o.getY()));for(let st=4;st<=16;st<<=1)try{j=this.findAlignmentInRegion(v,Pe,Fe,st);break}catch(ot){if(!(ot instanceof Z))throw ot}}const $=Ht.createTransform(o,f,m,j,w),ae=Ht.sampleGrid(this.image,$,w);let le;return j===null?le=[m,o,f]:le=[m,o,f,j],new je(ae,le)}static createTransform(i,o,f,m,v){const w=v-3.5;let S,I,j,$;return m!==null?(S=m.getX(),I=m.getY(),j=w-3,$=j):(S=o.getX()-i.getX()+f.getX(),I=o.getY()-i.getY()+f.getY(),j=w,$=w),yt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,j,$,3.5,w,i.getX(),i.getY(),o.getX(),o.getY(),S,I,f.getX(),f.getY())}static sampleGrid(i,o,f){return It.getInstance().sampleGridWithTransform(i,f,f,o)}static computeDimension(i,o,f,m){const v=Ee.round(ke.distance(i,o)/m),w=Ee.round(ke.distance(i,f)/m);let S=Math.floor((v+w)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new Z("Dimensions could be not found.")}return S}calculateModuleSize(i,o,f){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,f))/2}calculateModuleSizeOneWay(i,o){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(f)?m/7:isNaN(m)?f/7:(f+m)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,f,m){let v=this.sizeOfBlackWhiteBlackRun(i,o,f,m),w=1,S=i-(f-i);S<0?(w=i/(i-S),S=0):S>=this.image.getWidth()&&(w=(this.image.getWidth()-1-i)/(S-i),S=this.image.getWidth()-1);let I=Math.floor(o-(m-o)*w);return w=1,I<0?(w=o/(o-I),I=0):I>=this.image.getHeight()&&(w=(this.image.getHeight()-1-o)/(I-o),I=this.image.getHeight()-1),S=Math.floor(i+(S-i)*w),v+=this.sizeOfBlackWhiteBlackRun(i,o,S,I),v-1}sizeOfBlackWhiteBlackRun(i,o,f,m){const v=Math.abs(m-o)>Math.abs(f-i);if(v){let ve=i;i=o,o=ve,ve=f,f=m,m=ve}const w=Math.abs(f-i),S=Math.abs(m-o);let I=-w/2;const j=i<f?1:-1,$=o<m?1:-1;let ae=0;const le=f+j;for(let ve=i,be=o;ve!==le;ve+=j){const Ce=v?be:ve,Pe=v?ve:be;if(ae===1===this.image.get(Ce,Pe)){if(ae===2)return Ee.distance(ve,be,i,o);ae++}if(I+=S,I>0){if(be===m)break;be+=$,I-=w}}return ae===2?Ee.distance(f+j,m,i,o):NaN}findAlignmentInRegion(i,o,f,m){const v=Math.floor(m*i),w=Math.max(0,o-v),S=Math.min(this.image.getWidth()-1,o+v);if(S-w<i*3)throw new Z("Alignment top exceeds estimated module size.");const I=Math.max(0,f-v),j=Math.min(this.image.getHeight()-1,f+v);if(j-I<i*3)throw new Z("Alignment bottom exceeds estimated module size.");return new $i(this.image,w,I,S-w,j-I,i,this.resultPointCallback).find()}}class hr{constructor(){this.decoder=new Xo}getDecoder(){return this.decoder}decode(i,o){let f,m;if(o!=null&&o.get(Y.PURE_BARCODE)!==void 0){const I=hr.extractPureBits(i.getBlackMatrix());f=this.decoder.decodeBitMatrix(I,o),m=hr.NO_POINTS}else{const I=new Ht(i.getBlackMatrix()).detect(o);f=this.decoder.decodeBitMatrix(I.getBits(),o),m=I.getPoints()}f.getOther()instanceof Ts&&f.getOther().applyMirroredCorrection(m);const v=new Ae(f.getText(),f.getRawBytes(),void 0,m,Le.QR_CODE,void 0),w=f.getByteSegments();w!==null&&v.putMetadata(Ze.BYTE_SEGMENTS,w);const S=f.getECLevel();return S!==null&&v.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S),f.hasStructuredAppend()&&(v.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),v.putMetadata(Ze.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),v}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),f=i.getBottomRightOnBit();if(o===null||f===null)throw new Z;const m=this.moduleSize(o,i);let v=o[1],w=f[1],S=o[0],I=f[0];if(S>=I||v>=w)throw new Z;if(w-v!==I-S&&(I=S+(w-v),I>=i.getWidth()))throw new Z;const j=Math.round((I-S+1)/m),$=Math.round((w-v+1)/m);if(j<=0||$<=0)throw new Z;if($!==j)throw new Z;const ae=Math.floor(m/2);v+=ae,S+=ae;const le=S+Math.floor((j-1)*m)-I;if(le>0){if(le>ae)throw new Z;S-=le}const ve=v+Math.floor(($-1)*m)-w;if(ve>0){if(ve>ae)throw new Z;v-=ve}const be=new z(j,$);for(let Ce=0;Ce<$;Ce++){const Pe=v+Math.floor(Ce*m);for(let Fe=0;Fe<j;Fe++)i.get(S+Math.floor(Fe*m),Pe)&&be.set(Fe,Ce)}return be}static moduleSize(i,o){const f=o.getHeight(),m=o.getWidth();let v=i[0],w=i[1],S=!0,I=0;for(;v<m&&w<f;){if(S!==o.get(v,w)){if(++I===5)break;S=!S}v++,w++}if(v===m||w===f)throw new Z;return(v-i[0])/7}}hr.NO_POINTS=new Array;class vt{PDF417Common(){}static getBitCountSum(i){return Ee.sum(i)}static toIntArray(i){if(i==null||!i.length)return vt.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let f=0;for(const m of i)o[f++]=m;return o}static getCodeword(i){const o=P.binarySearch(vt.SYMBOL_TABLE,i&262143);return o<0?-1:(vt.CODEWORD_TABLE[o]-1)%vt.NUMBER_OF_CODEWORDS}}vt.NUMBER_OF_CODEWORDS=929,vt.MAX_CODEWORDS_IN_BARCODE=vt.NUMBER_OF_CODEWORDS-1,vt.MIN_ROWS_IN_BARCODE=3,vt.MAX_ROWS_IN_BARCODE=90,vt.MODULES_IN_CODEWORD=17,vt.MODULES_IN_STOP_PATTERN=18,vt.BARS_IN_MODULE=8,vt.EMPTY_INT_ARRAY=new Int32Array([]),vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qa{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Wt{static detectMultiple(i,o,f){let m=i.getBlackMatrix(),v=Wt.detect(f,m);return v.length||(m=m.clone(),m.rotate180(),v=Wt.detect(f,m)),new Qa(m,v)}static detect(i,o){const f=new Array;let m=0,v=0,w=!1;for(;m<o.getHeight();){const S=Wt.findVertices(o,m,v);if(S[0]==null&&S[3]==null){if(!w)break;w=!1,v=0;for(const I of f)I[1]!=null&&(m=Math.trunc(Math.max(m,I[1].getY()))),I[3]!=null&&(m=Math.max(m,Math.trunc(I[3].getY())));m+=Wt.ROW_STEP;continue}if(w=!0,f.push(S),!i)break;S[2]!=null?(v=Math.trunc(S[2].getX()),m=Math.trunc(S[2].getY())):(v=Math.trunc(S[4].getX()),m=Math.trunc(S[4].getY()))}return f}static findVertices(i,o,f){const m=i.getHeight(),v=i.getWidth(),w=new Array(8);return Wt.copyToResult(w,Wt.findRowsWithPattern(i,m,v,o,f,Wt.START_PATTERN),Wt.INDEXES_START_PATTERN),w[4]!=null&&(f=Math.trunc(w[4].getX()),o=Math.trunc(w[4].getY())),Wt.copyToResult(w,Wt.findRowsWithPattern(i,m,v,o,f,Wt.STOP_PATTERN),Wt.INDEXES_STOP_PATTERN),w}static copyToResult(i,o,f){for(let m=0;m<f.length;m++)i[f[m]]=o[m]}static findRowsWithPattern(i,o,f,m,v,w){const S=new Array(4);let I=!1;const j=new Int32Array(w.length);for(;m<o;m+=Wt.ROW_STEP){let ae=Wt.findGuardPattern(i,v,m,f,!1,w,j);if(ae!=null){for(;m>0;){const le=Wt.findGuardPattern(i,v,--m,f,!1,w,j);if(le!=null)ae=le;else{m++;break}}S[0]=new ke(ae[0],m),S[1]=new ke(ae[1],m),I=!0;break}}let $=m+1;if(I){let ae=0,le=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;$<o;$++){const ve=Wt.findGuardPattern(i,le[0],$,f,!1,w,j);if(ve!=null&&Math.abs(le[0]-ve[0])<Wt.MAX_PATTERN_DRIFT&&Math.abs(le[1]-ve[1])<Wt.MAX_PATTERN_DRIFT)le=ve,ae=0;else{if(ae>Wt.SKIPPED_ROW_COUNT_MAX)break;ae++}}$-=ae+1,S[2]=new ke(le[0],$),S[3]=new ke(le[1],$)}return $-m<Wt.BARCODE_MIN_HEIGHT&&P.fill(S,null),S}static findGuardPattern(i,o,f,m,v,w,S){P.fillWithin(S,0,S.length,0);let I=o,j=0;for(;i.get(I,f)&&I>0&&j++<Wt.MAX_PIXEL_DRIFT;)I--;let $=I,ae=0,le=w.length;for(let ve=v;$<m;$++)if(i.get($,f)!==ve)S[ae]++;else{if(ae===le-1){if(Wt.patternMatchVariance(S,w,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return new Int32Array([I,$]);I+=S[0]+S[1],N.arraycopy(S,2,S,0,ae-1),S[ae-1]=0,S[ae]=0,ae--}else ae++;S[ae]=1,ve=!ve}return ae===le-1&&Wt.patternMatchVariance(S,w,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE?new Int32Array([I,$-1]):null}static patternMatchVariance(i,o,f){let m=i.length,v=0,w=0;for(let j=0;j<m;j++)v+=i[j],w+=o[j];if(v<w)return 1/0;let S=v/w;f*=S;let I=0;for(let j=0;j<m;j++){let $=i[j],ae=o[j]*S,le=$>ae?$-ae:ae-$;if(le>f)return 1/0;I+=le}return I/v}}Wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Wt.MAX_AVG_VARIANCE=.42,Wt.MAX_INDIVIDUAL_VARIANCE=.8,Wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Wt.MAX_PIXEL_DRIFT=3,Wt.MAX_PATTERN_DRIFT=5,Wt.SKIPPED_ROW_COUNT_MAX=25,Wt.ROW_STEP=5,Wt.BARCODE_MIN_HEIGHT=10;class Zn{constructor(i,o){if(o.length===0)throw new E;this.field=i;let f=o.length;if(f>1&&o[0]===0){let m=1;for(;m<f&&o[m]===0;)m++;m===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-m),N.arraycopy(o,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let m=0;for(let v of this.coefficients)m=this.field.add(m,v);return m}let o=this.coefficients[0],f=this.coefficients.length;for(let m=1;m<f;m++)o=this.field.add(this.field.multiply(i,o),this.coefficients[m]);return o}add(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,f=i.coefficients;if(o.length>f.length){let w=o;o=f,f=w}let m=new Int32Array(f.length),v=f.length-o.length;N.arraycopy(f,0,m,0,v);for(let w=v;w<f.length;w++)m[w]=this.field.add(o[w-v],f[w]);return new Zn(this.field,m)}subtract(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Zn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Zn(this.field,new Int32Array([0]));let o=this.coefficients,f=o.length,m=i.coefficients,v=m.length,w=new Int32Array(f+v-1);for(let S=0;S<f;S++){let I=o[S];for(let j=0;j<v;j++)w[S+j]=this.field.add(w[S+j],this.field.multiply(I,m[j]))}return new Zn(this.field,w)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let f=0;f<i;f++)o[f]=this.field.subtract(0,this.coefficients[f]);return new Zn(this.field,o)}multiplyScalar(i){if(i===0)return new Zn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,f=new Int32Array(o);for(let m=0;m<o;m++)f[m]=this.field.multiply(this.coefficients[m],i);return new Zn(this.field,f)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return new Zn(this.field,new Int32Array([0]));let f=this.coefficients.length,m=new Int32Array(f+i);for(let v=0;v<f;v++)m[v]=this.field.multiply(this.coefficients[v],o);return new Zn(this.field,m)}toString(){let i=new ee;for(let o=this.getDegree();o>=0;o--){let f=this.getCoefficient(o);f!==0&&(f<0?(i.append(" - "),f=-f):i.length()>0&&i.append(" + "),(o===0||f!==1)&&i.append(f),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class zi{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}inverse(i){if(i===0)throw new Yt;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Ei extends zi{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let f=1;for(let m=0;m<i;m++)this.expTable[m]=f,f=f*o%i;for(let m=0;m<i-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new Zn(this,new Int32Array([0])),this.one=new Zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;let f=new Int32Array(i+1);return f[0]=o,new Zn(this,f)}}Ei.PDF417_GF=new Ei(vt.NUMBER_OF_CODEWORDS,3);class La{constructor(){this.field=Ei.PDF417_GF}decode(i,o,f){let m=new Zn(this.field,i),v=new Int32Array(o),w=!1;for(let be=o;be>0;be--){let Ce=m.evaluateAt(this.field.exp(be));v[o-be]=Ce,Ce!==0&&(w=!0)}if(!w)return 0;let S=this.field.getOne();if(f!=null)for(const be of f){let Ce=this.field.exp(i.length-1-be),Pe=new Zn(this.field,new Int32Array([this.field.subtract(0,Ce),1]));S=S.multiply(Pe)}let I=new Zn(this.field,v),j=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),I,o),$=j[0],ae=j[1],le=this.findErrorLocations($),ve=this.findErrorMagnitudes(ae,$,le);for(let be=0;be<le.length;be++){let Ce=i.length-1-this.field.log(le[be]);if(Ce<0)throw C.getChecksumInstance();i[Ce]=this.field.subtract(i[Ce],ve[be])}return le.length}runEuclideanAlgorithm(i,o,f){if(i.getDegree()<o.getDegree()){let le=i;i=o,o=le}let m=i,v=o,w=this.field.getZero(),S=this.field.getOne();for(;v.getDegree()>=Math.round(f/2);){let le=m,ve=w;if(m=v,w=S,m.isZero())throw C.getChecksumInstance();v=le;let be=this.field.getZero(),Ce=m.getCoefficient(m.getDegree()),Pe=this.field.inverse(Ce);for(;v.getDegree()>=m.getDegree()&&!v.isZero();){let Fe=v.getDegree()-m.getDegree(),st=this.field.multiply(v.getCoefficient(v.getDegree()),Pe);be=be.add(this.field.buildMonomial(Fe,st)),v=v.subtract(m.multiplyByMonomial(Fe,st))}S=be.multiply(w).subtract(ve).negative()}let I=S.getCoefficient(0);if(I===0)throw C.getChecksumInstance();let j=this.field.inverse(I),$=S.multiply(j),ae=v.multiply(j);return[$,ae]}findErrorLocations(i){let o=i.getDegree(),f=new Int32Array(o),m=0;for(let v=1;v<this.field.getSize()&&m<o;v++)i.evaluateAt(v)===0&&(f[m]=this.field.inverse(v),m++);if(m!==o)throw C.getChecksumInstance();return f}findErrorMagnitudes(i,o,f){let m=o.getDegree(),v=new Int32Array(m);for(let j=1;j<=m;j++)v[m-j]=this.field.multiply(j,o.getCoefficient(j));let w=new Zn(this.field,v),S=f.length,I=new Int32Array(S);for(let j=0;j<S;j++){let $=this.field.inverse(f[j]),ae=this.field.subtract(0,i.evaluateAt($)),le=this.field.inverse(w.evaluateAt($));I[j]=this.field.multiply(ae,le)}return I}}class _i{constructor(i,o,f,m,v){i instanceof _i?this.constructor_2(i):this.constructor_1(i,o,f,m,v)}constructor_1(i,o,f,m,v){const w=o==null||f==null,S=m==null||v==null;if(w&&S)throw new Z;w?(o=new ke(0,m.getY()),f=new ke(0,v.getY())):S&&(m=new ke(i.getWidth()-1,o.getY()),v=new ke(i.getWidth()-1,f.getY())),this.image=i,this.topLeft=o,this.bottomLeft=f,this.topRight=m,this.bottomRight=v,this.minX=Math.trunc(Math.min(o.getX(),f.getX())),this.maxX=Math.trunc(Math.max(m.getX(),v.getX())),this.minY=Math.trunc(Math.min(o.getY(),m.getY())),this.maxY=Math.trunc(Math.max(f.getY(),v.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new _i(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,f){let m=this.topLeft,v=this.bottomLeft,w=this.topRight,S=this.bottomRight;if(i>0){let I=f?this.topLeft:this.topRight,j=Math.trunc(I.getY()-i);j<0&&(j=0);let $=new ke(I.getX(),j);f?m=$:w=$}if(o>0){let I=f?this.bottomLeft:this.bottomRight,j=Math.trunc(I.getY()+o);j>=this.image.getHeight()&&(j=this.image.getHeight()-1);let $=new ke(I.getX(),j);f?v=$:S=$}return new _i(this.image,m,v,w,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class lr{constructor(i,o,f,m){this.columnCount=i,this.errorCorrectionLevel=m,this.rowCountUpperPart=o,this.rowCountLowerPart=f,this.rowCount=o+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Kr{constructor(){this.buffer=""}static form(i,o){let f=-1;function m(w,S,I,j,$,ae){if(w==="%%")return"%";if(o[++f]===void 0)return;w=j?parseInt(j.substr(1)):void 0;let le=$?parseInt($.substr(1)):void 0,ve;switch(ae){case"s":ve=o[f];break;case"c":ve=o[f][0];break;case"f":ve=parseFloat(o[f]).toFixed(w);break;case"p":ve=parseFloat(o[f]).toPrecision(w);break;case"e":ve=parseFloat(o[f]).toExponential(w);break;case"x":ve=parseInt(o[f]).toString(le||16);break;case"d":ve=parseFloat(parseInt(o[f],le||10).toPrecision(w)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(le);let be=parseInt(I),Ce=I&&I[0]+""=="0"?"0":" ";for(;ve.length<be;)ve=S!==void 0?ve+Ce:Ce+ve;return ve}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(v,m)}format(i,...o){this.buffer+=Kr.form(i,o)}toString(){return this.buffer}}class ka{constructor(i){this.boundingBox=new _i(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let f=1;f<ka.MAX_NEARBY_DISTANCE;f++){let m=this.imageRowToCodewordIndex(i)-f;if(m>=0&&(o=this.codewords[m],o!=null)||(m=this.imageRowToCodewordIndex(i)+f,m<this.codewords.length&&(o=this.codewords[m],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Kr;let o=0;for(const f of this.codewords){if(f==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,f.getRowNumber(),f.getValue())}return i.toString()}}ka.MAX_NEARBY_DISTANCE=5;class dr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[f,m]of this.values.entries()){const v={getKey:()=>f,getValue:()=>m};v.getValue()>i?(i=v.getValue(),o=[],o.push(v.getKey())):v.getValue()===i&&o.push(v.getKey())}return vt.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class _a extends ka{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let f=this.getBoundingBox(),m=this._isLeft?f.getTopLeft():f.getTopRight(),v=this._isLeft?f.getBottomLeft():f.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),I=-1,j=1,$=0;for(let ae=w;ae<S;ae++){if(o[ae]==null)continue;let le=o[ae],ve=le.getRowNumber()-I;if(ve===0)$++;else if(ve===1)j=Math.max(j,$),$=1,I=le.getRowNumber();else if(ve<0||le.getRowNumber()>=i.getRowCount()||ve>ae)o[ae]=null;else{let be;j>2?be=(j-2)*ve:be=ve;let Ce=be>=ae;for(let Pe=1;Pe<=be&&!Ce;Pe++)Ce=o[ae-Pe]!=null;Ce?o[ae]=null:(I=le.getRowNumber(),$=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let f of this.getCodewords())if(f!=null){let m=f.getRowNumber();if(m>=o.length)continue;o[m]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),f=this._isLeft?o.getTopLeft():o.getTopRight(),m=this._isLeft?o.getBottomLeft():o.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),S=this.getCodewords(),I=-1;for(let j=v;j<w;j++){if(S[j]==null)continue;let $=S[j];$.setRowNumberAsRowIndicatorColumn();let ae=$.getRowNumber()-I;ae===0||(ae===1?I=$.getRowNumber():$.getRowNumber()>=i.getRowCount()?S[j]=null:I=$.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new dr,f=new dr,m=new dr,v=new dr;for(let S of i){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let I=S.getValue()%30,j=S.getRowNumber();switch(this._isLeft||(j+=2),j%3){case 0:f.setValue(I*3+1);break;case 1:v.setValue(I/3),m.setValue(I%3);break;case 2:o.setValue(I+1);break}}if(o.getValue().length===0||f.getValue().length===0||m.getValue().length===0||v.getValue().length===0||o.getValue()[0]<1||f.getValue()[0]+m.getValue()[0]<vt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+m.getValue()[0]>vt.MAX_ROWS_IN_BARCODE)return null;let w=new lr(o.getValue()[0],f.getValue()[0],m.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(i,w),w}removeIncorrectCodewords(i,o){for(let f=0;f<i.length;f++){let m=i[f];if(i[f]==null)continue;let v=m.getValue()%30,w=m.getRowNumber();if(w>o.getRowCount()){i[f]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:v*3+1!==o.getRowCountUpperPart()&&(i[f]=null);break;case 1:(Math.trunc(v/3)!==o.getErrorCorrectionLevel()||v%3!==o.getRowCountLowerPart())&&(i[f]=null);break;case 2:v+1!==o.getColumnCount()&&(i[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ki{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=vt.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let f=this.detectionResultColumns[o].getCodewords();for(let m=0;m<f.length;m++)f[m]!=null&&(f[m].hasValidRowNumber()||this.adjustRowNumbers(o,m,f))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<i.length;f++)if(i[f]!=null&&o[f]!=null&&i[f].getRowNumber()===o[f].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let v=this.detectionResultColumns[m].getCodewords()[f];v!=null&&(v.setRowNumber(i[f].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++){if(o[f]==null)continue;let m=o[f].getRowNumber(),v=0;for(let w=this.barcodeColumnCount+1;w>0&&v<this.ADJUST_ROW_NUMBER_SKIP;w--){let S=this.detectionResultColumns[w].getCodewords()[f];S!=null&&(v=Ki.adjustRowNumberIfValid(m,v,S),S.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let f=0;f<o.length;f++){if(o[f]==null)continue;let m=o[f].getRowNumber(),v=0;for(let w=1;w<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;w++){let S=this.detectionResultColumns[w].getCodewords()[f];S!=null&&(v=Ki.adjustRowNumberIfValid(m,v,S),S.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(i)?(f.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,f){if(!this.detectionResultColumns[i-1])return;let m=f[o],v=this.detectionResultColumns[i-1].getCodewords(),w=v;this.detectionResultColumns[i+1]!=null&&(w=this.detectionResultColumns[i+1].getCodewords());let S=new Array(14);S[2]=v[o],S[3]=w[o],o>0&&(S[0]=f[o-1],S[4]=v[o-1],S[5]=w[o-1]),o>1&&(S[8]=f[o-2],S[10]=v[o-2],S[11]=w[o-2]),o<f.length-1&&(S[1]=f[o+1],S[6]=v[o+1],S[7]=w[o+1]),o<f.length-2&&(S[9]=f[o+2],S[12]=v[o+2],S[13]=w[o+2]);for(let I of S)if(Ki.adjustRowNumber(m,I))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Kr;for(let f=0;f<i.getCodewords().length;f++){o.format("CW %3d:",f);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){o.format("    |   ");continue}let v=this.detectionResultColumns[m].getCodewords()[f];if(v==null){o.format("    |   ");continue}o.format(" %3d|%3d",v.getRowNumber(),v.getValue())}o.format("%n")}return o.toString()}}class Si{constructor(i,o,f,m){this.rowNumber=Si.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(f),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Si.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Si.BARCODE_ROW_UNKNOWN=-1;class Qr{static initialize(){for(let i=0;i<vt.SYMBOL_TABLE.length;i++){let o=vt.SYMBOL_TABLE[i],f=o&1;for(let m=0;m<vt.BARS_IN_MODULE;m++){let v=0;for(;(o&1)===f;)v+=1,o>>=1;f=o&1,Qr.RATIOS_TABLE[i]||(Qr.RATIOS_TABLE[i]=new Array(vt.BARS_IN_MODULE)),Qr.RATIOS_TABLE[i][vt.BARS_IN_MODULE-m-1]=Math.fround(v/vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Qr.getDecodedCodewordValue(Qr.sampleBitCounts(i));return o!==-1?o:Qr.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Ee.sum(i),f=new Int32Array(vt.BARS_IN_MODULE),m=0,v=0;for(let w=0;w<vt.MODULES_IN_CODEWORD;w++){let S=o/(2*vt.MODULES_IN_CODEWORD)+w*o/vt.MODULES_IN_CODEWORD;v+i[m]<=S&&(v+=i[m],m++),f[m]++}return f}static getDecodedCodewordValue(i){let o=Qr.getBitValue(i);return vt.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let f=0;f<i.length;f++)for(let m=0;m<i[f];m++)o=o<<1|(f%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Ee.sum(i),f=new Array(vt.BARS_IN_MODULE);if(o>1)for(let w=0;w<f.length;w++)f[w]=Math.fround(i[w]/o);let m=Je.MAX_VALUE,v=-1;this.bSymbolTableReady||Qr.initialize();for(let w=0;w<Qr.RATIOS_TABLE.length;w++){let S=0,I=Qr.RATIOS_TABLE[w];for(let j=0;j<vt.BARS_IN_MODULE;j++){let $=Math.fround(I[j]-f[j]);if(S+=Math.fround($*$),S>=m)break}S<m&&(m=S,v=vt.SYMBOL_TABLE[w])}return v}}Qr.bSymbolTableReady=!1,Qr.RATIOS_TABLE=new Array(vt.SYMBOL_TABLE.length).map(ie=>new Array(vt.BARS_IN_MODULE));class Os{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class ln{static parseLong(i,o=void 0){return parseInt(i,o)}}class Ja extends g{}Ja.kind="NullPointerException";class Jr{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,f){if(i==null)throw new Ja;if(o<0||o>i.length||f<0||o+f>i.length||o+f<0)throw new k;if(f===0)return;for(let m=0;m<f;m++)this.write(i[o+m])}flush(){}close(){}}class es extends g{}class Ul extends Jr{constructor(i=32){if(super(),this.count=0,i<0)throw new E("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let f=this.buf.length<<1;if(f-i<0&&(f=i),f<0){if(i<0)throw new es;f=B.MAX_VALUE}this.buf=P.copyOfUint8Array(this.buf,f)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,f){if(o<0||o>i.length||f<0||o+f-i.length>0)throw new k;this.ensureCapacity(this.count+f),N.arraycopy(i,o,this.buf,this.count,f),this.count+=f}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return P.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Mn;(function(ie){ie[ie.ALPHA=0]="ALPHA",ie[ie.LOWER=1]="LOWER",ie[ie.MIXED=2]="MIXED",ie[ie.PUNCT=3]="PUNCT",ie[ie.ALPHA_SHIFT=4]="ALPHA_SHIFT",ie[ie.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mn||(Mn={}));function eo(){if(typeof window<"u")return window.BigInt||null;if(typeof Mi<"u")return Mi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ts;function Qi(ie){if(typeof ts>"u"&&(ts=eo()),ts===null)throw new Error("BigInt is not supported!");return ts(ie)}function Wu(){let ie=[];ie[0]=Qi(1);let i=Qi(900);ie[1]=i;for(let o=2;o<16;o++)ie[o]=ie[o-1]*i;return ie}class qe{static decode(i,o){let f=new ee(""),m=G.ISO8859_1;f.enableDecoding(m);let v=1,w=i[v++],S=new Os;for(;v<i[0];){switch(w){case qe.TEXT_COMPACTION_MODE_LATCH:v=qe.textCompaction(i,v,f);break;case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:v=qe.byteCompaction(w,i,m,v,f);break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(i[v++]);break;case qe.NUMERIC_COMPACTION_MODE_LATCH:v=qe.numericCompaction(i,v,f);break;case qe.ECI_CHARSET:G.getCharacterSetECIByValue(i[v++]);break;case qe.ECI_GENERAL_PURPOSE:v+=2;break;case qe.ECI_USER_DEFINED:v++;break;case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=qe.decodeMacroBlock(i,v,S);break;case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:throw new V;default:v--,v=qe.textCompaction(i,v,f);break}if(v<i.length)w=i[v++];else throw V.getFormatInstance()}if(f.length()===0)throw V.getFormatInstance();let I=new ft(null,f.toString(),null,o);return I.setOther(S),I}static decodeMacroBlock(i,o,f){if(o+qe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw V.getFormatInstance();let m=new Int32Array(qe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<qe.NUMBER_OF_SEQUENCE_CODEWORDS;S++,o++)m[S]=i[o];f.setSegmentIndex(B.parseInt(qe.decodeBase900toBase10(m,qe.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new ee;o=qe.textCompaction(i,o,v),f.setFileId(v.toString());let w=-1;for(i[o]===qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=o+1);o<i[0];)switch(i[o]){case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new ee;o=qe.textCompaction(i,o+1,S),f.setFileName(S.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new ee;o=qe.textCompaction(i,o+1,I),f.setSender(I.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let j=new ee;o=qe.textCompaction(i,o+1,j),f.setAddressee(j.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new ee;o=qe.numericCompaction(i,o+1,$),f.setSegmentCount(B.parseInt($.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ae=new ee;o=qe.numericCompaction(i,o+1,ae),f.setTimestamp(ln.parseLong(ae.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let le=new ee;o=qe.numericCompaction(i,o+1,le),f.setChecksum(B.parseInt(le.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ve=new ee;o=qe.numericCompaction(i,o+1,ve),f.setFileSize(ln.parseLong(ve.toString()));break;default:throw V.getFormatInstance()}break;case qe.MACRO_PDF417_TERMINATOR:o++,f.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(w!==-1){let S=o-w;f.isLastSegment()&&S--,f.setOptionalData(P.copyOfRange(i,w,w+S))}return o}static textCompaction(i,o,f){let m=new Int32Array((i[0]-o)*2),v=new Int32Array((i[0]-o)*2),w=0,S=!1;for(;o<i[0]&&!S;){let I=i[o++];if(I<qe.TEXT_COMPACTION_MODE_LATCH)m[w]=I/30,m[w+1]=I%30,w+=2;else switch(I){case qe.TEXT_COMPACTION_MODE_LATCH:m[w++]=qe.TEXT_COMPACTION_MODE_LATCH;break;case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:o--,S=!0;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[w]=qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=i[o++],v[w]=I,w++;break}}return qe.decodeTextCompaction(m,v,w,f),o}static decodeTextCompaction(i,o,f,m){let v=Mn.ALPHA,w=Mn.ALPHA,S=0;for(;S<f;){let I=i[S],j="";switch(v){case Mn.ALPHA:if(I<26)j=String.fromCharCode(65+I);else switch(I){case 26:j=" ";break;case qe.LL:v=Mn.LOWER;break;case qe.ML:v=Mn.MIXED;break;case qe.PS:w=v,v=Mn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(o[S]);break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break;case Mn.LOWER:if(I<26)j=String.fromCharCode(97+I);else switch(I){case 26:j=" ";break;case qe.AS:w=v,v=Mn.ALPHA_SHIFT;break;case qe.ML:v=Mn.MIXED;break;case qe.PS:w=v,v=Mn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(o[S]);break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break;case Mn.MIXED:if(I<qe.PL)j=qe.MIXED_CHARS[I];else switch(I){case qe.PL:v=Mn.PUNCT;break;case 26:j=" ";break;case qe.LL:v=Mn.LOWER;break;case qe.AL:v=Mn.ALPHA;break;case qe.PS:w=v,v=Mn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(o[S]);break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break;case Mn.PUNCT:if(I<qe.PAL)j=qe.PUNCT_CHARS[I];else switch(I){case qe.PAL:v=Mn.ALPHA;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(o[S]);break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break;case Mn.ALPHA_SHIFT:if(v=w,I<26)j=String.fromCharCode(65+I);else switch(I){case 26:j=" ";break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break;case Mn.PUNCT_SHIFT:if(v=w,I<qe.PAL)j=qe.PUNCT_CHARS[I];else switch(I){case qe.PAL:v=Mn.ALPHA;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(o[S]);break;case qe.TEXT_COMPACTION_MODE_LATCH:v=Mn.ALPHA;break}break}j!==""&&m.append(j),S++}}static byteCompaction(i,o,f,m,v){let w=new Ul,S=0,I=0,j=!1;switch(i){case qe.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),ae=o[m++];for(;m<o[0]&&!j;)switch($[S++]=ae,I=900*I+ae,ae=o[m++],ae){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:m--,j=!0;break;default:if(S%5===0&&S>0){for(let le=0;le<6;++le)w.write(Number(Qi(I)>>Qi(8*(5-le))));I=0,S=0}break}m===o[0]&&ae<qe.TEXT_COMPACTION_MODE_LATCH&&($[S++]=ae);for(let le=0;le<S;le++)w.write($[le]);break;case qe.BYTE_COMPACTION_MODE_LATCH_6:for(;m<o[0]&&!j;){let le=o[m++];if(le<qe.TEXT_COMPACTION_MODE_LATCH)S++,I=900*I+le;else switch(le){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:m--,j=!0;break}if(S%5===0&&S>0){for(let ve=0;ve<6;++ve)w.write(Number(Qi(I)>>Qi(8*(5-ve))));I=0,S=0}}break}return v.append(Q.decode(w.toByteArray(),f)),m}static numericCompaction(i,o,f){let m=0,v=!1,w=new Int32Array(qe.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!v;){let S=i[o++];if(o===i[0]&&(v=!0),S<qe.TEXT_COMPACTION_MODE_LATCH)w[m]=S,m++;else switch(S){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:o--,v=!0;break}(m%qe.MAX_NUMERIC_CODEWORDS===0||S===qe.NUMERIC_COMPACTION_MODE_LATCH||v)&&m>0&&(f.append(qe.decodeBase900toBase10(w,m)),m=0)}return o}static decodeBase900toBase10(i,o){let f=Qi(0);for(let v=0;v<o;v++)f+=qe.EXP900[o-v-1]*Qi(i[v]);let m=f.toString();if(m.charAt(0)!=="1")throw new V;return m.substring(1)}}qe.TEXT_COMPACTION_MODE_LATCH=900,qe.BYTE_COMPACTION_MODE_LATCH=901,qe.NUMERIC_COMPACTION_MODE_LATCH=902,qe.BYTE_COMPACTION_MODE_LATCH_6=924,qe.ECI_USER_DEFINED=925,qe.ECI_GENERAL_PURPOSE=926,qe.ECI_CHARSET=927,qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,qe.MACRO_PDF417_TERMINATOR=922,qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,qe.MAX_NUMERIC_CODEWORDS=15,qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,qe.PL=25,qe.LL=27,qe.AS=27,qe.ML=28,qe.AL=28,qe.PS=29,qe.PAL=29,qe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,qe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",qe.EXP900=eo()?Wu():[],qe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xt{constructor(){}static decode(i,o,f,m,v,w,S){let I=new _i(i,o,f,m,v),j=null,$=null,ae;for(let be=!0;;be=!1){if(o!=null&&(j=Xt.getRowIndicatorColumn(i,I,o,!0,w,S)),m!=null&&($=Xt.getRowIndicatorColumn(i,I,m,!1,w,S)),ae=Xt.merge(j,$),ae==null)throw Z.getNotFoundInstance();let Ce=ae.getBoundingBox();if(be&&Ce!=null&&(Ce.getMinY()<I.getMinY()||Ce.getMaxY()>I.getMaxY()))I=Ce;else break}ae.setBoundingBox(I);let le=ae.getBarcodeColumnCount()+1;ae.setDetectionResultColumn(0,j),ae.setDetectionResultColumn(le,$);let ve=j!=null;for(let be=1;be<=le;be++){let Ce=ve?be:le-be;if(ae.getDetectionResultColumn(Ce)!==void 0)continue;let Pe;Ce===0||Ce===le?Pe=new _a(I,Ce===0):Pe=new ka(I),ae.setDetectionResultColumn(Ce,Pe);let Fe=-1,st=Fe;for(let ot=I.getMinY();ot<=I.getMaxY();ot++){if(Fe=Xt.getStartColumn(ae,Ce,ot,ve),Fe<0||Fe>I.getMaxX()){if(st===-1)continue;Fe=st}let it=Xt.detectCodeword(i,I.getMinX(),I.getMaxX(),ve,Fe,ot,w,S);it!=null&&(Pe.setCodeword(ot,it),st=Fe,w=Math.min(w,it.getWidth()),S=Math.max(S,it.getWidth()))}}return Xt.createDecoderResult(ae)}static merge(i,o){if(i==null&&o==null)return null;let f=Xt.getBarcodeMetadata(i,o);if(f==null)return null;let m=_i.merge(Xt.adjustBoundingBox(i),Xt.adjustBoundingBox(o));return new Ki(f,m)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let f=Xt.getMax(o),m=0;for(let S of o)if(m+=f-S,S>0)break;let v=i.getCodewords();for(let S=0;m>0&&v[S]==null;S++)m--;let w=0;for(let S=o.length-1;S>=0&&(w+=f-o[S],!(o[S]>0));S--);for(let S=v.length-1;w>0&&v[S]==null;S--)w--;return i.getBoundingBox().addMissingRows(m,w,i.isLeft())}static getMax(i){let o=-1;for(let f of i)o=Math.max(o,f);return o}static getBarcodeMetadata(i,o){let f;if(i==null||(f=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let m;return o==null||(m=o.getBarcodeMetadata())==null?f:f.getColumnCount()!==m.getColumnCount()&&f.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&f.getRowCount()!==m.getRowCount()?null:f}static getRowIndicatorColumn(i,o,f,m,v,w){let S=new _a(o,m);for(let I=0;I<2;I++){let j=I===0?1:-1,$=Math.trunc(Math.trunc(f.getX()));for(let ae=Math.trunc(Math.trunc(f.getY()));ae<=o.getMaxY()&&ae>=o.getMinY();ae+=j){let le=Xt.detectCodeword(i,0,i.getWidth(),m,$,ae,v,w);le!=null&&(S.setCodeword(ae,le),m?$=le.getStartX():$=le.getEndX())}}return S}static adjustCodewordCount(i,o){let f=o[0][1],m=f.getValue(),v=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Xt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(m.length===0){if(v<1||v>vt.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();f.setValue(v)}else m[0]!==v&&f.setValue(v)}static createDecoderResult(i){let o=Xt.createBarcodeMatrix(i);Xt.adjustCodewordCount(i,o);let f=new Array,m=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),v=[],w=new Array;for(let I=0;I<i.getBarcodeRowCount();I++)for(let j=0;j<i.getBarcodeColumnCount();j++){let $=o[I][j+1].getValue(),ae=I*i.getBarcodeColumnCount()+j;$.length===0?f.push(ae):$.length===1?m[ae]=$[0]:(w.push(ae),v.push($))}let S=new Array(v.length);for(let I=0;I<S.length;I++)S[I]=v[I];return Xt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),m,vt.toIntArray(f),vt.toIntArray(w),S)}static createDecoderResultFromAmbiguousValues(i,o,f,m,v){let w=new Int32Array(m.length),S=100;for(;S-- >0;){for(let I=0;I<w.length;I++)o[m[I]]=v[I][w[I]];try{return Xt.decodeCodewords(o,i,f)}catch(I){if(!(I instanceof C))throw I}if(w.length===0)throw C.getChecksumInstance();for(let I=0;I<w.length;I++)if(w[I]<v[I].length-1){w[I]++;break}else if(w[I]=0,I===w.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let m=0;m<o.length;m++)for(let v=0;v<o[m].length;v++)o[m][v]=new dr;let f=0;for(let m of i.getDetectionResultColumns()){if(m!=null){for(let v of m.getCodewords())if(v!=null){let w=v.getRowNumber();if(w>=0){if(w>=o.length)continue;o[w][f].setValue(v.getValue())}}}f++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,f,m){let v=m?1:-1,w=null;if(Xt.isValidBarcodeColumn(i,o-v)&&(w=i.getDetectionResultColumn(o-v).getCodeword(f)),w!=null)return m?w.getEndX():w.getStartX();if(w=i.getDetectionResultColumn(o).getCodewordNearby(f),w!=null)return m?w.getStartX():w.getEndX();if(Xt.isValidBarcodeColumn(i,o-v)&&(w=i.getDetectionResultColumn(o-v).getCodewordNearby(f)),w!=null)return m?w.getEndX():w.getStartX();let S=0;for(;Xt.isValidBarcodeColumn(i,o-v);){o-=v;for(let I of i.getDetectionResultColumn(o).getCodewords())if(I!=null)return(m?I.getEndX():I.getStartX())+v*S*(I.getEndX()-I.getStartX());S++}return m?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,f,m,v,w,S,I){v=Xt.adjustCodewordStartColumn(i,o,f,m,v,w);let j=Xt.getModuleBitCount(i,o,f,m,v,w);if(j==null)return null;let $,ae=Ee.sum(j);if(m)$=v+ae;else{for(let be=0;be<j.length/2;be++){let Ce=j[be];j[be]=j[j.length-1-be],j[j.length-1-be]=Ce}$=v,v=$-ae}if(!Xt.checkCodewordSkew(ae,S,I))return null;let le=Qr.getDecodedValue(j),ve=vt.getCodeword(le);return ve===-1?null:new Si(v,$,Xt.getCodewordBucketNumber(le),ve)}static getModuleBitCount(i,o,f,m,v,w){let S=v,I=new Int32Array(8),j=0,$=m?1:-1,ae=m;for(;(m?S<f:S>=o)&&j<I.length;)i.get(S,w)===ae?(I[j]++,S+=$):(j++,ae=!ae);return j===I.length||S===(m?f:o)&&j===I.length-1?I:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,f,m,v,w){let S=v,I=m?-1:1;for(let j=0;j<2;j++){for(;(m?S>=o:S<f)&&m===i.get(S,w);){if(Math.abs(v-S)>Xt.CODEWORD_SKEW_SIZE)return v;S+=I}I=-I,m=!m}return S}static checkCodewordSkew(i,o,f){return o-Xt.CODEWORD_SKEW_SIZE<=i&&i<=f+Xt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,f){if(i.length===0)throw V.getFormatInstance();let m=1<<o+1,v=Xt.correctErrors(i,f,m);Xt.verifyCodewordCount(i,m);let w=qe.decode(i,""+o);return w.setErrorsCorrected(v),w.setErasures(f.length),w}static correctErrors(i,o,f){if(o!=null&&o.length>f/2+Xt.MAX_ERRORS||f<0||f>Xt.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Xt.errorCorrection.decode(i,f,o)}static verifyCodewordCount(i,o){if(i.length<4)throw V.getFormatInstance();let f=i[0];if(f>i.length)throw V.getFormatInstance();if(f===0)if(o<i.length)i[0]=i.length-o;else throw V.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),f=0,m=o.length-1;for(;!((i&1)!==f&&(f=i&1,m--,m<0));)o[m]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Xt.getCodewordBucketNumber(Xt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Kr;for(let f=0;f<i.length;f++){o.format("Row %2d: ",f);for(let m=0;m<i[f].length;m++){let v=i[f][m];v.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}o.format("%n")}return o.toString()}}Xt.CODEWORD_SKEW_SIZE=2,Xt.MAX_ERRORS=3,Xt.MAX_EC_CODEWORDS=512,Xt.errorCorrection=new La;class Or{decode(i,o=null){let f=Or.decode(i,o,!1);if(f==null||f.length===0||f[0]==null)throw Z.getNotFoundInstance();return f[0]}decodeMultiple(i,o=null){try{return Or.decode(i,o,!0)}catch(f){throw f instanceof V||f instanceof C?Z.getNotFoundInstance():f}}static decode(i,o,f){const m=new Array,v=Wt.detectMultiple(i,o,f);for(const w of v.getPoints()){const S=Xt.decode(v.getBits(),w[4],w[5],w[6],w[7],Or.getMinCodewordWidth(w),Or.getMaxCodewordWidth(w)),I=new Ae(S.getText(),S.getRawBytes(),void 0,w,Le.PDF_417);I.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S.getECLevel());const j=S.getOther();j!=null&&I.putMetadata(Ze.PDF417_EXTRA_METADATA,j),m.push(I)}return m.map(w=>w)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?B.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Or.getMaxWidth(i[0],i[4]),Or.getMaxWidth(i[6],i[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.max(Or.getMaxWidth(i[1],i[5]),Or.getMaxWidth(i[7],i[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Or.getMinWidth(i[0],i[4]),Or.getMinWidth(i[6],i[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.min(Or.getMinWidth(i[1],i[5]),Or.getMinWidth(i[7],i[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ei extends g{}ei.kind="ReaderException";class Fl{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!a(i)&&i.get(Y.TRY_HARDER)===!0,f=a(i)?null:i.get(Y.POSSIBLE_FORMATS),m=new Array;if(!a(f)){const v=f.some(w=>w===Le.UPC_A||w===Le.UPC_E||w===Le.EAN_13||w===Le.EAN_8||w===Le.CODABAR||w===Le.CODE_39||w===Le.CODE_93||w===Le.CODE_128||w===Le.ITF||w===Le.RSS_14||w===Le.RSS_EXPANDED);v&&!o&&m.push(new ir(i,this.verbose)),f.includes(Le.QR_CODE)&&m.push(new hr),f.includes(Le.DATA_MATRIX)&&m.push(new Nn),f.includes(Le.AZTEC)&&m.push(new nr),f.includes(Le.PDF_417)&&m.push(new Or),v&&o&&m.push(new ir(i,this.verbose))}m.length===0&&(o||m.push(new ir(i,this.verbose)),m.push(new hr),m.push(new Nn),m.push(new nr),m.push(new Or),o&&m.push(new ir(i,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ei("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(f){if(f instanceof ei)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Hl extends Ie{constructor(i=null,o=500){const f=new Fl;f.setHints(i),super(f,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class xa extends Ie{constructor(i=500){super(new Or,i)}}class Vl extends Ie{constructor(i=500){super(new hr,i)}}var ns;(function(ie){ie[ie.ERROR_CORRECTION=0]="ERROR_CORRECTION",ie[ie.CHARACTER_SET=1]="CHARACTER_SET",ie[ie.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ie[ie.MIN_SIZE=3]="MIN_SIZE",ie[ie.MAX_SIZE=4]="MAX_SIZE",ie[ie.MARGIN=5]="MARGIN",ie[ie.PDF417_COMPACT=6]="PDF417_COMPACT",ie[ie.PDF417_COMPACTION=7]="PDF417_COMPACTION",ie[ie.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ie[ie.AZTEC_LAYERS=9]="AZTEC_LAYERS",ie[ie.QR_VERSION=10]="QR_VERSION"})(ns||(ns={}));var ar=ns;class $o{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Mt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let f=o[o.length-1];const m=this.field;for(let v=o.length;v<=i;v++){const w=f.multiply(new Mt(m,Int32Array.from([1,m.exp(v-1+m.getGeneratorBase())])));o.push(w),f=w}}return o[i]}encode(i,o){if(o===0)throw new E("No error correction bytes");const f=i.length-o;if(f<=0)throw new E("No data bytes provided");const m=this.buildGenerator(o),v=new Int32Array(f);N.arraycopy(i,0,v,0,f);let w=new Mt(this.field,v);w=w.multiplyByMonomial(o,1);const I=w.divide(m)[1].getCoefficients(),j=o-I.length;for(let $=0;$<j;$++)i[f+$]=0;N.arraycopy(I,0,i,f+j,I.length)}}class Yn{constructor(){}static applyMaskPenaltyRule1(i){return Yn.applyMaskPenaltyRule1Internal(i,!0)+Yn.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const f=i.getArray(),m=i.getWidth(),v=i.getHeight();for(let w=0;w<v-1;w++){const S=f[w];for(let I=0;I<m-1;I++){const j=S[I];j===S[I+1]&&j===f[w+1][I]&&j===f[w+1][I+1]&&o++}}return Yn.N2*o}static applyMaskPenaltyRule3(i){let o=0;const f=i.getArray(),m=i.getWidth(),v=i.getHeight();for(let w=0;w<v;w++)for(let S=0;S<m;S++){const I=f[w];S+6<m&&I[S]===1&&I[S+1]===0&&I[S+2]===1&&I[S+3]===1&&I[S+4]===1&&I[S+5]===0&&I[S+6]===1&&(Yn.isWhiteHorizontal(I,S-4,S)||Yn.isWhiteHorizontal(I,S+7,S+11))&&o++,w+6<v&&f[w][S]===1&&f[w+1][S]===0&&f[w+2][S]===1&&f[w+3][S]===1&&f[w+4][S]===1&&f[w+5][S]===0&&f[w+6][S]===1&&(Yn.isWhiteVertical(f,S,w-4,w)||Yn.isWhiteVertical(f,S,w+7,w+11))&&o++}return o*Yn.N3}static isWhiteHorizontal(i,o,f){o=Math.max(o,0),f=Math.min(f,i.length);for(let m=o;m<f;m++)if(i[m]===1)return!1;return!0}static isWhiteVertical(i,o,f,m){f=Math.max(f,0),m=Math.min(m,i.length);for(let v=f;v<m;v++)if(i[v][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const f=i.getArray(),m=i.getWidth(),v=i.getHeight();for(let I=0;I<v;I++){const j=f[I];for(let $=0;$<m;$++)j[$]===1&&o++}const w=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-w)*10/w)*Yn.N4}static getDataMaskBit(i,o,f){let m,v;switch(i){case 0:m=f+o&1;break;case 1:m=f&1;break;case 2:m=o%3;break;case 3:m=(f+o)%3;break;case 4:m=Math.floor(f/2)+Math.floor(o/3)&1;break;case 5:v=f*o,m=(v&1)+v%3;break;case 6:v=f*o,m=(v&1)+v%3&1;break;case 7:v=f*o,m=v%3+(f+o&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return m===0}static applyMaskPenaltyRule1Internal(i,o){let f=0;const m=o?i.getHeight():i.getWidth(),v=o?i.getWidth():i.getHeight(),w=i.getArray();for(let S=0;S<m;S++){let I=0,j=-1;for(let $=0;$<v;$++){const ae=o?w[S][$]:w[$][S];ae===j?I++:(I>=5&&(f+=Yn.N1+(I-5)),I=1,j=ae)}I>=5&&(f+=Yn.N1+(I-5))}return f}}Yn.N1=3,Yn.N2=3,Yn.N3=40,Yn.N4=10;class rs{constructor(i,o){this.width=i,this.height=o;const f=new Array(o);for(let m=0;m!==o;m++)f[m]=new Uint8Array(i);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,f){this.bytes[o][i]=f}setBoolean(i,o,f){this.bytes[o][i]=f?1:0}clear(i){for(const o of this.bytes)P.fill(o,i)}equals(i){if(!(i instanceof rs))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let f=0,m=this.height;f<m;++f){const v=this.bytes[f],w=o.bytes[f];for(let S=0,I=this.width;S<I;++S)if(v[S]!==w[S])return!1}return!0}toString(){const i=new ee;for(let o=0,f=this.height;o<f;++o){const m=this.bytes[o];for(let v=0,w=this.width;v<w;++v)switch(m[v]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Pa{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ee;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Pa.NUM_MASK_PATTERNS}}Pa.NUM_MASK_PATTERNS=8;class Pn extends g{}Pn.kind="WriterException";class kt{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,f,m,v){kt.clearMatrix(v),kt.embedBasicPatterns(f,v),kt.embedTypeInfo(o,m,v),kt.maybeEmbedVersionInfo(f,v),kt.embedDataBits(i,m,v)}static embedBasicPatterns(i,o){kt.embedPositionDetectionPatternsAndSeparators(o),kt.embedDarkDotAtLeftBottomCorner(o),kt.maybeEmbedPositionAdjustmentPatterns(i,o),kt.embedTimingPatterns(o)}static embedTypeInfo(i,o,f){const m=new W;kt.makeTypeInfoBits(i,o,m);for(let v=0,w=m.getSize();v<w;++v){const S=m.get(m.getSize()-1-v),I=kt.TYPE_INFO_COORDINATES[v],j=I[0],$=I[1];if(f.setBoolean(j,$,S),v<8){const ae=f.getWidth()-v-1;f.setBoolean(ae,8,S)}else{const le=f.getHeight()-7+(v-8);f.setBoolean(8,le,S)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const f=new W;kt.makeVersionInfoBits(i,f);let m=6*3-1;for(let v=0;v<6;++v)for(let w=0;w<3;++w){const S=f.get(m);m--,o.setBoolean(v,o.getHeight()-11+w,S),o.setBoolean(o.getHeight()-11+w,v,S)}}static embedDataBits(i,o,f){let m=0,v=-1,w=f.getWidth()-1,S=f.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);S>=0&&S<f.getHeight();){for(let I=0;I<2;++I){const j=w-I;if(!kt.isEmpty(f.get(j,S)))continue;let $;m<i.getSize()?($=i.get(m),++m):$=!1,o!==255&&Yn.getDataMaskBit(o,j,S)&&($=!$),f.setBoolean(j,S,$)}S+=v}v=-v,S+=v,w-=2}if(m!==i.getSize())throw new Pn("Not all bits consumed: "+m+"/"+i.getSize())}static findMSBSet(i){return 32-B.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new E("0 polynomial");const f=kt.findMSBSet(o);for(i<<=f-1;kt.findMSBSet(i)>=f;)i^=o<<kt.findMSBSet(i)-f;return i}static makeTypeInfoBits(i,o,f){if(!Pa.isValidMaskPattern(o))throw new Pn("Invalid mask pattern");const m=i.getBits()<<3|o;f.appendBits(m,5);const v=kt.calculateBCHCode(m,kt.TYPE_INFO_POLY);f.appendBits(v,10);const w=new W;if(w.appendBits(kt.TYPE_INFO_MASK_PATTERN,15),f.xor(w),f.getSize()!==15)throw new Pn("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const f=kt.calculateBCHCode(i.getVersionNumber(),kt.VERSION_INFO_POLY);if(o.appendBits(f,12),o.getSize()!==18)throw new Pn("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const f=(o+1)%2;kt.isEmpty(i.get(o,6))&&i.setNumber(o,6,f),kt.isEmpty(i.get(6,o))&&i.setNumber(6,o,f)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Pn;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,f){for(let m=0;m<8;++m){if(!kt.isEmpty(f.get(i+m,o)))throw new Pn;f.setNumber(i+m,o,0)}}static embedVerticalSeparationPattern(i,o,f){for(let m=0;m<7;++m){if(!kt.isEmpty(f.get(i,o+m)))throw new Pn;f.setNumber(i,o+m,0)}}static embedPositionAdjustmentPattern(i,o,f){for(let m=0;m<5;++m){const v=kt.POSITION_ADJUSTMENT_PATTERN[m];for(let w=0;w<5;++w)f.setNumber(i+w,o+m,v[w])}}static embedPositionDetectionPattern(i,o,f){for(let m=0;m<7;++m){const v=kt.POSITION_DETECTION_PATTERN[m];for(let w=0;w<7;++w)f.setNumber(i+w,o+m,v[w])}}static embedPositionDetectionPatternsAndSeparators(i){const o=kt.POSITION_DETECTION_PATTERN[0].length;kt.embedPositionDetectionPattern(0,0,i),kt.embedPositionDetectionPattern(i.getWidth()-o,0,i),kt.embedPositionDetectionPattern(0,i.getWidth()-o,i);const f=8;kt.embedHorizontalSeparationPattern(0,f-1,i),kt.embedHorizontalSeparationPattern(i.getWidth()-f,f-1,i),kt.embedHorizontalSeparationPattern(0,i.getWidth()-f,i);const m=7;kt.embedVerticalSeparationPattern(m,0,i),kt.embedVerticalSeparationPattern(i.getHeight()-m-1,0,i),kt.embedVerticalSeparationPattern(m,i.getHeight()-m,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const f=i.getVersionNumber()-1,m=kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let v=0,w=m.length;v!==w;v++){const S=m[v];if(S>=0)for(let I=0;I!==w;I++){const j=m[I];j>=0&&kt.isEmpty(o.get(j,S))&&kt.embedPositionAdjustmentPattern(j-2,S-2,o)}}}}kt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),kt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),kt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),kt.VERSION_INFO_POLY=7973,kt.TYPE_INFO_POLY=1335,kt.TYPE_INFO_MASK_PATTERN=21522;class Gu{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Bn{constructor(){}static calculateMaskPenalty(i){return Yn.applyMaskPenaltyRule1(i)+Yn.applyMaskPenaltyRule2(i)+Yn.applyMaskPenaltyRule3(i)+Yn.applyMaskPenaltyRule4(i)}static encode(i,o,f=null){let m=Bn.DEFAULT_BYTE_MODE_ENCODING;const v=f!==null&&f.get(ar.CHARACTER_SET)!==void 0;v&&(m=f.get(ar.CHARACTER_SET).toString());const w=this.chooseMode(i,m),S=new W;if(w===Rt.BYTE&&(v||Bn.DEFAULT_BYTE_MODE_ENCODING!==m)){const ot=G.getCharacterSetECIByName(m);ot!==void 0&&this.appendECI(ot,S)}this.appendModeInfo(w,S);const I=new W;this.appendBytes(i,w,I,m);let j;if(f!==null&&f.get(ar.QR_VERSION)!==void 0){const ot=Number.parseInt(f.get(ar.QR_VERSION).toString(),10);j=mt.getVersionForNumber(ot);const it=this.calculateBitsNeeded(w,S,I,j);if(!this.willFit(it,j,o))throw new Pn("Data too big for requested version")}else j=this.recommendVersion(o,w,S,I);const $=new W;$.appendBitArray(S);const ae=w===Rt.BYTE?I.getSizeInBytes():i.length;this.appendLengthInfo(ae,j,w,$),$.appendBitArray(I);const le=j.getECBlocksForLevel(o),ve=j.getTotalCodewords()-le.getTotalECCodewords();this.terminateBits(ve,$);const be=this.interleaveWithECBytes($,j.getTotalCodewords(),ve,le.getNumBlocks()),Ce=new Pa;Ce.setECLevel(o),Ce.setMode(w),Ce.setVersion(j);const Pe=j.getDimensionForVersion(),Fe=new rs(Pe,Pe),st=this.chooseMaskPattern(be,o,j,Fe);return Ce.setMaskPattern(st),kt.buildMatrix(be,o,j,st,Fe),Ce.setMatrix(Fe),Ce}static recommendVersion(i,o,f,m){const v=this.calculateBitsNeeded(o,f,m,mt.getVersionForNumber(1)),w=this.chooseVersion(v,i),S=this.calculateBitsNeeded(o,f,m,w);return this.chooseVersion(S,i)}static calculateBitsNeeded(i,o,f,m){return o.getSize()+i.getCharacterCountBits(m)+f.getSize()}static getAlphanumericCode(i){return i<Bn.ALPHANUMERIC_TABLE.length?Bn.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(G.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Rt.KANJI;let f=!1,m=!1;for(let v=0,w=i.length;v<w;++v){const S=i.charAt(v);if(Bn.isDigit(S))f=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)m=!0;else return Rt.BYTE}return m?Rt.ALPHANUMERIC:f?Rt.NUMERIC:Rt.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=Q.encode(i,G.SJIS)}catch{return!1}const f=o.length;if(f%2!==0)return!1;for(let m=0;m<f;m+=2){const v=o[m]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(i,o,f,m){let v=Number.MAX_SAFE_INTEGER,w=-1;for(let S=0;S<Pa.NUM_MASK_PATTERNS;S++){kt.buildMatrix(i,o,f,S,m);let I=this.calculateMaskPenalty(m);I<v&&(v=I,w=S)}return w}static chooseVersion(i,o){for(let f=1;f<=40;f++){const m=mt.getVersionForNumber(f);if(Bn.willFit(i,m,o))return m}throw new Pn("Data too big")}static willFit(i,o,f){const m=o.getTotalCodewords(),w=o.getECBlocksForLevel(f).getTotalECCodewords(),S=m-w,I=(i+7)/8;return S>=I}static terminateBits(i,o){const f=i*8;if(o.getSize()>f)throw new Pn("data bits cannot fit in the QR Code"+o.getSize()+" > "+f);for(let w=0;w<4&&o.getSize()<f;++w)o.appendBit(!1);const m=o.getSize()&7;if(m>0)for(let w=m;w<8;w++)o.appendBit(!1);const v=i-o.getSizeInBytes();for(let w=0;w<v;++w)o.appendBits((w&1)===0?236:17,8);if(o.getSize()!==f)throw new Pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,f,m,v,w){if(m>=f)throw new Pn("Block ID too large");const S=i%f,I=f-S,j=Math.floor(i/f),$=j+1,ae=Math.floor(o/f),le=ae+1,ve=j-ae,be=$-le;if(ve!==be)throw new Pn("EC bytes mismatch");if(f!==I+S)throw new Pn("RS blocks mismatch");if(i!==(ae+ve)*I+(le+be)*S)throw new Pn("Total bytes mismatch");m<I?(v[0]=ae,w[0]=ve):(v[0]=le,w[0]=be)}static interleaveWithECBytes(i,o,f,m){if(i.getSizeInBytes()!==f)throw new Pn("Number of bits and data bytes does not match");let v=0,w=0,S=0;const I=new Array;for(let $=0;$<m;++$){const ae=new Int32Array(1),le=new Int32Array(1);Bn.getNumDataBytesAndNumECBytesForBlockID(o,f,m,$,ae,le);const ve=ae[0],be=new Uint8Array(ve);i.toBytes(8*v,be,0,ve);const Ce=Bn.generateECBytes(be,le[0]);I.push(new Gu(be,Ce)),w=Math.max(w,ve),S=Math.max(S,Ce.length),v+=ae[0]}if(f!==v)throw new Pn("Data bytes does not match offset");const j=new W;for(let $=0;$<w;++$)for(const ae of I){const le=ae.getDataBytes();$<le.length&&j.appendBits(le[$],8)}for(let $=0;$<S;++$)for(const ae of I){const le=ae.getErrorCorrectionBytes();$<le.length&&j.appendBits(le[$],8)}if(o!==j.getSizeInBytes())throw new Pn("Interleaving error: "+o+" and "+j.getSizeInBytes()+" differ.");return j}static generateECBytes(i,o){const f=i.length,m=new Int32Array(f+o);for(let w=0;w<f;w++)m[w]=i[w]&255;new $o(Tt.QR_CODE_FIELD_256).encode(m,o);const v=new Uint8Array(o);for(let w=0;w<o;w++)v[w]=m[f+w];return v}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,f,m){const v=f.getCharacterCountBits(o);if(i>=1<<v)throw new Pn(i+" is bigger than "+((1<<v)-1));m.appendBits(i,v)}static appendBytes(i,o,f,m){switch(o){case Rt.NUMERIC:Bn.appendNumericBytes(i,f);break;case Rt.ALPHANUMERIC:Bn.appendAlphanumericBytes(i,f);break;case Rt.BYTE:Bn.append8BitBytes(i,f,m);break;case Rt.KANJI:Bn.appendKanjiBytes(i,f);break;default:throw new Pn("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Bn.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const f=i.length;let m=0;for(;m<f;){const v=Bn.getDigit(i.charAt(m));if(m+2<f){const w=Bn.getDigit(i.charAt(m+1)),S=Bn.getDigit(i.charAt(m+2));o.appendBits(v*100+w*10+S,10),m+=3}else if(m+1<f){const w=Bn.getDigit(i.charAt(m+1));o.appendBits(v*10+w,7),m+=2}else o.appendBits(v,4),m++}}static appendAlphanumericBytes(i,o){const f=i.length;let m=0;for(;m<f;){const v=Bn.getAlphanumericCode(i.charCodeAt(m));if(v===-1)throw new Pn;if(m+1<f){const w=Bn.getAlphanumericCode(i.charCodeAt(m+1));if(w===-1)throw new Pn;o.appendBits(v*45+w,11),m+=2}else o.appendBits(v,6),m++}}static append8BitBytes(i,o,f){let m;try{m=Q.encode(i,f)}catch(v){throw new Pn(v)}for(let v=0,w=m.length;v!==w;v++){const S=m[v];o.appendBits(S,8)}}static appendKanjiBytes(i,o){let f;try{f=Q.encode(i,G.SJIS)}catch(v){throw new Pn(v)}const m=f.length;for(let v=0;v<m;v+=2){const w=f[v]&255,S=f[v+1]&255,I=w<<8&4294967295|S;let j=-1;if(I>=33088&&I<=40956?j=I-33088:I>=57408&&I<=60351&&(j=I-49472),j===-1)throw new Pn("Invalid byte sequence");const $=(j>>8)*192+(j&255);o.appendBits($,13)}}static appendECI(i,o){o.appendBits(Rt.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Bn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Bn.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class wa{write(i,o,f,m=null){if(i.length===0)throw new E("Found empty contents");if(o<0||f<0)throw new E("Requested dimensions are too small: "+o+"x"+f);let v=jt.L,w=wa.QUIET_ZONE_SIZE;m!==null&&(m.get(ar.ERROR_CORRECTION)!==void 0&&(v=jt.fromString(m.get(ar.ERROR_CORRECTION).toString())),m.get(ar.MARGIN)!==void 0&&(w=Number.parseInt(m.get(ar.MARGIN).toString(),10)));const S=Bn.encode(i,v,m);return this.renderResult(S,o,f,w)}writeToDom(i,o,f,m,v=null){typeof i=="string"&&(i=document.querySelector(i));const w=this.write(o,f,m,v);i&&i.appendChild(w)}renderResult(i,o,f,m){const v=i.getMatrix();if(v===null)throw new Ye;const w=v.getWidth(),S=v.getHeight(),I=w+m*2,j=S+m*2,$=Math.max(o,I),ae=Math.max(f,j),le=Math.min(Math.floor($/I),Math.floor(ae/j)),ve=Math.floor(($-w*le)/2),be=Math.floor((ae-S*le)/2),Ce=this.createSVGElement($,ae);for(let Pe=0,Fe=be;Pe<S;Pe++,Fe+=le)for(let st=0,ot=ve;st<w;st++,ot+=le)if(v.get(st,Pe)===1){const it=this.createSvgRectElement(ot,Fe,le,le);Ce.appendChild(it)}return Ce}createSVGElement(i,o){const f=document.createElementNS(wa.SVG_NS,"svg");return f.setAttributeNS(null,"height",i.toString()),f.setAttributeNS(null,"width",o.toString()),f}createSvgRectElement(i,o,f,m){const v=document.createElementNS(wa.SVG_NS,"rect");return v.setAttributeNS(null,"x",i.toString()),v.setAttributeNS(null,"y",o.toString()),v.setAttributeNS(null,"height",f.toString()),v.setAttributeNS(null,"width",m.toString()),v.setAttributeNS(null,"fill","#000000"),v}}wa.QUIET_ZONE_SIZE=4,wa.SVG_NS="http://www.w3.org/2000/svg";class Ji{encode(i,o,f,m,v){if(i.length===0)throw new E("Found empty contents");if(o!==Le.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(f<0||m<0)throw new E(`Requested dimensions are too small: ${f}x${m}`);let w=jt.L,S=Ji.QUIET_ZONE_SIZE;v!==null&&(v.get(ar.ERROR_CORRECTION)!==void 0&&(w=jt.fromString(v.get(ar.ERROR_CORRECTION).toString())),v.get(ar.MARGIN)!==void 0&&(S=Number.parseInt(v.get(ar.MARGIN).toString(),10)));const I=Bn.encode(i,w,v);return Ji.renderResult(I,f,m,S)}static renderResult(i,o,f,m){const v=i.getMatrix();if(v===null)throw new Ye;const w=v.getWidth(),S=v.getHeight(),I=w+m*2,j=S+m*2,$=Math.max(o,I),ae=Math.max(f,j),le=Math.min(Math.floor($/I),Math.floor(ae/j)),ve=Math.floor(($-w*le)/2),be=Math.floor((ae-S*le)/2),Ce=new z($,ae);for(let Pe=0,Fe=be;Pe<S;Pe++,Fe+=le)for(let st=0,ot=ve;st<w;st++,ot+=le)v.get(st,Pe)===1&&Ce.setRegion(ot,Fe,le,le);return Ce}}Ji.QUIET_ZONE_SIZE=4;class Ba{encode(i,o,f,m,v){let w;switch(o){case Le.QR_CODE:w=new Ji;break;default:throw new E("No encoder available for format "+o)}return w.encode(i,o,f,m,v)}}class Ui extends ge{constructor(i,o,f,m,v,w,S,I){if(super(w,S),this.yuvData=i,this.dataWidth=o,this.dataHeight=f,this.left=m,this.top=v,m+w>o||v+S>f)throw new E("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(w,S)}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const f=this.getWidth();(o==null||o.length<f)&&(o=new Uint8ClampedArray(f));const m=(i+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,m,o,0,f),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const f=i*o,m=new Uint8ClampedArray(f);let v=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return N.arraycopy(this.yuvData,v,m,0,f),m;for(let w=0;w<o;w++){const S=w*i;N.arraycopy(this.yuvData,v,m,S,i),v+=this.dataWidth}return m}isCropSupported(){return!0}crop(i,o,f,m){return new Ui(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,f,m,!1)}renderThumbnail(){const i=this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(i*o),m=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let w=0;w<o;w++){const S=w*i;for(let I=0;I<i;I++){const j=m[v+I*Ui.THUMBNAIL_SCALE_FACTOR]&255;f[S+I]=4278190080|j*65793}v+=this.dataWidth*Ui.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const f=this.yuvData;for(let m=0,v=this.top*this.dataWidth+this.left;m<o;m++,v+=this.dataWidth){const w=v+i/2;for(let S=v,I=v+i-1;S<w;S++,I--){const j=f[S];f[S]=f[I],f[I]=j}}}invert(){return new fe(this)}}Ui.THUMBNAIL_SCALE_FACTOR=2;class ea extends ge{constructor(i,o,f,m,v,w,S){if(super(o,f),this.dataWidth=m,this.dataHeight=v,this.left=w,this.top=S,i.BYTES_PER_ELEMENT===4){const I=o*f,j=new Uint8ClampedArray(I);for(let $=0;$<I;$++){const ae=i[$],le=ae>>16&255,ve=ae>>7&510,be=ae&255;j[$]=(le+ve+be)/4&255}this.luminances=j}else this.luminances=i;if(m===void 0&&(this.dataWidth=o),v===void 0&&(this.dataHeight=f),w===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+f>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const f=this.getWidth();(o==null||o.length<f)&&(o=new Uint8ClampedArray(f));const m=(i+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,m,o,0,f),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const f=i*o,m=new Uint8ClampedArray(f);let v=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return N.arraycopy(this.luminances,v,m,0,f),m;for(let w=0;w<o;w++){const S=w*i;N.arraycopy(this.luminances,v,m,S,i),v+=this.dataWidth}return m}isCropSupported(){return!0}crop(i,o,f,m){return new ea(this.luminances,f,m,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new fe(this)}}class Ir extends G{static forName(i){return this.getCharacterSetECIByName(i)}}class to{}to.ISO_8859_1=G.ISO8859_1;class no{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Ko{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class ro{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ta extends ro{constructor(i,o,f){super(i),this.value=o,this.bitCount=f}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new ta(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ta(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+B.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class io extends ta{constructor(i,o,f){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=f}appendTo(i,o){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):f===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+f],8)}addBinaryShift(i,o){return new io(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function is(ie,i,o){return new io(ie,i,o)}function as(ie,i,o){return new ta(ie,i,o)}const Zu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vr=0,Fi=1,hi=2,ti=3,ni=4,ss=new ta(null,0,0),os=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ls(ie){for(let i of ie)P.fill(i,-1);return ie[vr][ni]=0,ie[Fi][ni]=0,ie[Fi][vr]=28,ie[ti][ni]=0,ie[hi][ni]=0,ie[hi][vr]=15,ie}const ao=ls(P.createInt32Array(6,6));class Vr{constructor(i,o,f,m){this.token=i,this.mode=o,this.binaryShiftByteCount=f,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let f=this.bitCount,m=this.token;if(i!==this.mode){let w=os[this.mode][i];m=as(m,w&65535,w>>16),f+=w>>16}let v=i===hi?4:5;return m=as(m,o,v),new Vr(m,i,0,f+v)}shiftAndAppend(i,o){let f=this.token,m=this.mode===hi?4:5;return f=as(f,ao[this.mode][i],m),f=as(f,o,5),new Vr(f,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(i){let o=this.token,f=this.mode,m=this.bitCount;if(this.mode===ni||this.mode===hi){let S=os[f][vr];o=as(o,S&65535,S>>16),m+=S>>16,f=vr}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Vr(o,f,this.binaryShiftByteCount+1,m+v);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(i+1)),w}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=is(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(os[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Vr.calculateBinaryShiftCost(i)-Vr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let m=this.endBinaryShift(i.length).token;m!==null;m=m.getPrevious())o.unshift(m);let f=new W;for(const m of o)m.appendTo(f,i);return f}toString(){return H.format("%s bits=%d bytes=%d",Zu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Vr.INITIAL_STATE=new Vr(ss,vr,0,0);function Qo(ie){const i=H.getCharCode(" "),o=H.getCharCode("."),f=H.getCharCode(",");ie[vr][i]=1;const m=H.getCharCode("Z"),v=H.getCharCode("A");for(let le=v;le<=m;le++)ie[vr][le]=le-v+2;ie[Fi][i]=1;const w=H.getCharCode("z"),S=H.getCharCode("a");for(let le=S;le<=w;le++)ie[Fi][le]=le-S+2;ie[hi][i]=1;const I=H.getCharCode("9"),j=H.getCharCode("0");for(let le=j;le<=I;le++)ie[hi][le]=le-j+2;ie[hi][f]=12,ie[hi][o]=13;const $=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let le=0;le<$.length;le++)ie[ti][H.getCharCode($[le])]=le;const ae=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let le=0;le<ae.length;le++)H.getCharCode(ae[le])>0&&(ie[ni][H.getCharCode(ae[le])]=le);return ie}const Ci=Qo(P.createInt32Array(5,256));class na{constructor(i){this.text=i}encode(){const i=H.getCharCode(" "),o=H.getCharCode(`
`);let f=Ko.singletonList(Vr.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let w,S=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case H.getCharCode("\r"):w=S===o?2:0;break;case H.getCharCode("."):w=S===i?3:0;break;case H.getCharCode(","):w=S===i?4:0;break;case H.getCharCode(":"):w=S===i?5:0;break;default:w=0}w>0?(f=na.updateStateListForPair(f,v,w),v++):f=this.updateStateListForChar(f,v)}return Ko.min(f,(v,w)=>v.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const f=[];for(let m of i)this.updateStateForChar(m,o,f);return na.simplifyStates(f)}updateStateForChar(i,o,f){let m=this.text[o]&255,v=Ci[i.getMode()][m]>0,w=null;for(let S=0;S<=ni;S++){let I=Ci[S][m];if(I>0){if(w==null&&(w=i.endBinaryShift(o)),!v||S===i.getMode()||S===hi){const j=w.latchAndAppend(S,I);f.push(j)}if(!v&&ao[i.getMode()][S]>=0){const j=w.shiftAndAppend(S,I);f.push(j)}}}if(i.getBinaryShiftByteCount()>0||Ci[i.getMode()][m]===0){let S=i.addBinaryShiftChar(o);f.push(S)}}static updateStateListForPair(i,o,f){const m=[];for(let v of i)this.updateStateForPair(v,o,f,m);return this.simplifyStates(m)}static updateStateForPair(i,o,f,m){let v=i.endBinaryShift(o);if(m.push(v.latchAndAppend(ni,f)),i.getMode()!==ni&&m.push(v.shiftAndAppend(ni,f)),f===3||f===4){let w=v.latchAndAppend(hi,16-f).latchAndAppend(hi,1);m.push(w)}if(i.getBinaryShiftByteCount()>0){let w=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);m.push(w)}}static simplifyStates(i){let o=[];for(const f of i){let m=!0;for(const v of o){if(v.isBetterThanOrEqualTo(f)){m=!1;break}f.isBetterThanOrEqualTo(v)&&(o=o.filter(w=>w!==v))}m&&o.push(f)}return o}}class yn{constructor(){}static encodeBytes(i){return yn.encode(i,yn.DEFAULT_EC_PERCENT,yn.DEFAULT_AZTEC_LAYERS)}static encode(i,o,f){let m=new na(i).encode(),v=B.truncDivision(m.getSize()*o,100)+11,w=m.getSize()+v,S,I,j,$,ae;if(f!==yn.DEFAULT_AZTEC_LAYERS){if(S=f<0,I=Math.abs(f),I>(S?yn.MAX_NB_BITS_COMPACT:yn.MAX_NB_BITS))throw new E(H.format("Illegal value %s for layers",f));j=yn.totalBitsInLayer(I,S),$=yn.WORD_SIZE[I];let it=j-j%$;if(ae=yn.stuffBits(m,$),ae.getSize()+v>it)throw new E("Data to large for user specified layer");if(S&&ae.getSize()>$*64)throw new E("Data to large for user specified layer")}else{$=0,ae=null;for(let it=0;;it++){if(it>yn.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(S=it<=3,I=S?it+1:it,j=yn.totalBitsInLayer(I,S),w>j)continue;(ae==null||$!==yn.WORD_SIZE[I])&&($=yn.WORD_SIZE[I],ae=yn.stuffBits(m,$));let an=j-j%$;if(!(S&&ae.getSize()>$*64)&&ae.getSize()+v<=an)break}}let le=yn.generateCheckWords(ae,j,$),ve=ae.getSize()/$,be=yn.generateModeMessage(S,I,ve),Ce=(S?11:14)+I*4,Pe=new Int32Array(Ce),Fe;if(S){Fe=Ce;for(let it=0;it<Pe.length;it++)Pe[it]=it}else{Fe=Ce+1+2*B.truncDivision(B.truncDivision(Ce,2)-1,15);let it=B.truncDivision(Ce,2),an=B.truncDivision(Fe,2);for(let zt=0;zt<it;zt++){let Hn=zt+B.truncDivision(zt,15);Pe[it-zt-1]=an-Hn-1,Pe[it+zt]=an+Hn+1}}let st=new z(Fe);for(let it=0,an=0;it<I;it++){let zt=(I-it)*4+(S?9:12);for(let Hn=0;Hn<zt;Hn++){let qr=Hn*2;for(let Wr=0;Wr<2;Wr++)le.get(an+qr+Wr)&&st.set(Pe[it*2+Wr],Pe[it*2+Hn]),le.get(an+zt*2+qr+Wr)&&st.set(Pe[it*2+Hn],Pe[Ce-1-it*2-Wr]),le.get(an+zt*4+qr+Wr)&&st.set(Pe[Ce-1-it*2-Wr],Pe[Ce-1-it*2-Hn]),le.get(an+zt*6+qr+Wr)&&st.set(Pe[Ce-1-it*2-Hn],Pe[it*2+Wr])}an+=zt*8}if(yn.drawModeMessage(st,S,Fe,be),S)yn.drawBullsEye(st,B.truncDivision(Fe,2),5);else{yn.drawBullsEye(st,B.truncDivision(Fe,2),7);for(let it=0,an=0;it<B.truncDivision(Ce,2)-1;it+=15,an+=16)for(let zt=B.truncDivision(Fe,2)&1;zt<Fe;zt+=2)st.set(B.truncDivision(Fe,2)-an,zt),st.set(B.truncDivision(Fe,2)+an,zt),st.set(zt,B.truncDivision(Fe,2)-an),st.set(zt,B.truncDivision(Fe,2)+an)}let ot=new no;return ot.setCompact(S),ot.setSize(Fe),ot.setLayers(I),ot.setCodeWords(ve),ot.setMatrix(st),ot}static drawBullsEye(i,o,f){for(let m=0;m<f;m+=2)for(let v=o-m;v<=o+m;v++)i.set(v,o-m),i.set(v,o+m),i.set(o-m,v),i.set(o+m,v);i.set(o-f,o-f),i.set(o-f+1,o-f),i.set(o-f,o-f+1),i.set(o+f,o-f),i.set(o+f,o-f+1),i.set(o+f,o+f-1)}static generateModeMessage(i,o,f){let m=new W;return i?(m.appendBits(o-1,2),m.appendBits(f-1,6),m=yn.generateCheckWords(m,28,4)):(m.appendBits(o-1,5),m.appendBits(f-1,11),m=yn.generateCheckWords(m,40,4)),m}static drawModeMessage(i,o,f,m){let v=B.truncDivision(f,2);if(o)for(let w=0;w<7;w++){let S=v-3+w;m.get(w)&&i.set(S,v-5),m.get(w+7)&&i.set(v+5,S),m.get(20-w)&&i.set(S,v+5),m.get(27-w)&&i.set(v-5,S)}else for(let w=0;w<10;w++){let S=v-5+w+B.truncDivision(w,5);m.get(w)&&i.set(S,v-7),m.get(w+10)&&i.set(v+7,S),m.get(29-w)&&i.set(S,v+7),m.get(39-w)&&i.set(v-7,S)}}static generateCheckWords(i,o,f){let m=i.getSize()/f,v=new $o(yn.getGF(f)),w=B.truncDivision(o,f),S=yn.bitsToWords(i,f,w);v.encode(S,w-m);let I=o%f,j=new W;j.appendBits(0,I);for(const $ of Array.from(S))j.appendBits($,f);return j}static bitsToWords(i,o,f){let m=new Int32Array(f),v,w;for(v=0,w=i.getSize()/o;v<w;v++){let S=0;for(let I=0;I<o;I++)S|=i.get(v*o+I)?1<<o-I-1:0;m[v]=S}return m}static getGF(i){switch(i){case 4:return Tt.AZTEC_PARAM;case 6:return Tt.AZTEC_DATA_6;case 8:return Tt.AZTEC_DATA_8;case 10:return Tt.AZTEC_DATA_10;case 12:return Tt.AZTEC_DATA_12;default:throw new E("Unsupported word size "+i)}}static stuffBits(i,o){let f=new W,m=i.getSize(),v=(1<<o)-2;for(let w=0;w<m;w+=o){let S=0;for(let I=0;I<o;I++)(w+I>=m||i.get(w+I))&&(S|=1<<o-1-I);(S&v)===v?(f.appendBits(S&v,o),w--):(S&v)===0?(f.appendBits(S|1,o),w--):f.appendBits(S,o)}return f}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}yn.DEFAULT_EC_PERCENT=33,yn.DEFAULT_AZTEC_LAYERS=0,yn.MAX_NB_BITS=32,yn.MAX_NB_BITS_COMPACT=4,yn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class us{encode(i,o,f,m){return this.encodeWithHints(i,o,f,m,null)}encodeWithHints(i,o,f,m,v){let w=to.ISO_8859_1,S=yn.DEFAULT_EC_PERCENT,I=yn.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(ar.CHARACTER_SET)&&(w=Ir.forName(v.get(ar.CHARACTER_SET).toString())),v.has(ar.ERROR_CORRECTION)&&(S=B.parseInt(v.get(ar.ERROR_CORRECTION).toString())),v.has(ar.AZTEC_LAYERS)&&(I=B.parseInt(v.get(ar.AZTEC_LAYERS).toString()))),us.encodeLayers(i,o,f,m,w,S,I)}static encodeLayers(i,o,f,m,v,w,S){if(o!==Le.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let I=yn.encode(H.getBytes(i,v),w,S);return us.renderResult(I,f,m)}static renderResult(i,o,f){let m=i.getMatrix();if(m==null)throw new Ye;let v=m.getWidth(),w=m.getHeight(),S=Math.max(o,v),I=Math.max(f,w),j=Math.min(S/v,I/w),$=(S-v*j)/2,ae=(I-w*j)/2,le=new z(S,I);for(let ve=0,be=ae;ve<w;ve++,be+=j)for(let Ce=0,Pe=$;Ce<v;Ce++,Pe+=j)m.get(Ce,ve)&&le.setRegion(Pe,be,j,j);return le}}n.AbstractExpandedDecoder=pt,n.ArgumentException=b,n.ArithmeticException=Yt,n.AztecCode=no,n.AztecCodeReader=nr,n.AztecCodeWriter=us,n.AztecDecoder=de,n.AztecDetector=fi,n.AztecDetectorResult=ct,n.AztecEncoder=yn,n.AztecHighLevelEncoder=na,n.AztecPoint=nn,n.BarcodeFormat=Le,n.Binarizer=R,n.BinaryBitmap=O,n.BitArray=W,n.BitMatrix=z,n.BitSource=Cr,n.BrowserAztecCodeReader=Yi,n.BrowserBarcodeReader=rn,n.BrowserCodeReader=Ie,n.BrowserDatamatrixCodeReader=$a,n.BrowserMultiFormatReader=Hl,n.BrowserPDF417Reader=xa,n.BrowserQRCodeReader=Vl,n.BrowserQRCodeSvgWriter=wa,n.CharacterSetECI=G,n.ChecksumException=C,n.Code128Reader=rt,n.Code39Reader=Ln,n.DataMatrixDecodedBitStreamParser=$r,n.DataMatrixReader=Nn,n.DecodeHintType=Y,n.DecoderResult=ft,n.DefaultGridSampler=dn,n.DetectorResult=je,n.EAN13Reader=rr,n.EncodeHintType=ar,n.Exception=g,n.FormatException=V,n.GenericGF=Tt,n.GenericGFPoly=Mt,n.GlobalHistogramBinarizer=ye,n.GridSampler=ut,n.GridSamplerInstance=It,n.HTMLCanvasElementLuminanceSource=se,n.HybridBinarizer=he,n.ITFReader=Ft,n.IllegalArgumentException=E,n.IllegalStateException=Ye,n.InvertedLuminanceSource=fe,n.LuminanceSource=ge,n.MathUtils=Ee,n.MultiFormatOneDReader=ir,n.MultiFormatReader=Fl,n.MultiFormatWriter=Ba,n.NotFoundException=Z,n.OneDReader=Nt,n.PDF417DecodedBitStreamParser=qe,n.PDF417DecoderErrorCorrection=La,n.PDF417Reader=Or,n.PDF417ResultMetadata=Os,n.PerspectiveTransform=yt,n.PlanarYUVLuminanceSource=Ui,n.QRCodeByteMatrix=rs,n.QRCodeDataMask=Ar,n.QRCodeDecodedBitStreamParser=kn,n.QRCodeDecoderErrorCorrectionLevel=jt,n.QRCodeDecoderFormatInformation=gr,n.QRCodeEncoder=Bn,n.QRCodeEncoderQRCode=Pa,n.QRCodeMaskUtil=Yn,n.QRCodeMatrixUtil=kt,n.QRCodeMode=Rt,n.QRCodeReader=hr,n.QRCodeVersion=mt,n.QRCodeWriter=Ji,n.RGBLuminanceSource=ea,n.RSS14Reader=Sn,n.RSSExpandedReader=et,n.ReaderException=ei,n.ReedSolomonDecoder=Ue,n.ReedSolomonEncoder=$o,n.ReedSolomonException=re,n.Result=Ae,n.ResultMetadataType=Ze,n.ResultPoint=ke,n.StringUtils=H,n.UnsupportedOperationException=J,n.VideoInputDevice=ue,n.WhiteRectangleDetector=lt,n.WriterException=Pn,n.ZXingArrays=P,n.ZXingCharset=Ir,n.ZXingInteger=B,n.ZXingStandardCharsets=to,n.ZXingStringBuilder=ee,n.ZXingStringEncoding=Q,n.ZXingSystem=N,n.createAbstractExpandedDecoder=or,Object.defineProperty(n,"__esModule",{value:!0})})}(Gc,Gc.exports)),Gc.exports}var sr=CR();const AR=Vo(sr),TR=rp({__proto__:null,default:AR},[sr]);var xx=function(){function e(t,n,a){if(this.formatMap=new Map([[St.QR_CODE,sr.BarcodeFormat.QR_CODE],[St.AZTEC,sr.BarcodeFormat.AZTEC],[St.CODABAR,sr.BarcodeFormat.CODABAR],[St.CODE_39,sr.BarcodeFormat.CODE_39],[St.CODE_93,sr.BarcodeFormat.CODE_93],[St.CODE_128,sr.BarcodeFormat.CODE_128],[St.DATA_MATRIX,sr.BarcodeFormat.DATA_MATRIX],[St.MAXICODE,sr.BarcodeFormat.MAXICODE],[St.ITF,sr.BarcodeFormat.ITF],[St.EAN_13,sr.BarcodeFormat.EAN_13],[St.EAN_8,sr.BarcodeFormat.EAN_8],[St.PDF_417,sr.BarcodeFormat.PDF_417],[St.RSS_14,sr.BarcodeFormat.RSS_14],[St.RSS_EXPANDED,sr.BarcodeFormat.RSS_EXPANDED],[St.UPC_A,sr.BarcodeFormat.UPC_A],[St.UPC_E,sr.BarcodeFormat.UPC_E],[St.UPC_EAN_EXTENSION,sr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!TR)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=a;var l=this.createZXingFormats(t),c=new Map;c.set(sr.DecodeHintType.POSSIBLE_FORMATS,l),c.set(sr.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(a,l){try{a(n.decode(t))}catch(c){l(c)}})},e.prototype.decode=function(t){var n=new sr.MultiFormatReader(this.verbose,this.hints),a=new sr.HTMLCanvasElementLuminanceSource(t),l=new sr.BinaryBitmap(new sr.HybridBinarizer(a)),c=n.decode(l);return{text:c.text,format:DE.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,l){t.set(n,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],a=0,l=t;a<l.length;a++){var c=l[a];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),OR=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},IR=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},wx=function(){function e(t,n,a){if(this.formatMap=new Map([[St.QR_CODE,"qr_code"],[St.AZTEC,"aztec"],[St.CODABAR,"codabar"],[St.CODE_39,"code_39"],[St.CODE_93,"code_93"],[St.CODE_128,"code_128"],[St.DATA_MATRIX,"data_matrix"],[St.ITF,"itf"],[St.EAN_13,"ean_13"],[St.EAN_8,"ean_8"],[St.PDF_417,"pdf417"],[St.UPC_A,"upc_a"],[St.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=a;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return OR(this,void 0,void 0,function(){var n,a;return IR(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(n),[2,{text:a.rawValue,format:DE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,a=0,l=0,c=t;l<c.length;l++){var d=c[l],y=d.boundingBox.width*d.boundingBox.height;y>a&&(a=y,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],a=0,l=t;a<l.length;a++){var c=l[a];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,l){t.set(n,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),bx=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},Ex=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},NR=function(){function e(t,n,a,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,n&&wx.isSupported()?(this.primaryDecoder=new wx(t,a,l),this.secondaryDecoder=new xx(t,a,l)):this.primaryDecoder=new xx(t,a,l)}return e.prototype.decodeAsync=function(t){return bx(this,void 0,void 0,function(){var n;return Ex(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return bx(this,void 0,void 0,function(){var n,a;return Ex(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,a=this.executionResults;n<a.length;n++){var l=a[n];t+=l}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Wp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),ed=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},td=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},BE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),RR=function(e){Wp(t,e);function t(n,a){return e.call(this,n,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var a={};a[this.name]=n;var l={advanced:[a]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),a=n[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(BE),MR=function(e){Wp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(RR),DR=function(e){Wp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(BE),LR=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new MR(this.track)},e.prototype.torchFeature=function(){return new DR(this.track)},e}(),kR=function(){function e(t,n,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var a=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,l),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,a,l){return ed(this,void 0,void 0,function(){var c,d;return td(this,function(y){switch(y.label){case 0:return c=new e(t,n,l),a.aspectRatio?(d={aspectRatio:a.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:y.sent(),y.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,a=function(){setTimeout(t,200),n.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ed(this,void 0,void 0,function(){return td(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,a){var l=t.mediaStream.getVideoTracks(),c=l.length,d=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++d,d>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new LR(this.getFirstTrackOrFail())},e}(),PR=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,a){return ed(this,void 0,void 0,function(){return td(this,function(l){return[2,kR.create(t,this.mediaStream,n,a)]})})},e.create=function(t){return ed(this,void 0,void 0,function(){var n,a;return td(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return a=l.sent(),[2,new e(a)]}})})},e}(),Sx=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},Cx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},BR=function(){function e(){}return e.failIfNotSupported=function(){return Sx(this,void 0,void 0,function(){return Cx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Sx(this,void 0,void 0,function(){return Cx(this,function(n){return[2,PR.create(t)]})})},e}(),jR=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},zR=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},UR=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Nu.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Nu.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return jR(this,void 0,void 0,function(){var t,n,a,l,c,d,y;return zR(this,function(p){switch(p.label){case 0:return t=function(g){for(var b=g.getVideoTracks(),E=0,O=b;E<O.length;E++){var C=O[E];C.enabled=!1,C.stop(),g.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=p.sent(),l=[],c=0,d=a;c<d.length;c++)y=d[c],y.kind==="videoinput"&&l.push({id:y.deviceId,label:y.label});return t(n),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var a=function(c){for(var d=[],y=0,p=c;y<p.length;y++){var g=p[y];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},l=MediaStreamTrack;l.getSources(a)})},e}(),br;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(br||(br={}));var FR=function(){function e(){this.state=br.NOT_STARTED,this.onGoingTransactionNewState=br.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===br.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=br.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===br.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=br.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==br.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case br.UNKNOWN:throw"Transition from unknown is not allowed";case br.NOT_STARTED:this.failIfNewStateIs(t,[br.PAUSED]);break;case br.SCANNING:break;case br.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var a=0,l=n;a<l.length;a++){var c=l[a];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),HR=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===br.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==br.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===br.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===br.PAUSED},e}(),VR=function(){function e(){}return e.create=function(){return new HR(new FR)},e}(),qR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),la=function(e){qR(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ga),WR=function(){function e(t,n){this.logger=n,this.fps=la.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=la.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?PE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!xs(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Ax=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new kE(this.verbose),this.qrcode=new NR(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=VR.create()}return e.prototype.start=function(t,n,a,l){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;l?d=l:d=this.verbose?this.logger.log:function(){};var y=WR.create(n,this.logger);this.clearElement();var p=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=p,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:la.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var E=this,O=this.stateManagerProxy.startTransition(br.SCANNING);return new Promise(function(C,R){var N=g?y.videoConstraints:E.createVideoConstraints(t);if(!N){O.cancel(),R("videoConstraints should be defined");return}var k={};(!g||y.aspectRatio)&&(k.aspectRatio=y.aspectRatio);var F={onRenderSurfaceReady:function(P,B){E.setupUi(P,B,y),E.isScanning=!0,E.foreverScan(y,a,d)}};BR.failIfNotSupported().then(function(P){P.create(N).then(function(B){return B.render(c.element,k,F).then(function(W){E.renderedCamera=W,O.execute(),C(null)}).catch(function(W){O.cancel(),R(W)})}).catch(function(B){O.cancel(),R(Nu.errorGettingUserMedia(B))})}).catch(function(P){O.cancel(),R(Nu.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(br.PAUSED),this.showPausedState(),(xs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(br.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(br.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var c=document.getElementById(la.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),a(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,n){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(xs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var y=d.width,p=d.height,g=document.getElementById(a.elementId),b=g.clientWidth?g.clientWidth:la.DEFAULT_WIDTH,E=Math.max(g.clientHeight?g.clientHeight:p,la.FILE_SCAN_MIN_HEIGHT),O=a.computeCanvasDrawConfig(y,p,b,E);if(n){var C=a.createCanvasElement(b,E,"qr-canvas-visible");C.style.display="inline-block",g.appendChild(C);var R=C.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=b,R.canvas.height=E,R.drawImage(d,0,0,y,p,O.x,O.y,O.width,O.height)}var N=la.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(d.width,O.width),F=Math.max(d.height,O.height),P=k+2*N,B=F+2*N,W=a.createCanvasElement(P,B);g.appendChild(W);var q=W.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=P,q.canvas.height=B,q.drawImage(d,0,0,y,p,N,N,k,F);try{a.qrcode.decodeRobustlyAsync(W).then(function(Y){l(vx.createFromQrcodeResult(Y))}).catch(c)}catch(Y){c("QR code parse error, error = ".concat(Y))}},d.onerror=c,d.onabort=c,d.onstalled=c,d.onsuspend=c,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return UR.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!PE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[St.QR_CODE,St.AZTEC,St.CODABAR,St.CODE_39,St.CODE_93,St.CODE_128,St.DATA_MATRIX,St.MAXICODE,St.ITF,St.EAN_13,St.EAN_8,St.PDF_417,St.RSS_14,St.RSS_EXPANDED,St.UPC_A,St.UPC_E,St.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],l=0,c=t.formatsToSupport;l<c.length;l++){var d=c[l];bR(d)?a.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(xs(t))return!0;if(!xs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(xs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return xs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,a){var l=this,c=a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,n,c),y=function(g){if(g<la.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(la.MIN_QR_BOX_SIZE,"px.")},p=function(g){return g>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};y(d.width),y(d.height),d.width=p(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return a},e.prototype.setupUi=function(t,n,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,a);var l=xs(a.qrbox)?{width:t,height:n}:a.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(t,n,l);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=a.isShadedBoxEnabled()&&c.height<=n,y={x:0,y:0,width:t,height:n},p=d?this.getShadedRegionBounds(t,n,c):y,g=this.createCanvasElement(p.width,p.height),b={willReadFrequently:!0},E=g.getContext("2d",b);E.canvas.width=p.width,E.canvas.height=p.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=E,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Nu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,vx.createFromQrcodeResult(l)),a.possiblyUpdateShaders(!0),!0}).catch(function(l){a.possiblyUpdateShaders(!1);var c=Nu.codeParseError(l);return n(c,LE.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,a){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),d=c.videoWidth/c.clientWidth,y=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*d,g=this.qrRegion.height*y,b=this.qrRegion.x*d,E=this.qrRegion.y*y;this.context.drawImage(c,b,E,p,g,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,n,a)},l.getTimeoutFps(t.fps))};this.scanContext(n,a).then(function(C){!C&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,a).finally(function(){O()})):O()}).catch(function(C){l.logger.logError("Error happend while scanning context",C),O()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",a="deviceId",l={user:!0,environment:!0},c="exact",d=function(R){if(R in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==a)throw"Only '".concat(n,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(c in g){if(d(g["".concat(c)]))return{facingMode:{exact:g["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var b=typeof g;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(c in E)return{deviceId:{exact:E["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var O=typeof E;throw"Invalid type of 'deviceId' = ".concat(O)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,n,a,l){if(t<=a&&n<=l){var c=(a-t)/2,d=(l-n)/2;return{x:c,y:d,width:t,height:n}}else{var y=t,p=n;return t>a&&(n=a/t*n,t=a),n>l&&(t=l/n*t,n=l),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,a,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?la.BORDER_SHADER_MATCH_COLOR:la.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,a){var l=t,c=n,d=document.createElement("canvas");return d.style.width="".concat(l,"px"),d.style.height="".concat(c,"px"),d.style.display="none",d.id=xs(a)?"qr-canvas":a,d},e.prototype.getShadedRegionBounds=function(t,n,a){if(a.width>t||a.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(n-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,n,a,l){if(!(n-l.width<1||a-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var d=(n-l.width)/2,y=(a-l.height)/2;if(c.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(la.SHADED_REGION_ELEMENT_ID),n-l.width<11||a-l.height<11)this.hasBorderShaders=!1;else{var p=5,g=40;this.insertShaderBorders(c,g,p,-p,null,0,!0),this.insertShaderBorders(c,g,p,-p,null,0,!1),this.insertShaderBorders(c,g,p,null,-p,0,!0),this.insertShaderBorders(c,g,p,null,-p,0,!1),this.insertShaderBorders(c,p,g+p,-p,null,-p,!0),this.insertShaderBorders(c,p,g+p,null,-p,-p,!0),this.insertShaderBorders(c,p,g+p,-p,null,-p,!1),this.insertShaderBorders(c,p,g+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,a,l,c,d,y){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=la.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(a,"px"),l!==null&&(p.style.top="".concat(l,"px")),c!==null&&(p.style.bottom="".concat(c,"px")),y?p.style.left="".concat(d,"px"):p.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Gp="data:image/svg+xml;base64,",GR=Gp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ZR=Gp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Tx=Gp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",YR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Ox=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),XR=function(){function e(){this.data=Ox.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Ox.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),$R=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=yx.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var a=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=yx.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),KR=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Tx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return n.onHoverIn()},this.infoIcon.onmouseout=function(a){return n.onHoverOut()},this.infoIcon.onclick=function(a){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=YR,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Tx,this.infoIcon.style.opacity="0.6")},e}(),QR=function(){function e(){var t=this;this.infoDiv=new $R,this.infoIcon=new KR(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),JR=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},eM=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Ix=function(){function e(){}return e.hasPermissions=function(){return JR(this,void 0,void 0,function(){var t,n,a,l;return eM(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,a=t;n<a.length;n++)if(l=a[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),Ro=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var a=n[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===Ho.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ho.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ga.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ga.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var a=0,l=t;a<l.length;a++){var c=l[a];if(!Ga.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}(),fa=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ks=function(){function e(){}return e.createElement=function(t,n){var a=document.createElement(t);return a.id=n,a.classList.add(fa.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),jE=function(e,t,n,a){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function y(b){try{g(a.next(b))}catch(E){d(E)}}function p(b){try{g(a.throw(b))}catch(E){d(E)}}function g(b){b.done?c(b.value):l(b.value).then(y,p)}g((a=a.apply(e,t||[])).next())})},zE=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(g){return function(b){return p([g,b])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],l=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Nx=function(){function e(t,n,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return jE(this,void 0,void 0,function(){var t,n;return zE(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=a.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Un.torchOffButton():Un.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var a=t?Un.torchOnFailedMessage():Un.torchOffFailedMessage();n&&(a+="; Error = "+n),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),tM=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Ks.createElement("button",fa.TORCH_BUTTON_ID),this.torchController=new Nx(t,this,n)}return e.prototype.render=function(t,n){var a=this;this.torchButton.innerText=Un.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return jE(a,void 0,void 0,function(){return zE(this,function(d){switch(d.label){case 0:return[4,l.torchController.flipState()];case 1:return d.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(fa.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(fa.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(fa.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(fa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Nx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Un.torchOnButton(),this.torchController.reset()},e.create=function(t,n,a,l){var c=new e(n,l);return c.render(t,a),c},e}(),nM=function(){function e(t,n,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Ks.createElement("button",fa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Ks.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var p=y.target;if(!(p.files&&p.files.length===0)){var g=p.files,b=g[0],E=b.name;c.setImageNameToButton(E),a(b)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(y){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var p=y.dataTransfer;if(p){var g=p.files;if(!g||g.length===0)return;for(var b=!1,E=0;E<g.length;++E){var O=g.item(E);if(O){var C=/image.*/;if(O.type.match(C)){b=!0;var R=O.name;c.setImageNameToButton(R),a(O),d.innerText=Un.dragAndDropMessage();break}}}b||(d.innerText=Un.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Un.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var a=t.substring(0,8),l=t.length,c=t.substring(l-8,l);t="".concat(a,"....").concat(c)}var d=Un.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=d},e.prototype.setInitialValueToButton=function(){var t=Un.fileSelectionChooseImage()+" - "+Un.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,a){var l=new e(t,n,a);return l},e}(),rM=function(){function e(t){this.selectElement=Ks.createElement("select",fa.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)n.style.display="none";else{var l=Un.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,d=0,y=this.cameras;d<y.length;d++){var p=y[d],g=p.id,b=p.label==null?g:p.label;(!b||b==="")&&(b=[Un.anonymousCameraPrefix(),c++].join(" "));var E=document.createElement("option");E.value=g,E.innerText=b,this.options.push(E),this.selectElement.appendChild(E)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,a=this.options;n<a.length;n++){var l=a[n];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var a=new e(n);return a.render(t),a},e}(),iM=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ks.createElement("input",fa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Un.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Un.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,a,l){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var a=new e;return a.render(t,n),a},e}(),ua;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ua||(ua={}));function aM(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function sM(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Rx=function(){function e(t,n,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ro(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new kE(this.verbose),this.persistedDataManager=new XR,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,d){if(t)t(c,d);else{if(a.lastMatchFound===c)return;a.lastMatchFound=c,a.setHeaderMessage(Un.lastMatch(c),ua.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,d){n&&n(c,d)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Ax(this.getScanRegionId(),sM(this.config,this.verbose))},e.prototype.pause=function(t){(xs(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,l){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),n(),a()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(t.html5Qrcode.clear(),n(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ga.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ga.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ga.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ga.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),a=this.getScanRegionId();n.id=a,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ro.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var a=new QR;a.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,a){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Un.cameraPermissionRequesting());var c=function(){a||l.createPermissionButton(t,n)};Ax.getCameras().then(function(d){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),d&&d.length>0?(t.removeChild(n),l.renderCameraSelection(d)):(l.setHeaderMessage(Un.noCameraFound(),ua.STATUS_WARNING),c())}).catch(function(d){l.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:c(),l.setHeaderMessage(d,ua.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var a=this,l=Ks.createElement("button",this.getCameraPermissionButtonId());l.innerText=Un.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,a.createCameraListUi(t,n,l)}),n.appendChild(l)},e.prototype.createPermissionsUi=function(t,n){var a=this;if(Ro.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ix.hasPermissions().then(function(l){l?a.createCameraListUi(t,n):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,n))}).catch(function(l){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Ro.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(a);var l=document.createElement("div");l.style.textAlign="center",a.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,l),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ro.isFileScanType(this.currentScanType),a=this,l=function(c){if(!a.html5Qrcode)throw"html5Qrcode not defined";Ro.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Un.loadingImage()),a.html5Qrcode.scanFileV2(c,!0).then(function(d){a.resetHeaderMessage(),a.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){a.setHeaderMessage(d,ua.STATUS_WARNING),a.qrCodeErrorCallback(d,LE.createFrom(d))}))};this.fileSelectionUi=nM.create(t,n,l)},e.prototype.renderCameraSelection=function(t){var n=this,a=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=iM.create(l,!1),d=function(N){var k=N.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(P){k.apply(P)});var F=1;n.config.defaultZoomValueIfSupported&&(F=n.config.defaultZoomValueIfSupported),F=ER(F,k.min(),k.max()),c.setValues(k.min(),k.max(),F,k.step()),c.show()}},y=rM.create(l,t),p=document.createElement("span"),g=Ks.createElement("button",fa.CAMERA_START_BUTTON_ID);g.innerText=Un.scanButtonStartScanningText(),p.appendChild(g);var b=Ks.createElement("button",fa.CAMERA_STOP_BUTTON_ID);b.innerText=Un.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,p.appendChild(b);var E,O=function(N){if(!N.torchFeature().isSupported()){E&&E.hide();return}E?E.updateTorchCapability(N.torchFeature()):E=tM.create(p,N.torchFeature(),{display:"none",marginLeft:"5px"},function(k){a.setHeaderMessage(k,ua.STATUS_WARNING)}),E.show()};l.appendChild(p);var C=function(N){N||(g.style.display="none"),g.innerText=Un.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,N&&(g.style.display="inline-block")};if(g.addEventListener("click",function(N){g.innerText=Un.scanButtonScanningStarting(),y.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var k=y.getValue();a.persistedDataManager.setLastUsedCameraId(k),a.html5Qrcode.start(k,aM(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(F){b.disabled=!1,b.style.display="inline-block",C(!1);var P=a.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&O(P),n.config.showZoomSliderIfSupported===!0&&d(P)}).catch(function(F){a.showHideScanTypeSwapLink(!0),y.enable(),C(!0),a.setHeaderMessage(F,ua.STATUS_WARNING)})}),y.hasSingleItem()&&g.click(),b.addEventListener("click",function(N){if(!a.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,a.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),y.enable(),g.disabled=!1,b.style.display="none",g.style.display="inline-block",E&&(E.reset(),E.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(k){b.disabled=!1,a.setHeaderMessage(k,ua.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var R=a.persistedDataManager.getLastUsedCameraId();y.hasValue(R)?(y.setValue(R),g.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Un.textIfCameraScanSelected(),a=Un.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var d=Ks.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Ro.isCameraScanType(this.currentScanType)?n:a,d.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ro.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),d.innerText=a,t.currentScanType=Ho.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),d.innerText=n,t.currentScanType=Ho.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(d),l.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Ix.hasPermissions().then(function(a){if(a){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(a){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ua.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",n){case ua.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case ua.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case ua.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=GR,this.cameraScanImage.alt=Un.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ZR,this.fileScanImage.alt=Un.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return fa.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return fa.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function oM(){var W;const[e,t]=K.useState(!1),[n,a]=K.useState(null),[l,c]=K.useState(""),[d,y]=K.useState(""),[p,g]=K.useState(!1),[b,E]=K.useState(null),[O,C]=K.useState(!1),[R,N]=K.useState(!1),k=async q=>{g(!0),y(""),c(""),E(null);try{const{data:Y,error:V}=await da.from("vouchers").select("*, categories ( name )").eq("code",q).single();if(V)throw new Error(" Voucher ");if(Y.expires_at&&new Date(Y.expires_at)<new Date)throw new Error("Voucher ");if(Y.status==="used")throw new Error("Voucher ");E(Y),C(!0)}catch(Y){y(Y.message)}finally{g(!1)}},F=K.useCallback(async q=>{if(p||O)return;new Rx("qr-scanner-container",{},!1).clear(),t(!1),a(q),await k(q)},[p,O]),P=async()=>{if(n){N(!0),y("");try{const{error:q}=await da.from("vouchers").update({status:"used"}).eq("code",n);if(q)throw q;c(`Voucher [${n}] `),E(null),C(!1)}catch(q){console.error("Confirmation Error:",q),y(" Voucher")}finally{N(!1)}}};K.useEffect(()=>{if(!e)return;const q=new Rx("qr-scanner-container",{fps:10,qrbox:{width:250,height:250}},!1);return q.render(F,()=>{}),()=>{q&&q.getState()!==1&&q.clear().catch(Y=>console.error("Failed to clear scanner",Y))}},[e,F]);const B=()=>{a(null),c(""),y(""),t(!1),g(!1),E(null),C(!1),N(!1)};return D.jsx("div",{className:"min-h-screen bg-white text-red-700 flex items-center justify-center font-sans p-4",children:D.jsxs("div",{className:"w-full max-w-md mx-auto py-12",children:[D.jsxs("header",{className:"text-center mb-8",children:[D.jsx("h1",{className:"text-4xl font-bold tracking-tight text-red-800 sm:text-5xl",children:"Voucher Scanner"}),D.jsx("p",{className:"mt-3 text-lg text-red-500",children:" QR Code "})]}),D.jsx("main",{className:"bg-red-50 rounded-2xl shadow-lg border border-red-200 p-6 sm:p-8 transition-all duration-300",children:p?D.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[D.jsx(O_,{className:"text-red-500 text-6xl animate-spin mb-4"}),D.jsx("h2",{className:"text-2xl font-semibold text-red-800",children:"..."})]}):O?D.jsxs("div",{className:"text-center",children:[D.jsx(II,{className:"text-red-500 text-6xl mx-auto mb-4"}),D.jsx("h2",{className:"text-2xl font-semibold mb-2 text-red-800",children:""}),D.jsx("p",{className:"text-red-600 mb-6",children:"Voucher "}),D.jsxs("div",{className:"bg-red-100 p-4 rounded-lg mb-6 text-left space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"text-sm font-medium text-red-500 block mb-1",children:""}),D.jsx("p",{className:"font-semibold text-red-900 break-words text-lg",children:b==null?void 0:b.description})]}),D.jsxs("div",{children:[D.jsx("label",{className:"text-sm font-medium text-red-500 block",children:" Voucher"}),D.jsxs("p",{className:"font-mono text-red-900 flex items-center gap-2 break-all",children:[D.jsx(OI,{})," ",b==null?void 0:b.code]})]}),((W=b==null?void 0:b.categories)==null?void 0:W.name)&&D.jsxs("div",{children:[D.jsx("label",{className:"text-sm font-medium text-red-500 block",children:""}),D.jsxs("p",{className:"font-semibold text-red-900 flex items-center gap-2",children:[D.jsx(TI,{})," ",b.categories.name]})]}),(b==null?void 0:b.expires_at)&&D.jsxs("div",{children:[D.jsx("label",{className:"text-sm font-medium text-red-500 block",children:""}),D.jsxs("p",{className:"font-semibold text-red-900 flex items-center gap-2",children:[D.jsx(Bl,{}),new Date(b.expires_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})]})]})]}),D.jsxs("button",{onClick:P,disabled:R,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 disabled:bg-gray-400",children:[R?D.jsx(O_,{className:"animate-spin"}):D.jsx(A_,{}),D.jsx("span",{children:R?"...":""})]})]}):n?D.jsxs("div",{className:"text-center",children:[l&&D.jsx(A_,{className:"text-green-500 text-6xl mx-auto mb-4"}),d&&D.jsx(T_,{className:"text-red-500 text-6xl mx-auto mb-4"}),D.jsx("h2",{className:"text-2xl font-semibold mb-2 text-red-800",children:l?"!":"!"}),D.jsxs("p",{className:"text-lg mb-6 break-words",children:[l&&D.jsx("span",{className:"text-green-700",children:l}),d&&D.jsx("span",{className:"text-red-700",children:d})]}),D.jsxs("button",{onClick:B,className:"w-full bg-red-100 hover:bg-red-200 text-red-800 font-semibold py-3 px-6 rounded-lg flex items-center justify-center gap-3",children:[D.jsx(xI,{}),D.jsx("span",{children:""})]})]}):D.jsxs("div",{className:"text-center",children:[d&&D.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 p-4 rounded-lg flex items-center gap-3 mb-6",children:[D.jsx(T_,{}),D.jsx("span",{children:d})]}),!e&&D.jsxs("button",{onClick:()=>{t(!0),y("")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg flex items-center justify-center gap-3 text-lg",children:[D.jsx(AI,{}),D.jsx("span",{children:""})]}),D.jsx("div",{id:"qr-scanner-container",className:`mt-6 rounded-lg overflow-hidden ${!e&&"hidden"}`})]})})]})})}var Cu={},Y1,Mx;function lM(){return Mx||(Mx=1,Y1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Y1}var X1={},Mo={},Dx;function jl(){if(Dx)return Mo;Dx=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Mo.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Mo.getSymbolTotalCodewords=function(a){return t[a]},Mo.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},Mo.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');e=a},Mo.isKanjiModeEnabled=function(){return typeof e<"u"},Mo.toSJIS=function(a){return e(a)},Mo}var $1={},Lx;function Zp(){return Lx||(Lx=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},e.from=function(a,l){if(e.isValid(a))return a;try{return t(a)}catch{return l}}}($1)),$1}var K1,kx;function uM(){if(kx)return K1;kx=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let a=0;a<n;a++)this.putBit((t>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},K1=e,K1}var Q1,Px;function cM(){if(Px)return Q1;Px=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,a,l){const c=t*this.size+n;this.data[c]=a,l&&(this.reservedBit[c]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,a){this.data[t*this.size+n]^=a},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Q1=e,Q1}var J1={},Bx;function fM(){return Bx||(Bx=1,function(e){const t=jl().getSymbolSize;e.getRowColCoords=function(a){if(a===1)return[];const l=Math.floor(a/7)+2,c=t(a),d=c===145?26:Math.ceil((c-13)/(2*l-2))*2,y=[c-7];for(let p=1;p<l-1;p++)y[p]=y[p-1]-d;return y.push(6),y.reverse()},e.getPositions=function(a){const l=[],c=e.getRowColCoords(a),d=c.length;for(let y=0;y<d;y++)for(let p=0;p<d;p++)y===0&&p===0||y===0&&p===d-1||y===d-1&&p===0||l.push([c[y],c[p]]);return l}}(J1)),J1}var em={},jx;function hM(){if(jx)return em;jx=1;const e=jl().getSymbolSize,t=7;return em.getPositions=function(a){const l=e(a);return[[0,0],[l-t,0],[0,l-t]]},em}var tm={},zx;function dM(){return zx||(zx=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},e.from=function(l){return e.isValid(l)?parseInt(l,10):void 0},e.getPenaltyN1=function(l){const c=l.size;let d=0,y=0,p=0,g=null,b=null;for(let E=0;E<c;E++){y=p=0,g=b=null;for(let O=0;O<c;O++){let C=l.get(E,O);C===g?y++:(y>=5&&(d+=t.N1+(y-5)),g=C,y=1),C=l.get(O,E),C===b?p++:(p>=5&&(d+=t.N1+(p-5)),b=C,p=1)}y>=5&&(d+=t.N1+(y-5)),p>=5&&(d+=t.N1+(p-5))}return d},e.getPenaltyN2=function(l){const c=l.size;let d=0;for(let y=0;y<c-1;y++)for(let p=0;p<c-1;p++){const g=l.get(y,p)+l.get(y,p+1)+l.get(y+1,p)+l.get(y+1,p+1);(g===4||g===0)&&d++}return d*t.N2},e.getPenaltyN3=function(l){const c=l.size;let d=0,y=0,p=0;for(let g=0;g<c;g++){y=p=0;for(let b=0;b<c;b++)y=y<<1&2047|l.get(g,b),b>=10&&(y===1488||y===93)&&d++,p=p<<1&2047|l.get(b,g),b>=10&&(p===1488||p===93)&&d++}return d*t.N3},e.getPenaltyN4=function(l){let c=0;const d=l.data.length;for(let p=0;p<d;p++)c+=l.data[p];return Math.abs(Math.ceil(c*100/d/5)-10)*t.N4};function n(a,l,c){switch(a){case e.Patterns.PATTERN000:return(l+c)%2===0;case e.Patterns.PATTERN001:return l%2===0;case e.Patterns.PATTERN010:return c%3===0;case e.Patterns.PATTERN011:return(l+c)%3===0;case e.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(c/3))%2===0;case e.Patterns.PATTERN101:return l*c%2+l*c%3===0;case e.Patterns.PATTERN110:return(l*c%2+l*c%3)%2===0;case e.Patterns.PATTERN111:return(l*c%3+(l+c)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}e.applyMask=function(l,c){const d=c.size;for(let y=0;y<d;y++)for(let p=0;p<d;p++)c.isReserved(p,y)||c.xor(p,y,n(l,p,y))},e.getBestMask=function(l,c){const d=Object.keys(e.Patterns).length;let y=0,p=1/0;for(let g=0;g<d;g++){c(g),e.applyMask(g,l);const b=e.getPenaltyN1(l)+e.getPenaltyN2(l)+e.getPenaltyN3(l)+e.getPenaltyN4(l);e.applyMask(g,l),b<p&&(p=b,y=g)}return y}}(tm)),tm}var Lh={},Ux;function UE(){if(Ux)return Lh;Ux=1;const e=Zp(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lh.getBlocksCount=function(l,c){switch(c){case e.L:return t[(l-1)*4+0];case e.M:return t[(l-1)*4+1];case e.Q:return t[(l-1)*4+2];case e.H:return t[(l-1)*4+3];default:return}},Lh.getTotalCodewordsCount=function(l,c){switch(c){case e.L:return n[(l-1)*4+0];case e.M:return n[(l-1)*4+1];case e.Q:return n[(l-1)*4+2];case e.H:return n[(l-1)*4+3];default:return}},Lh}var nm={},Uc={},Fx;function mM(){if(Fx)return Uc;Fx=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let a=1;for(let l=0;l<255;l++)e[l]=a,t[a]=l,a<<=1,a&256&&(a^=285);for(let l=255;l<512;l++)e[l]=e[l-255]}(),Uc.log=function(a){if(a<1)throw new Error("log("+a+")");return t[a]},Uc.exp=function(a){return e[a]},Uc.mul=function(a,l){return a===0||l===0?0:e[t[a]+t[l]]},Uc}var Hx;function pM(){return Hx||(Hx=1,function(e){const t=mM();e.mul=function(a,l){const c=new Uint8Array(a.length+l.length-1);for(let d=0;d<a.length;d++)for(let y=0;y<l.length;y++)c[d+y]^=t.mul(a[d],l[y]);return c},e.mod=function(a,l){let c=new Uint8Array(a);for(;c.length-l.length>=0;){const d=c[0];for(let p=0;p<l.length;p++)c[p]^=t.mul(l[p],d);let y=0;for(;y<c.length&&c[y]===0;)y++;c=c.slice(y)}return c},e.generateECPolynomial=function(a){let l=new Uint8Array([1]);for(let c=0;c<a;c++)l=e.mul(l,new Uint8Array([1,t.exp(c)]));return l}}(nm)),nm}var rm,Vx;function gM(){if(Vx)return rm;Vx=1;const e=pM();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(a){this.degree=a,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(a.length+this.degree);l.set(a);const c=e.mod(l,this.genPoly),d=this.degree-c.length;if(d>0){const y=new Uint8Array(this.degree);return y.set(c,d),y}return c},rm=t,rm}var im={},am={},sm={},qx;function FE(){return qx||(qx=1,sm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),sm}var gs={},Wx;function HE(){if(Wx)return gs;Wx=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;gs.KANJI=new RegExp(n,"g"),gs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gs.BYTE=new RegExp(a,"g"),gs.NUMERIC=new RegExp(e,"g"),gs.ALPHANUMERIC=new RegExp(t,"g");const l=new RegExp("^"+n+"$"),c=new RegExp("^"+e+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return gs.testKanji=function(p){return l.test(p)},gs.testNumeric=function(p){return c.test(p)},gs.testAlphanumeric=function(p){return d.test(p)},gs}var Gx;function zl(){return Gx||(Gx=1,function(e){const t=FE(),n=HE();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(c,d){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!t.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?c.ccBits[0]:d<27?c.ccBits[1]:c.ccBits[2]},e.getBestModeForData=function(c){return n.testNumeric(c)?e.NUMERIC:n.testAlphanumeric(c)?e.ALPHANUMERIC:n.testKanji(c)?e.KANJI:e.BYTE},e.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},e.isValid=function(c){return c&&c.bit&&c.ccBits};function a(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+l)}}e.from=function(c,d){if(e.isValid(c))return c;try{return a(c)}catch{return d}}}(am)),am}var Zx;function vM(){return Zx||(Zx=1,function(e){const t=jl(),n=UE(),a=Zp(),l=zl(),c=FE(),d=7973,y=t.getBCHDigit(d);function p(O,C,R){for(let N=1;N<=40;N++)if(C<=e.getCapacity(N,R,O))return N}function g(O,C){return l.getCharCountIndicator(O,C)+4}function b(O,C){let R=0;return O.forEach(function(N){const k=g(N.mode,C);R+=k+N.getBitsLength()}),R}function E(O,C){for(let R=1;R<=40;R++)if(b(O,R)<=e.getCapacity(R,C,l.MIXED))return R}e.from=function(C,R){return c.isValid(C)?parseInt(C,10):R},e.getCapacity=function(C,R,N){if(!c.isValid(C))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=l.BYTE);const k=t.getSymbolTotalCodewords(C),F=n.getTotalCodewordsCount(C,R),P=(k-F)*8;if(N===l.MIXED)return P;const B=P-g(N,C);switch(N){case l.NUMERIC:return Math.floor(B/10*3);case l.ALPHANUMERIC:return Math.floor(B/11*2);case l.KANJI:return Math.floor(B/13);case l.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(C,R){let N;const k=a.from(R,a.M);if(Array.isArray(C)){if(C.length>1)return E(C,k);if(C.length===0)return 1;N=C[0]}else N=C;return p(N.mode,N.getLength(),k)},e.getEncodedBits=function(C){if(!c.isValid(C)||C<7)throw new Error("Invalid QR Code version");let R=C<<12;for(;t.getBCHDigit(R)-y>=0;)R^=d<<t.getBCHDigit(R)-y;return C<<12|R}}(im)),im}var om={},Yx;function yM(){if(Yx)return om;Yx=1;const e=jl(),t=1335,n=21522,a=e.getBCHDigit(t);return om.getEncodedBits=function(c,d){const y=c.bit<<3|d;let p=y<<10;for(;e.getBCHDigit(p)-a>=0;)p^=t<<e.getBCHDigit(p)-a;return(y<<10|p)^n},om}var lm={},um,Xx;function _M(){if(Xx)return um;Xx=1;const e=zl();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let l,c,d;for(l=0;l+3<=this.data.length;l+=3)c=this.data.substr(l,3),d=parseInt(c,10),a.put(d,10);const y=this.data.length-l;y>0&&(c=this.data.substr(l),d=parseInt(c,10),a.put(d,y*3+1))},um=t,um}var cm,$x;function xM(){if($x)return cm;$x=1;const e=zl(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=e.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(l){return 11*Math.floor(l/2)+6*(l%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(l){let c;for(c=0;c+2<=this.data.length;c+=2){let d=t.indexOf(this.data[c])*45;d+=t.indexOf(this.data[c+1]),l.put(d,11)}this.data.length%2&&l.put(t.indexOf(this.data[c]),6)},cm=n,cm}var fm,Kx;function wM(){if(Kx)return fm;Kx=1;const e=zl();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(a){return a*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let a=0,l=this.data.length;a<l;a++)n.put(this.data[a],8)},fm=t,fm}var hm,Qx;function bM(){if(Qx)return hm;Qx=1;const e=zl(),t=jl();function n(a){this.mode=e.KANJI,this.data=a}return n.getBitsLength=function(l){return l*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let l;for(l=0;l<this.data.length;l++){let c=t.toSJIS(this.data[l]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[l]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),a.put(c,13)}},hm=n,hm}var dm={exports:{}},Jx;function EM(){return Jx||(Jx=1,function(e){var t={single_source_shortest_paths:function(n,a,l){var c={},d={};d[a]=0;var y=t.PriorityQueue.make();y.push(a,0);for(var p,g,b,E,O,C,R,N,k;!y.empty();){p=y.pop(),g=p.value,E=p.cost,O=n[g]||{};for(b in O)O.hasOwnProperty(b)&&(C=O[b],R=E+C,N=d[b],k=typeof d[b]>"u",(k||N>R)&&(d[b]=R,y.push(b,R),c[b]=g))}if(typeof l<"u"&&typeof d[l]>"u"){var F=["Could not find a path from ",a," to ",l,"."].join("");throw new Error(F)}return c},extract_shortest_path_from_predecessor_list:function(n,a){for(var l=[],c=a;c;)l.push(c),n[c],c=n[c];return l.reverse(),l},find_path:function(n,a,l){var c=t.single_source_shortest_paths(n,a,l);return t.extract_shortest_path_from_predecessor_list(c,l)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,l={},c;n=n||{};for(c in a)a.hasOwnProperty(c)&&(l[c]=a[c]);return l.queue=[],l.sorter=n.sorter||a.default_sorter,l},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var l={value:n,cost:a};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(dm)),dm.exports}var ew;function SM(){return ew||(ew=1,function(e){const t=zl(),n=_M(),a=xM(),l=wM(),c=bM(),d=HE(),y=jl(),p=EM();function g(F){return unescape(encodeURIComponent(F)).length}function b(F,P,B){const W=[];let q;for(;(q=F.exec(B))!==null;)W.push({data:q[0],index:q.index,mode:P,length:q[0].length});return W}function E(F){const P=b(d.NUMERIC,t.NUMERIC,F),B=b(d.ALPHANUMERIC,t.ALPHANUMERIC,F);let W,q;return y.isKanjiModeEnabled()?(W=b(d.BYTE,t.BYTE,F),q=b(d.KANJI,t.KANJI,F)):(W=b(d.BYTE_KANJI,t.BYTE,F),q=[]),P.concat(B,W,q).sort(function(V,ne){return V.index-ne.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function O(F,P){switch(P){case t.NUMERIC:return n.getBitsLength(F);case t.ALPHANUMERIC:return a.getBitsLength(F);case t.KANJI:return c.getBitsLength(F);case t.BYTE:return l.getBitsLength(F)}}function C(F){return F.reduce(function(P,B){const W=P.length-1>=0?P[P.length-1]:null;return W&&W.mode===B.mode?(P[P.length-1].data+=B.data,P):(P.push(B),P)},[])}function R(F){const P=[];for(let B=0;B<F.length;B++){const W=F[B];switch(W.mode){case t.NUMERIC:P.push([W,{data:W.data,mode:t.ALPHANUMERIC,length:W.length},{data:W.data,mode:t.BYTE,length:W.length}]);break;case t.ALPHANUMERIC:P.push([W,{data:W.data,mode:t.BYTE,length:W.length}]);break;case t.KANJI:P.push([W,{data:W.data,mode:t.BYTE,length:g(W.data)}]);break;case t.BYTE:P.push([{data:W.data,mode:t.BYTE,length:g(W.data)}])}}return P}function N(F,P){const B={},W={start:{}};let q=["start"];for(let Y=0;Y<F.length;Y++){const V=F[Y],ne=[];for(let G=0;G<V.length;G++){const J=V[G],Q=""+Y+G;ne.push(Q),B[Q]={node:J,lastCount:0},W[Q]={};for(let H=0;H<q.length;H++){const ee=q[H];B[ee]&&B[ee].node.mode===J.mode?(W[ee][Q]=O(B[ee].lastCount+J.length,J.mode)-O(B[ee].lastCount,J.mode),B[ee].lastCount+=J.length):(B[ee]&&(B[ee].lastCount=J.length),W[ee][Q]=O(J.length,J.mode)+4+t.getCharCountIndicator(J.mode,P))}}q=ne}for(let Y=0;Y<q.length;Y++)W[q[Y]].end=0;return{map:W,table:B}}function k(F,P){let B;const W=t.getBestModeForData(F);if(B=t.from(P,W),B!==t.BYTE&&B.bit<W.bit)throw new Error('"'+F+'" cannot be encoded with mode '+t.toString(B)+`.
 Suggested mode is: `+t.toString(W));switch(B===t.KANJI&&!y.isKanjiModeEnabled()&&(B=t.BYTE),B){case t.NUMERIC:return new n(F);case t.ALPHANUMERIC:return new a(F);case t.KANJI:return new c(F);case t.BYTE:return new l(F)}}e.fromArray=function(P){return P.reduce(function(B,W){return typeof W=="string"?B.push(k(W,null)):W.data&&B.push(k(W.data,W.mode)),B},[])},e.fromString=function(P,B){const W=E(P,y.isKanjiModeEnabled()),q=R(W),Y=N(q,B),V=p.find_path(Y.map,"start","end"),ne=[];for(let G=1;G<V.length-1;G++)ne.push(Y.table[V[G]].node);return e.fromArray(C(ne))},e.rawSplit=function(P){return e.fromArray(E(P,y.isKanjiModeEnabled()))}}(lm)),lm}var tw;function CM(){if(tw)return X1;tw=1;const e=jl(),t=Zp(),n=uM(),a=cM(),l=fM(),c=hM(),d=dM(),y=UE(),p=gM(),g=vM(),b=yM(),E=zl(),O=SM();function C(Y,V){const ne=Y.size,G=c.getPositions(V);for(let J=0;J<G.length;J++){const Q=G[J][0],H=G[J][1];for(let ee=-1;ee<=7;ee++)if(!(Q+ee<=-1||ne<=Q+ee))for(let z=-1;z<=7;z++)H+z<=-1||ne<=H+z||(ee>=0&&ee<=6&&(z===0||z===6)||z>=0&&z<=6&&(ee===0||ee===6)||ee>=2&&ee<=4&&z>=2&&z<=4?Y.set(Q+ee,H+z,!0,!0):Y.set(Q+ee,H+z,!1,!0))}}function R(Y){const V=Y.size;for(let ne=8;ne<V-8;ne++){const G=ne%2===0;Y.set(ne,6,G,!0),Y.set(6,ne,G,!0)}}function N(Y,V){const ne=l.getPositions(V);for(let G=0;G<ne.length;G++){const J=ne[G][0],Q=ne[G][1];for(let H=-2;H<=2;H++)for(let ee=-2;ee<=2;ee++)H===-2||H===2||ee===-2||ee===2||H===0&&ee===0?Y.set(J+H,Q+ee,!0,!0):Y.set(J+H,Q+ee,!1,!0)}}function k(Y,V){const ne=Y.size,G=g.getEncodedBits(V);let J,Q,H;for(let ee=0;ee<18;ee++)J=Math.floor(ee/3),Q=ee%3+ne-8-3,H=(G>>ee&1)===1,Y.set(J,Q,H,!0),Y.set(Q,J,H,!0)}function F(Y,V,ne){const G=Y.size,J=b.getEncodedBits(V,ne);let Q,H;for(Q=0;Q<15;Q++)H=(J>>Q&1)===1,Q<6?Y.set(Q,8,H,!0):Q<8?Y.set(Q+1,8,H,!0):Y.set(G-15+Q,8,H,!0),Q<8?Y.set(8,G-Q-1,H,!0):Q<9?Y.set(8,15-Q-1+1,H,!0):Y.set(8,15-Q-1,H,!0);Y.set(G-8,8,1,!0)}function P(Y,V){const ne=Y.size;let G=-1,J=ne-1,Q=7,H=0;for(let ee=ne-1;ee>0;ee-=2)for(ee===6&&ee--;;){for(let z=0;z<2;z++)if(!Y.isReserved(J,ee-z)){let Z=!1;H<V.length&&(Z=(V[H]>>>Q&1)===1),Y.set(J,ee-z,Z),Q--,Q===-1&&(H++,Q=7)}if(J+=G,J<0||ne<=J){J-=G,G=-G;break}}}function B(Y,V,ne){const G=new n;ne.forEach(function(z){G.put(z.mode.bit,4),G.put(z.getLength(),E.getCharCountIndicator(z.mode,Y)),z.write(G)});const J=e.getSymbolTotalCodewords(Y),Q=y.getTotalCodewordsCount(Y,V),H=(J-Q)*8;for(G.getLengthInBits()+4<=H&&G.put(0,4);G.getLengthInBits()%8!==0;)G.putBit(0);const ee=(H-G.getLengthInBits())/8;for(let z=0;z<ee;z++)G.put(z%2?17:236,8);return W(G,Y,V)}function W(Y,V,ne){const G=e.getSymbolTotalCodewords(V),J=y.getTotalCodewordsCount(V,ne),Q=G-J,H=y.getBlocksCount(V,ne),ee=G%H,z=H-ee,Z=Math.floor(G/H),ye=Math.floor(Q/H),he=ye+1,ge=Z-ye,fe=new p(ge);let se=0;const ue=new Array(H),pe=new Array(H);let Ie=0;const Ae=new Uint8Array(Y.buffer);for(let ft=0;ft<H;ft++){const wt=ft<z?ye:he;ue[ft]=Ae.slice(se,se+wt),pe[ft]=fe.encode(ue[ft]),se+=wt,Ie=Math.max(Ie,wt)}const Re=new Uint8Array(G);let Le=0,gt,Ze;for(gt=0;gt<Ie;gt++)for(Ze=0;Ze<H;Ze++)gt<ue[Ze].length&&(Re[Le++]=ue[Ze][gt]);for(gt=0;gt<ge;gt++)for(Ze=0;Ze<H;Ze++)Re[Le++]=pe[Ze][gt];return Re}function q(Y,V,ne,G){let J;if(Array.isArray(Y))J=O.fromArray(Y);else if(typeof Y=="string"){let Z=V;if(!Z){const ye=O.rawSplit(Y);Z=g.getBestVersionForData(ye,ne)}J=O.fromString(Y,Z||40)}else throw new Error("Invalid data");const Q=g.getBestVersionForData(J,ne);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=Q;else if(V<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const H=B(V,ne,J),ee=e.getSymbolSize(V),z=new a(ee);return C(z,V),R(z),N(z,V),F(z,ne,0),V>=7&&k(z,V),P(z,H),isNaN(G)&&(G=d.getBestMask(z,F.bind(null,z,ne))),d.applyMask(G,z),F(z,ne,G),{modules:z,version:V,errorCorrectionLevel:ne,maskPattern:G,segments:J}}return X1.create=function(V,ne){if(typeof V>"u"||V==="")throw new Error("No input text");let G=t.M,J,Q;return typeof ne<"u"&&(G=t.from(ne.errorCorrectionLevel,t.M),J=g.from(ne.version),Q=d.from(ne.maskPattern),ne.toSJISFunc&&e.setToSJISFunction(ne.toSJISFunc)),q(V,J,G,Q)},X1}var mm={},pm={},nw;function VE(){return nw||(nw=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(c){return[c,c]}))),a.length===6&&a.push("F","F");const l=parseInt(a.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+a.slice(0,6).join("")}}e.getOptions=function(a){a||(a={}),a.color||(a.color={});const l=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,d=a.scale||4;return{width:c,scale:c?4:d,margin:l,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},e.getScale=function(a,l){return l.width&&l.width>=a+l.margin*2?l.width/(a+l.margin*2):l.scale},e.getImageWidth=function(a,l){const c=e.getScale(a,l);return Math.floor((a+l.margin*2)*c)},e.qrToImageData=function(a,l,c){const d=l.modules.size,y=l.modules.data,p=e.getScale(d,c),g=Math.floor((d+c.margin*2)*p),b=c.margin*p,E=[c.color.light,c.color.dark];for(let O=0;O<g;O++)for(let C=0;C<g;C++){let R=(O*g+C)*4,N=c.color.light;if(O>=b&&C>=b&&O<g-b&&C<g-b){const k=Math.floor((O-b)/p),F=Math.floor((C-b)/p);N=E[y[k*d+F]?1:0]}a[R++]=N.r,a[R++]=N.g,a[R++]=N.b,a[R]=N.a}}}(pm)),pm}var rw;function AM(){return rw||(rw=1,function(e){const t=VE();function n(l,c,d){l.clearRect(0,0,c.width,c.height),c.style||(c.style={}),c.height=d,c.width=d,c.style.height=d+"px",c.style.width=d+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(c,d,y){let p=y,g=d;typeof p>"u"&&(!d||!d.getContext)&&(p=d,d=void 0),d||(g=a()),p=t.getOptions(p);const b=t.getImageWidth(c.modules.size,p),E=g.getContext("2d"),O=E.createImageData(b,b);return t.qrToImageData(O.data,c,p),n(E,g,b),E.putImageData(O,0,0),g},e.renderToDataURL=function(c,d,y){let p=y;typeof p>"u"&&(!d||!d.getContext)&&(p=d,d=void 0),p||(p={});const g=e.render(c,d,p),b=p.type||"image/png",E=p.rendererOpts||{};return g.toDataURL(b,E.quality)}}(mm)),mm}var gm={},iw;function TM(){if(iw)return gm;iw=1;const e=VE();function t(l,c){const d=l.a/255,y=c+'="'+l.hex+'"';return d<1?y+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':y}function n(l,c,d){let y=l+c;return typeof d<"u"&&(y+=" "+d),y}function a(l,c,d){let y="",p=0,g=!1,b=0;for(let E=0;E<l.length;E++){const O=Math.floor(E%c),C=Math.floor(E/c);!O&&!g&&(g=!0),l[E]?(b++,E>0&&O>0&&l[E-1]||(y+=g?n("M",O+d,.5+C+d):n("m",p,0),p=0,g=!1),O+1<c&&l[E+1]||(y+=n("h",b),b=0)):p++}return y}return gm.render=function(c,d,y){const p=e.getOptions(d),g=c.modules.size,b=c.modules.data,E=g+p.margin*2,O=p.color.light.a?"<path "+t(p.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",C="<path "+t(p.color.dark,"stroke")+' d="'+a(b,g,p.margin)+'"/>',R='viewBox="0 0 '+E+" "+E+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+R+' shape-rendering="crispEdges">'+O+C+`</svg>
`;return typeof y=="function"&&y(null,k),k},gm}var aw;function OM(){if(aw)return Cu;aw=1;const e=lM(),t=CM(),n=AM(),a=TM();function l(c,d,y,p,g){const b=[].slice.call(arguments,1),E=b.length,O=typeof b[E-1]=="function";if(!O&&!e())throw new Error("Callback required as last argument");if(O){if(E<2)throw new Error("Too few arguments provided");E===2?(g=y,y=d,d=p=void 0):E===3&&(d.getContext&&typeof g>"u"?(g=p,p=void 0):(g=p,p=y,y=d,d=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(y=d,d=p=void 0):E===2&&!d.getContext&&(p=y,y=d,d=void 0),new Promise(function(C,R){try{const N=t.create(y,p);C(c(N,d,p))}catch(N){R(N)}})}try{const C=t.create(y,p);g(null,c(C,d,p))}catch(C){g(C)}}return Cu.create=t.create,Cu.toCanvas=l.bind(null,n.render),Cu.toDataURL=l.bind(null,n.renderToDataURL),Cu.toString=l.bind(null,function(c,d,y){return a.render(c,y)}),Cu}OM();function kh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var sw;function IM(){return sw||(sw=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(a,l,c){function d(g,b){if(!l[g]){if(!a[g]){var E=typeof kh=="function"&&kh;if(!b&&E)return E(g,!0);if(y)return y(g,!0);var O=new Error("Cannot find module '"+g+"'");throw O.code="MODULE_NOT_FOUND",O}var C=l[g]={exports:{}};a[g][0].call(C.exports,function(R){var N=a[g][1][R];return d(N||R)},C,C.exports,n,a,l,c)}return l[g].exports}for(var y=typeof kh=="function"&&kh,p=0;p<c.length;p++)d(c[p]);return d}({1:[function(n,a,l){var c=n("./utils"),d=n("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(p){for(var g,b,E,O,C,R,N,k=[],F=0,P=p.length,B=P,W=c.getTypeOf(p)!=="string";F<p.length;)B=P-F,E=W?(g=p[F++],b=F<P?p[F++]:0,F<P?p[F++]:0):(g=p.charCodeAt(F++),b=F<P?p.charCodeAt(F++):0,F<P?p.charCodeAt(F++):0),O=g>>2,C=(3&g)<<4|b>>4,R=1<B?(15&b)<<2|E>>6:64,N=2<B?63&E:64,k.push(y.charAt(O)+y.charAt(C)+y.charAt(R)+y.charAt(N));return k.join("")},l.decode=function(p){var g,b,E,O,C,R,N=0,k=0,F="data:";if(p.substr(0,F.length)===F)throw new Error("Invalid base64 input, it looks like a data url.");var P,B=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===y.charAt(64)&&B--,p.charAt(p.length-2)===y.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=d.uint8array?new Uint8Array(0|B):new Array(0|B);N<p.length;)g=y.indexOf(p.charAt(N++))<<2|(O=y.indexOf(p.charAt(N++)))>>4,b=(15&O)<<4|(C=y.indexOf(p.charAt(N++)))>>2,E=(3&C)<<6|(R=y.indexOf(p.charAt(N++))),P[k++]=g,C!==64&&(P[k++]=b),R!==64&&(P[k++]=E);return P}},{"./support":30,"./utils":32}],2:[function(n,a,l){var c=n("./external"),d=n("./stream/DataWorker"),y=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(b,E,O,C,R){this.compressedSize=b,this.uncompressedSize=E,this.crc32=O,this.compression=C,this.compressedContent=R}g.prototype={getContentWorker:function(){var b=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),E=this;return b.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,E,O){return b.pipe(new y).pipe(new p("uncompressedSize")).pipe(E.compressWorker(O)).pipe(new p("compressedSize")).withStreamInfo("compression",E)},a.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,a,l){var c=n("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},l.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,a,l){var c=n("./utils"),d=function(){for(var y,p=[],g=0;g<256;g++){y=g;for(var b=0;b<8;b++)y=1&y?3988292384^y>>>1:y>>>1;p[g]=y}return p}();a.exports=function(y,p){return y!==void 0&&y.length?c.getTypeOf(y)!=="string"?function(g,b,E,O){var C=d,R=O+E;g^=-1;for(var N=O;N<R;N++)g=g>>>8^C[255&(g^b[N])];return-1^g}(0|p,y,y.length,0):function(g,b,E,O){var C=d,R=O+E;g^=-1;for(var N=O;N<R;N++)g=g>>>8^C[255&(g^b.charCodeAt(N))];return-1^g}(0|p,y,y.length,0):0}},{"./utils":32}],5:[function(n,a,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(n,a,l){var c=null;c=typeof Promise<"u"?Promise:n("lie"),a.exports={Promise:c}},{lie:37}],7:[function(n,a,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),y=n("./utils"),p=n("./stream/GenericWorker"),g=c?"uint8array":"array";function b(E,O){p.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=O,this.meta={}}l.magic="\b\0",y.inherits(b,p),b.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(g,E.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(O){E.push({data:O,meta:E.meta})}},l.compressWorker=function(E){return new b("Deflate",E)},l.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,a,l){function c(C,R){var N,k="";for(N=0;N<R;N++)k+=String.fromCharCode(255&C),C>>>=8;return k}function d(C,R,N,k,F,P){var B,W,q=C.file,Y=C.compression,V=P!==g.utf8encode,ne=y.transformTo("string",P(q.name)),G=y.transformTo("string",g.utf8encode(q.name)),J=q.comment,Q=y.transformTo("string",P(J)),H=y.transformTo("string",g.utf8encode(J)),ee=G.length!==q.name.length,z=H.length!==J.length,Z="",ye="",he="",ge=q.dir,fe=q.date,se={crc32:0,compressedSize:0,uncompressedSize:0};R&&!N||(se.crc32=C.crc32,se.compressedSize=C.compressedSize,se.uncompressedSize=C.uncompressedSize);var ue=0;R&&(ue|=8),V||!ee&&!z||(ue|=2048);var pe=0,Ie=0;ge&&(pe|=16),F==="UNIX"?(Ie=798,pe|=function(Re,Le){var gt=Re;return Re||(gt=Le?16893:33204),(65535&gt)<<16}(q.unixPermissions,ge)):(Ie=20,pe|=function(Re){return 63&(Re||0)}(q.dosPermissions)),B=fe.getUTCHours(),B<<=6,B|=fe.getUTCMinutes(),B<<=5,B|=fe.getUTCSeconds()/2,W=fe.getUTCFullYear()-1980,W<<=4,W|=fe.getUTCMonth()+1,W<<=5,W|=fe.getUTCDate(),ee&&(ye=c(1,1)+c(b(ne),4)+G,Z+="up"+c(ye.length,2)+ye),z&&(he=c(1,1)+c(b(Q),4)+H,Z+="uc"+c(he.length,2)+he);var Ae="";return Ae+=`
\0`,Ae+=c(ue,2),Ae+=Y.magic,Ae+=c(B,2),Ae+=c(W,2),Ae+=c(se.crc32,4),Ae+=c(se.compressedSize,4),Ae+=c(se.uncompressedSize,4),Ae+=c(ne.length,2),Ae+=c(Z.length,2),{fileRecord:E.LOCAL_FILE_HEADER+Ae+ne+Z,dirRecord:E.CENTRAL_FILE_HEADER+c(Ie,2)+Ae+c(Q.length,2)+"\0\0\0\0"+c(pe,4)+c(k,4)+ne+Z+Q}}var y=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),b=n("../crc32"),E=n("../signature");function O(C,R,N,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=N,this.encodeFileName=k,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(O,p),O.prototype.push=function(C){var R=C.meta.percent||0,N=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,p.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:N?(R+100*(N-k-1))/N:100}}))},O.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var R=this.streamFiles&&!C.file.dir;if(R){var N=d(C,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},O.prototype.closedSource=function(C){this.accumulate=!1;var R=this.streamFiles&&!C.file.dir,N=d(C,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),R)this.push({data:function(k){return E.DATA_DESCRIPTOR+c(k.crc32,4)+c(k.compressedSize,4)+c(k.uncompressedSize,4)}(C),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},O.prototype.flush=function(){for(var C=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var N=this.bytesWritten-C,k=function(F,P,B,W,q){var Y=y.transformTo("string",q(W));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(F,2)+c(F,2)+c(P,4)+c(B,4)+c(Y.length,2)+Y}(this.dirRecords.length,N,C,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},O.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},O.prototype.registerPrevious=function(C){this._sources.push(C);var R=this;return C.on("data",function(N){R.processChunk(N)}),C.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),C.on("error",function(N){R.error(N)}),this},O.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},O.prototype.error=function(C){var R=this._sources;if(!p.prototype.error.call(this,C))return!1;for(var N=0;N<R.length;N++)try{R[N].error(C)}catch{}return!0},O.prototype.lock=function(){p.prototype.lock.call(this);for(var C=this._sources,R=0;R<C.length;R++)C[R].lock()},a.exports=O},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,a,l){var c=n("../compressions"),d=n("./ZipFileWorker");l.generateWorker=function(y,p,g){var b=new d(p.streamFiles,g,p.platform,p.encodeFileName),E=0;try{y.forEach(function(O,C){E++;var R=function(P,B){var W=P||B,q=c[W];if(!q)throw new Error(W+" is not a valid compression method !");return q}(C.options.compression,p.compression),N=C.options.compressionOptions||p.compressionOptions||{},k=C.dir,F=C.date;C._compressWorker(R,N).withStreamInfo("file",{name:O,dir:k,date:F,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(b)}),b.entriesCount=E}catch(O){b.error(O)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,a,l){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var y in this)typeof this[y]!="function"&&(d[y]=this[y]);return d}}(c.prototype=n("./object")).loadAsync=n("./load"),c.support=n("./support"),c.defaults=n("./defaults"),c.version="3.10.1",c.loadAsync=function(d,y){return new c().loadAsync(d,y)},c.external=n("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,a,l){var c=n("./utils"),d=n("./external"),y=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),b=n("./nodejsUtils");function E(O){return new d.Promise(function(C,R){var N=O.decompressed.getContentWorker().pipe(new g);N.on("error",function(k){R(k)}).on("end",function(){N.streamInfo.crc32!==O.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}a.exports=function(O,C){var R=this;return C=c.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),b.isNode&&b.isStream(O)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",O,!0,C.optimizedBinaryString,C.base64).then(function(N){var k=new p(C);return k.load(N),k}).then(function(N){var k=[d.Promise.resolve(N)],F=N.files;if(C.checkCRC32)for(var P=0;P<F.length;P++)k.push(E(F[P]));return d.Promise.all(k)}).then(function(N){for(var k=N.shift(),F=k.files,P=0;P<F.length;P++){var B=F[P],W=B.fileNameStr,q=c.resolve(B.fileNameStr);R.file(q,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:C.createFolders}),B.dir||(R.file(q).unsafeOriginalName=W)}return k.zipComment.length&&(R.comment=k.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,a,l){var c=n("../utils"),d=n("../stream/GenericWorker");function y(p,g){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}c.inherits(y,d),y.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},y.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,a,l){var c=n("readable-stream").Readable;function d(y,p,g){c.call(this,p),this._helper=y;var b=this;y.on("data",function(E,O){b.push(E)||b._helper.pause(),g&&g(O)}).on("error",function(E){b.emit("error",E)}).on("end",function(){b.push(null)})}n("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},a.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,a,l){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(n,a,l){function c(q,Y,V){var ne,G=y.getTypeOf(Y),J=y.extend(V||{},b);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(q=F(q)),J.createFolders&&(ne=k(q))&&P.call(this,ne,!0);var Q=G==="string"&&J.binary===!1&&J.base64===!1;V&&V.binary!==void 0||(J.binary=!Q),(Y instanceof E&&Y.uncompressedSize===0||J.dir||!Y||Y.length===0)&&(J.base64=!1,J.binary=!0,Y="",J.compression="STORE",G="string");var H=null;H=Y instanceof E||Y instanceof p?Y:R.isNode&&R.isStream(Y)?new N(q,Y):y.prepareContent(q,Y,J.binary,J.optimizedBinaryString,J.base64);var ee=new O(q,H,J);this.files[q]=ee}var d=n("./utf8"),y=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),b=n("./defaults"),E=n("./compressedObject"),O=n("./zipObject"),C=n("./generate"),R=n("./nodejsUtils"),N=n("./nodejs/NodejsStreamInputAdapter"),k=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var Y=q.lastIndexOf("/");return 0<Y?q.substring(0,Y):""},F=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},P=function(q,Y){return Y=Y!==void 0?Y:b.createFolders,q=F(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:Y}),this.files[q]};function B(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var W={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var Y,V,ne;for(Y in this.files)ne=this.files[Y],(V=Y.slice(this.root.length,Y.length))&&Y.slice(0,this.root.length)===this.root&&q(V,ne)},filter:function(q){var Y=[];return this.forEach(function(V,ne){q(V,ne)&&Y.push(ne)}),Y},file:function(q,Y,V){if(arguments.length!==1)return q=this.root+q,c.call(this,q,Y,V),this;if(B(q)){var ne=q;return this.filter(function(J,Q){return!Q.dir&&ne.test(J)})}var G=this.files[this.root+q];return G&&!G.dir?G:null},folder:function(q){if(!q)return this;if(B(q))return this.filter(function(G,J){return J.dir&&q.test(G)});var Y=this.root+q,V=P.call(this,Y),ne=this.clone();return ne.root=V.name,ne},remove:function(q){q=this.root+q;var Y=this.files[q];if(Y||(q.slice(-1)!=="/"&&(q+="/"),Y=this.files[q]),Y&&!Y.dir)delete this.files[q];else for(var V=this.filter(function(G,J){return J.name.slice(0,q.length)===q}),ne=0;ne<V.length;ne++)delete this.files[V[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var Y,V={};try{if((V=y.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");y.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var ne=V.comment||this.comment||"";Y=C.generateWorker(this,V,ne)}catch(G){(Y=new p("error")).error(G)}return new g(Y,V.type||"string",V.mimeType)},generateAsync:function(q,Y){return this.generateInternalStream(q).accumulate(Y)},generateNodeStream:function(q,Y){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(Y)}};a.exports=W},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,a,l){a.exports=n("stream")},{stream:void 0}],17:[function(n,a,l){var c=n("./DataReader");function d(y){c.call(this,y);for(var p=0;p<this.data.length;p++)y[p]=255&y[p]}n("../utils").inherits(d,c),d.prototype.byteAt=function(y){return this.data[this.zero+y]},d.prototype.lastIndexOfSignature=function(y){for(var p=y.charCodeAt(0),g=y.charCodeAt(1),b=y.charCodeAt(2),E=y.charCodeAt(3),O=this.length-4;0<=O;--O)if(this.data[O]===p&&this.data[O+1]===g&&this.data[O+2]===b&&this.data[O+3]===E)return O-this.zero;return-1},d.prototype.readAndCheckSignature=function(y){var p=y.charCodeAt(0),g=y.charCodeAt(1),b=y.charCodeAt(2),E=y.charCodeAt(3),O=this.readData(4);return p===O[0]&&g===O[1]&&b===O[2]&&E===O[3]},d.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,p},a.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,a,l){var c=n("../utils");function d(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var p,g=0;for(this.checkOffset(y),p=this.index+y-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=y,g},readString:function(y){return c.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},a.exports=d},{"../utils":32}],19:[function(n,a,l){var c=n("./Uint8ArrayReader");function d(y){c.call(this,y)}n("../utils").inherits(d,c),d.prototype.readData=function(y){this.checkOffset(y);var p=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,p},a.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,a,l){var c=n("./DataReader");function d(y){c.call(this,y)}n("../utils").inherits(d,c),d.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},d.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},d.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},d.prototype.readData=function(y){this.checkOffset(y);var p=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,p},a.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,a,l){var c=n("./ArrayReader");function d(y){c.call(this,y)}n("../utils").inherits(d,c),d.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,p},a.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,a,l){var c=n("../utils"),d=n("../support"),y=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),b=n("./Uint8ArrayReader");a.exports=function(E){var O=c.getTypeOf(E);return c.checkSupport(O),O!=="string"||d.uint8array?O==="nodebuffer"?new g(E):d.uint8array?new b(c.transformTo("uint8array",E)):new y(c.transformTo("array",E)):new p(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,a,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,a,l){var c=n("./GenericWorker"),d=n("../utils");function y(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(y,c),y.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},a.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(n,a,l){var c=n("./GenericWorker"),d=n("../crc32");function y(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(y,c),y.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,a,l){var c=n("../utils"),d=n("./GenericWorker");function y(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(y,d),y.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}d.prototype.processChunk.call(this,p)},a.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(n,a,l){var c=n("../utils"),d=n("./GenericWorker");function y(p){d.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=c.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}c.inherits(y,d),y.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(n,a,l){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,y){return this._listeners[d].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,y){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,y)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var y=this;return d.on("data",function(p){y.processChunk(p)}),d.on("end",function(){y.end()}),d.on("error",function(p){y.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,y){return this.extraStreamInfo[d]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},a.exports=c},{}],29:[function(n,a,l){var c=n("../utils"),d=n("./ConvertWorker"),y=n("./GenericWorker"),p=n("../base64"),g=n("../support"),b=n("../external"),E=null;if(g.nodestream)try{E=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function O(R,N){return new b.Promise(function(k,F){var P=[],B=R._internalType,W=R._outputType,q=R._mimeType;R.on("data",function(Y,V){P.push(Y),N&&N(V)}).on("error",function(Y){P=[],F(Y)}).on("end",function(){try{var Y=function(V,ne,G){switch(V){case"blob":return c.newBlob(c.transformTo("arraybuffer",ne),G);case"base64":return p.encode(ne);default:return c.transformTo(V,ne)}}(W,function(V,ne){var G,J=0,Q=null,H=0;for(G=0;G<ne.length;G++)H+=ne[G].length;switch(V){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(Q=new Uint8Array(H),G=0;G<ne.length;G++)Q.set(ne[G],J),J+=ne[G].length;return Q;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+V+"'")}}(B,P),q);k(Y)}catch(V){F(V)}P=[]}).resume()})}function C(R,N,k){var F=N;switch(N){case"blob":case"arraybuffer":F="uint8array";break;case"base64":F="string"}try{this._internalType=F,this._outputType=N,this._mimeType=k,c.checkSupport(F),this._worker=R.pipe(new d(F)),R.lock()}catch(P){this._worker=new y("error"),this._worker.error(P)}}C.prototype={accumulate:function(R){return O(this,R)},on:function(R,N){var k=this;return R==="data"?this._worker.on(R,function(F){N.call(k,F.data,F.meta)}):this._worker.on(R,function(){c.delay(N,arguments,k)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},R)}},a.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,a,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var c=new ArrayBuffer(0);try{l.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),l.blob=d.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!n("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(n,a,l){for(var c=n("./utils"),d=n("./support"),y=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;function E(){p.call(this,"utf-8 decode"),this.leftOver=null}function O(){p.call(this,"utf-8 encode")}l.utf8encode=function(C){return d.nodebuffer?y.newBufferFrom(C,"utf-8"):function(R){var N,k,F,P,B,W=R.length,q=0;for(P=0;P<W;P++)(64512&(k=R.charCodeAt(P)))==55296&&P+1<W&&(64512&(F=R.charCodeAt(P+1)))==56320&&(k=65536+(k-55296<<10)+(F-56320),P++),q+=k<128?1:k<2048?2:k<65536?3:4;for(N=d.uint8array?new Uint8Array(q):new Array(q),P=B=0;B<q;P++)(64512&(k=R.charCodeAt(P)))==55296&&P+1<W&&(64512&(F=R.charCodeAt(P+1)))==56320&&(k=65536+(k-55296<<10)+(F-56320),P++),k<128?N[B++]=k:(k<2048?N[B++]=192|k>>>6:(k<65536?N[B++]=224|k>>>12:(N[B++]=240|k>>>18,N[B++]=128|k>>>12&63),N[B++]=128|k>>>6&63),N[B++]=128|63&k);return N}(C)},l.utf8decode=function(C){return d.nodebuffer?c.transformTo("nodebuffer",C).toString("utf-8"):function(R){var N,k,F,P,B=R.length,W=new Array(2*B);for(N=k=0;N<B;)if((F=R[N++])<128)W[k++]=F;else if(4<(P=g[F]))W[k++]=65533,N+=P-1;else{for(F&=P===2?31:P===3?15:7;1<P&&N<B;)F=F<<6|63&R[N++],P--;1<P?W[k++]=65533:F<65536?W[k++]=F:(F-=65536,W[k++]=55296|F>>10&1023,W[k++]=56320|1023&F)}return W.length!==k&&(W.subarray?W=W.subarray(0,k):W.length=k),c.applyFromCharCode(W)}(C=c.transformTo(d.uint8array?"uint8array":"array",C))},c.inherits(E,p),E.prototype.processChunk=function(C){var R=c.transformTo(d.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var N=R;(R=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),R.set(N,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var k=function(P,B){var W;for((B=B||P.length)>P.length&&(B=P.length),W=B-1;0<=W&&(192&P[W])==128;)W--;return W<0||W===0?B:W+g[P[W]]>B?W:B}(R),F=R;k!==R.length&&(d.uint8array?(F=R.subarray(0,k),this.leftOver=R.subarray(k,R.length)):(F=R.slice(0,k),this.leftOver=R.slice(k,R.length))),this.push({data:l.utf8decode(F),meta:C.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=E,c.inherits(O,p),O.prototype.processChunk=function(C){this.push({data:l.utf8encode(C.data),meta:C.meta})},l.Utf8EncodeWorker=O},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,a,l){var c=n("./support"),d=n("./base64"),y=n("./nodejsUtils"),p=n("./external");function g(N){return N}function b(N,k){for(var F=0;F<N.length;++F)k[F]=255&N.charCodeAt(F);return k}n("setimmediate"),l.newBlob=function(N,k){l.checkSupport("blob");try{return new Blob([N],{type:k})}catch{try{var F=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return F.append(N),F.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(N,k,F){var P=[],B=0,W=N.length;if(W<=F)return String.fromCharCode.apply(null,N);for(;B<W;)k==="array"||k==="nodebuffer"?P.push(String.fromCharCode.apply(null,N.slice(B,Math.min(B+F,W)))):P.push(String.fromCharCode.apply(null,N.subarray(B,Math.min(B+F,W)))),B+=F;return P.join("")},stringifyByChar:function(N){for(var k="",F=0;F<N.length;F++)k+=String.fromCharCode(N[F]);return k},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function O(N){var k=65536,F=l.getTypeOf(N),P=!0;if(F==="uint8array"?P=E.applyCanBeUsed.uint8array:F==="nodebuffer"&&(P=E.applyCanBeUsed.nodebuffer),P)for(;1<k;)try{return E.stringifyByChunk(N,F,k)}catch{k=Math.floor(k/2)}return E.stringifyByChar(N)}function C(N,k){for(var F=0;F<N.length;F++)k[F]=N[F];return k}l.applyFromCharCode=O;var R={};R.string={string:g,array:function(N){return b(N,new Array(N.length))},arraybuffer:function(N){return R.string.uint8array(N).buffer},uint8array:function(N){return b(N,new Uint8Array(N.length))},nodebuffer:function(N){return b(N,y.allocBuffer(N.length))}},R.array={string:O,array:g,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return y.newBufferFrom(N)}},R.arraybuffer={string:function(N){return O(new Uint8Array(N))},array:function(N){return C(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:g,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return y.newBufferFrom(new Uint8Array(N))}},R.uint8array={string:O,array:function(N){return C(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:g,nodebuffer:function(N){return y.newBufferFrom(N)}},R.nodebuffer={string:O,array:function(N){return C(N,new Array(N.length))},arraybuffer:function(N){return R.nodebuffer.uint8array(N).buffer},uint8array:function(N){return C(N,new Uint8Array(N.length))},nodebuffer:g},l.transformTo=function(N,k){if(k=k||"",!N)return k;l.checkSupport(N);var F=l.getTypeOf(k);return R[F][N](k)},l.resolve=function(N){for(var k=N.split("/"),F=[],P=0;P<k.length;P++){var B=k[P];B==="."||B===""&&P!==0&&P!==k.length-1||(B===".."?F.pop():F.push(B))}return F.join("/")},l.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":c.nodebuffer&&y.isBuffer(N)?"nodebuffer":c.uint8array&&N instanceof Uint8Array?"uint8array":c.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(N){if(!c[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(N){var k,F,P="";for(F=0;F<(N||"").length;F++)P+="\\x"+((k=N.charCodeAt(F))<16?"0":"")+k.toString(16).toUpperCase();return P},l.delay=function(N,k,F){setImmediate(function(){N.apply(F||null,k||[])})},l.inherits=function(N,k){function F(){}F.prototype=k.prototype,N.prototype=new F},l.extend=function(){var N,k,F={};for(N=0;N<arguments.length;N++)for(k in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],k)&&F[k]===void 0&&(F[k]=arguments[N][k]);return F},l.prepareContent=function(N,k,F,P,B){return p.Promise.resolve(k).then(function(W){return c.blob&&(W instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(W))!==-1)&&typeof FileReader<"u"?new p.Promise(function(q,Y){var V=new FileReader;V.onload=function(ne){q(ne.target.result)},V.onerror=function(ne){Y(ne.target.error)},V.readAsArrayBuffer(W)}):W}).then(function(W){var q=l.getTypeOf(W);return q?(q==="arraybuffer"?W=l.transformTo("uint8array",W):q==="string"&&(B?W=d.decode(W):F&&P!==!0&&(W=function(Y){return b(Y,c.uint8array?new Uint8Array(Y.length):new Array(Y.length))}(W))),W):p.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,a,l){var c=n("./reader/readerFor"),d=n("./utils"),y=n("./signature"),p=n("./zipEntry"),g=n("./support");function b(E){this.files=[],this.loadOptions=E}b.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(O)+", expected "+d.pretty(E)+")")}},isSignature:function(E,O){var C=this.reader.index;this.reader.setIndex(E);var R=this.reader.readString(4)===O;return this.reader.setIndex(C),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),O=g.uint8array?"uint8array":"array",C=d.transformTo(O,E);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,O,C,R=this.zip64EndOfCentralSize-44;0<R;)E=this.reader.readInt(2),O=this.reader.readInt(4),C=this.reader.readData(O),this.zip64ExtensibleData[E]={id:E,length:O,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,O;for(E=0;E<this.files.length;E++)O=this.files[E],this.reader.setIndex(O.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(E=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var O=E;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var R=O-C;if(0<R)this.isSignature(O,y.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(E){this.reader=c(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,a,l){var c=n("./reader/readerFor"),d=n("./utils"),y=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),b=n("./compressions"),E=n("./support");function O(C,R){this.options=C,this.loadOptions=R}O.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var R,N;if(C.skip(22),this.fileNameLength=C.readInt(2),N=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=function(k){for(var F in b)if(Object.prototype.hasOwnProperty.call(b,F)&&b[F].magic===k)return b[F];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,R,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var R=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(R),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var R,N,k,F=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<F;)R=C.readInt(2),N=C.readInt(2),k=C.readData(N),this.extraFields[R]={id:R,length:N,value:k};C.setIndex(F)},handleUTF8:function(){var C=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var N=d.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var F=d.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(F)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var R=c(C.value);return R.readInt(1)!==1||p(this.fileName)!==R.readInt(4)?null:g.utf8decode(R.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var R=c(C.value);return R.readInt(1)!==1||p(this.fileComment)!==R.readInt(4)?null:g.utf8decode(R.readData(C.length-5))}return null}},a.exports=O},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,a,l){function c(R,N,k){this.name=R,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=N,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var d=n("./stream/StreamHelper"),y=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),b=n("./stream/GenericWorker");c.prototype={internalStream:function(R){var N=null,k="string";try{if(!R)throw new Error("No output type specified.");var F=(k=R.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),N=this._decompressWorker();var P=!this._dataBinary;P&&!F&&(N=N.pipe(new p.Utf8EncodeWorker)),!P&&F&&(N=N.pipe(new p.Utf8DecodeWorker))}catch(B){(N=new b("error")).error(B)}return new d(N,k,"")},async:function(R,N){return this.internalStream(R).accumulate(N)},nodeStream:function(R,N){return this.internalStream(R||"nodebuffer").toNodejsStream(N)},_compressWorker:function(R,N){if(this._data instanceof g&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(k,R,N)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof b?this._data:new y(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<E.length;C++)c.prototype[E[C]]=O;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,a,l){(function(c){var d,y,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var g=0,b=new p(R),E=c.document.createTextNode("");b.observe(E,{characterData:!0}),d=function(){E.data=g=++g%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var N=c.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},c.document.documentElement.appendChild(N)}:function(){setTimeout(R,0)};else{var O=new c.MessageChannel;O.port1.onmessage=R,d=function(){O.port2.postMessage(0)}}var C=[];function R(){var N,k;y=!0;for(var F=C.length;F;){for(k=C,C=[],N=-1;++N<F;)k[N]();F=C.length}y=!1}a.exports=function(N){C.push(N)!==1||y||d()}}).call(this,typeof Mi<"u"?Mi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,a,l){var c=n("immediate");function d(){}var y={},p=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function E(F){if(typeof F!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,F!==d&&N(this,F)}function O(F,P,B){this.promise=F,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function C(F,P,B){c(function(){var W;try{W=P(B)}catch(q){return y.reject(F,q)}W===F?y.reject(F,new TypeError("Cannot resolve promise with itself")):y.resolve(F,W)})}function R(F){var P=F&&F.then;if(F&&(typeof F=="object"||typeof F=="function")&&typeof P=="function")return function(){P.apply(F,arguments)}}function N(F,P){var B=!1;function W(V){B||(B=!0,y.reject(F,V))}function q(V){B||(B=!0,y.resolve(F,V))}var Y=k(function(){P(q,W)});Y.status==="error"&&W(Y.value)}function k(F,P){var B={};try{B.value=F(P),B.status="success"}catch(W){B.status="error",B.value=W}return B}(a.exports=E).prototype.finally=function(F){if(typeof F!="function")return this;var P=this.constructor;return this.then(function(B){return P.resolve(F()).then(function(){return B})},function(B){return P.resolve(F()).then(function(){throw B})})},E.prototype.catch=function(F){return this.then(null,F)},E.prototype.then=function(F,P){if(typeof F!="function"&&this.state===g||typeof P!="function"&&this.state===p)return this;var B=new this.constructor(d);return this.state!==b?C(B,this.state===g?F:P,this.outcome):this.queue.push(new O(B,F,P)),B},O.prototype.callFulfilled=function(F){y.resolve(this.promise,F)},O.prototype.otherCallFulfilled=function(F){C(this.promise,this.onFulfilled,F)},O.prototype.callRejected=function(F){y.reject(this.promise,F)},O.prototype.otherCallRejected=function(F){C(this.promise,this.onRejected,F)},y.resolve=function(F,P){var B=k(R,P);if(B.status==="error")return y.reject(F,B.value);var W=B.value;if(W)N(F,W);else{F.state=g,F.outcome=P;for(var q=-1,Y=F.queue.length;++q<Y;)F.queue[q].callFulfilled(P)}return F},y.reject=function(F,P){F.state=p,F.outcome=P;for(var B=-1,W=F.queue.length;++B<W;)F.queue[B].callRejected(P);return F},E.resolve=function(F){return F instanceof this?F:y.resolve(new this(d),F)},E.reject=function(F){var P=new this(d);return y.reject(P,F)},E.all=function(F){var P=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=F.length,W=!1;if(!B)return this.resolve([]);for(var q=new Array(B),Y=0,V=-1,ne=new this(d);++V<B;)G(F[V],V);return ne;function G(J,Q){P.resolve(J).then(function(H){q[Q]=H,++Y!==B||W||(W=!0,y.resolve(ne,q))},function(H){W||(W=!0,y.reject(ne,H))})}},E.race=function(F){var P=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=F.length,W=!1;if(!B)return this.resolve([]);for(var q=-1,Y=new this(d);++q<B;)V=F[q],P.resolve(V).then(function(ne){W||(W=!0,y.resolve(Y,ne))},function(ne){W||(W=!0,y.reject(Y,ne))});var V;return Y}},{immediate:36}],38:[function(n,a,l){var c={};(0,n("./lib/utils/common").assign)(c,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,a,l){var c=n("./zlib/deflate"),d=n("./utils/common"),y=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),b=Object.prototype.toString,E=0,O=-1,C=0,R=8;function N(F){if(!(this instanceof N))return new N(F);this.options=d.assign({level:O,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},F||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var B=c.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(B!==E)throw new Error(p[B]);if(P.header&&c.deflateSetHeader(this.strm,P.header),P.dictionary){var W;if(W=typeof P.dictionary=="string"?y.string2buf(P.dictionary):b.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(B=c.deflateSetDictionary(this.strm,W))!==E)throw new Error(p[B]);this._dict_set=!0}}function k(F,P){var B=new N(P);if(B.push(F,!0),B.err)throw B.msg||p[B.err];return B.result}N.prototype.push=function(F,P){var B,W,q=this.strm,Y=this.options.chunkSize;if(this.ended)return!1;W=P===~~P?P:P===!0?4:0,typeof F=="string"?q.input=y.string2buf(F):b.call(F)==="[object ArrayBuffer]"?q.input=new Uint8Array(F):q.input=F,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(Y),q.next_out=0,q.avail_out=Y),(B=c.deflate(q,W))!==1&&B!==E)return this.onEnd(B),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&B!==1);return W===4?(B=c.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===E):W!==2||(this.onEnd(E),!(q.avail_out=0))},N.prototype.onData=function(F){this.chunks.push(F)},N.prototype.onEnd=function(F){F===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},l.Deflate=N,l.deflate=k,l.deflateRaw=function(F,P){return(P=P||{}).raw=!0,k(F,P)},l.gzip=function(F,P){return(P=P||{}).gzip=!0,k(F,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,a,l){var c=n("./zlib/inflate"),d=n("./utils/common"),y=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),b=n("./zlib/zstream"),E=n("./zlib/gzheader"),O=Object.prototype.toString;function C(N){if(!(this instanceof C))return new C(N);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},N||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||N&&N.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&(15&k.windowBits)==0&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var F=c.inflateInit2(this.strm,k.windowBits);if(F!==p.Z_OK)throw new Error(g[F]);this.header=new E,c.inflateGetHeader(this.strm,this.header)}function R(N,k){var F=new C(k);if(F.push(N,!0),F.err)throw F.msg||g[F.err];return F.result}C.prototype.push=function(N,k){var F,P,B,W,q,Y,V=this.strm,ne=this.options.chunkSize,G=this.options.dictionary,J=!1;if(this.ended)return!1;P=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof N=="string"?V.input=y.binstring2buf(N):O.call(N)==="[object ArrayBuffer]"?V.input=new Uint8Array(N):V.input=N,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new d.Buf8(ne),V.next_out=0,V.avail_out=ne),(F=c.inflate(V,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&G&&(Y=typeof G=="string"?y.string2buf(G):O.call(G)==="[object ArrayBuffer]"?new Uint8Array(G):G,F=c.inflateSetDictionary(this.strm,Y)),F===p.Z_BUF_ERROR&&J===!0&&(F=p.Z_OK,J=!1),F!==p.Z_STREAM_END&&F!==p.Z_OK)return this.onEnd(F),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&F!==p.Z_STREAM_END&&(V.avail_in!==0||P!==p.Z_FINISH&&P!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=y.utf8border(V.output,V.next_out),W=V.next_out-B,q=y.buf2string(V.output,B),V.next_out=W,V.avail_out=ne-W,W&&d.arraySet(V.output,V.output,B,W,0),this.onData(q)):this.onData(d.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(J=!0)}while((0<V.avail_in||V.avail_out===0)&&F!==p.Z_STREAM_END);return F===p.Z_STREAM_END&&(P=p.Z_FINISH),P===p.Z_FINISH?(F=c.inflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===p.Z_OK):P!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(V.avail_out=0))},C.prototype.onData=function(N){this.chunks.push(N)},C.prototype.onEnd=function(N){N===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},l.Inflate=C,l.inflate=R,l.inflateRaw=function(N,k){return(k=k||{}).raw=!0,R(N,k)},l.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,a,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var E in b)b.hasOwnProperty(E)&&(p[E]=b[E])}}return p},l.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var d={arraySet:function(p,g,b,E,O){if(g.subarray&&p.subarray)p.set(g.subarray(b,b+E),O);else for(var C=0;C<E;C++)p[O+C]=g[b+C]},flattenChunks:function(p){var g,b,E,O,C,R;for(g=E=0,b=p.length;g<b;g++)E+=p[g].length;for(R=new Uint8Array(E),g=O=0,b=p.length;g<b;g++)C=p[g],R.set(C,O),O+=C.length;return R}},y={arraySet:function(p,g,b,E,O){for(var C=0;C<E;C++)p[O+C]=g[b+C]},flattenChunks:function(p){return[].concat.apply([],p)}};l.setTyped=function(p){p?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,d)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,y))},l.setTyped(c)},{}],42:[function(n,a,l){var c=n("./common"),d=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var p=new c.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function b(E,O){if(O<65537&&(E.subarray&&y||!E.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(E,O));for(var C="",R=0;R<O;R++)C+=String.fromCharCode(E[R]);return C}p[254]=p[254]=1,l.string2buf=function(E){var O,C,R,N,k,F=E.length,P=0;for(N=0;N<F;N++)(64512&(C=E.charCodeAt(N)))==55296&&N+1<F&&(64512&(R=E.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(R-56320),N++),P+=C<128?1:C<2048?2:C<65536?3:4;for(O=new c.Buf8(P),N=k=0;k<P;N++)(64512&(C=E.charCodeAt(N)))==55296&&N+1<F&&(64512&(R=E.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(R-56320),N++),C<128?O[k++]=C:(C<2048?O[k++]=192|C>>>6:(C<65536?O[k++]=224|C>>>12:(O[k++]=240|C>>>18,O[k++]=128|C>>>12&63),O[k++]=128|C>>>6&63),O[k++]=128|63&C);return O},l.buf2binstring=function(E){return b(E,E.length)},l.binstring2buf=function(E){for(var O=new c.Buf8(E.length),C=0,R=O.length;C<R;C++)O[C]=E.charCodeAt(C);return O},l.buf2string=function(E,O){var C,R,N,k,F=O||E.length,P=new Array(2*F);for(C=R=0;C<F;)if((N=E[C++])<128)P[R++]=N;else if(4<(k=p[N]))P[R++]=65533,C+=k-1;else{for(N&=k===2?31:k===3?15:7;1<k&&C<F;)N=N<<6|63&E[C++],k--;1<k?P[R++]=65533:N<65536?P[R++]=N:(N-=65536,P[R++]=55296|N>>10&1023,P[R++]=56320|1023&N)}return b(P,R)},l.utf8border=function(E,O){var C;for((O=O||E.length)>E.length&&(O=E.length),C=O-1;0<=C&&(192&E[C])==128;)C--;return C<0||C===0?O:C+p[E[C]]>O?C:O}},{"./common":41}],43:[function(n,a,l){a.exports=function(c,d,y,p){for(var g=65535&c|0,b=c>>>16&65535|0,E=0;y!==0;){for(y-=E=2e3<y?2e3:y;b=b+(g=g+d[p++]|0)|0,--E;);g%=65521,b%=65521}return g|b<<16|0}},{}],44:[function(n,a,l){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,a,l){var c=function(){for(var d,y=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;y[p]=d}return y}();a.exports=function(d,y,p,g){var b=c,E=g+p;d^=-1;for(var O=g;O<E;O++)d=d>>>8^b[255&(d^y[O])];return-1^d}},{}],46:[function(n,a,l){var c,d=n("../utils/common"),y=n("./trees"),p=n("./adler32"),g=n("./crc32"),b=n("./messages"),E=0,O=4,C=0,R=-2,N=-1,k=4,F=2,P=8,B=9,W=286,q=30,Y=19,V=2*W+1,ne=15,G=3,J=258,Q=J+G+1,H=42,ee=113,z=1,Z=2,ye=3,he=4;function ge(re,Ye){return re.msg=b[Ye],Ye}function fe(re){return(re<<1)-(4<re?9:0)}function se(re){for(var Ye=re.length;0<=--Ye;)re[Ye]=0}function ue(re){var Ye=re.state,Ue=Ye.pending;Ue>re.avail_out&&(Ue=re.avail_out),Ue!==0&&(d.arraySet(re.output,Ye.pending_buf,Ye.pending_out,Ue,re.next_out),re.next_out+=Ue,Ye.pending_out+=Ue,re.total_out+=Ue,re.avail_out-=Ue,Ye.pending-=Ue,Ye.pending===0&&(Ye.pending_out=0))}function pe(re,Ye){y._tr_flush_block(re,0<=re.block_start?re.block_start:-1,re.strstart-re.block_start,Ye),re.block_start=re.strstart,ue(re.strm)}function Ie(re,Ye){re.pending_buf[re.pending++]=Ye}function Ae(re,Ye){re.pending_buf[re.pending++]=Ye>>>8&255,re.pending_buf[re.pending++]=255&Ye}function Re(re,Ye){var Ue,_e,de=re.max_chain_length,Ee=re.strstart,Je=re.prev_length,ke=re.nice_match,je=re.strstart>re.w_size-Q?re.strstart-(re.w_size-Q):0,ct=re.window,lt=re.w_mask,ut=re.prev,yt=re.strstart+J,dn=ct[Ee+Je-1],It=ct[Ee+Je];re.prev_length>=re.good_match&&(de>>=2),ke>re.lookahead&&(ke=re.lookahead);do if(ct[(Ue=Ye)+Je]===It&&ct[Ue+Je-1]===dn&&ct[Ue]===ct[Ee]&&ct[++Ue]===ct[Ee+1]){Ee+=2,Ue++;do;while(ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&ct[++Ee]===ct[++Ue]&&Ee<yt);if(_e=J-(yt-Ee),Ee=yt-J,Je<_e){if(re.match_start=Ye,ke<=(Je=_e))break;dn=ct[Ee+Je-1],It=ct[Ee+Je]}}while((Ye=ut[Ye&lt])>je&&--de!=0);return Je<=re.lookahead?Je:re.lookahead}function Le(re){var Ye,Ue,_e,de,Ee,Je,ke,je,ct,lt,ut=re.w_size;do{if(de=re.window_size-re.lookahead-re.strstart,re.strstart>=ut+(ut-Q)){for(d.arraySet(re.window,re.window,ut,ut,0),re.match_start-=ut,re.strstart-=ut,re.block_start-=ut,Ye=Ue=re.hash_size;_e=re.head[--Ye],re.head[Ye]=ut<=_e?_e-ut:0,--Ue;);for(Ye=Ue=ut;_e=re.prev[--Ye],re.prev[Ye]=ut<=_e?_e-ut:0,--Ue;);de+=ut}if(re.strm.avail_in===0)break;if(Je=re.strm,ke=re.window,je=re.strstart+re.lookahead,ct=de,lt=void 0,lt=Je.avail_in,ct<lt&&(lt=ct),Ue=lt===0?0:(Je.avail_in-=lt,d.arraySet(ke,Je.input,Je.next_in,lt,je),Je.state.wrap===1?Je.adler=p(Je.adler,ke,lt,je):Je.state.wrap===2&&(Je.adler=g(Je.adler,ke,lt,je)),Je.next_in+=lt,Je.total_in+=lt,lt),re.lookahead+=Ue,re.lookahead+re.insert>=G)for(Ee=re.strstart-re.insert,re.ins_h=re.window[Ee],re.ins_h=(re.ins_h<<re.hash_shift^re.window[Ee+1])&re.hash_mask;re.insert&&(re.ins_h=(re.ins_h<<re.hash_shift^re.window[Ee+G-1])&re.hash_mask,re.prev[Ee&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=Ee,Ee++,re.insert--,!(re.lookahead+re.insert<G)););}while(re.lookahead<Q&&re.strm.avail_in!==0)}function gt(re,Ye){for(var Ue,_e;;){if(re.lookahead<Q){if(Le(re),re.lookahead<Q&&Ye===E)return z;if(re.lookahead===0)break}if(Ue=0,re.lookahead>=G&&(re.ins_h=(re.ins_h<<re.hash_shift^re.window[re.strstart+G-1])&re.hash_mask,Ue=re.prev[re.strstart&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=re.strstart),Ue!==0&&re.strstart-Ue<=re.w_size-Q&&(re.match_length=Re(re,Ue)),re.match_length>=G)if(_e=y._tr_tally(re,re.strstart-re.match_start,re.match_length-G),re.lookahead-=re.match_length,re.match_length<=re.max_lazy_match&&re.lookahead>=G){for(re.match_length--;re.strstart++,re.ins_h=(re.ins_h<<re.hash_shift^re.window[re.strstart+G-1])&re.hash_mask,Ue=re.prev[re.strstart&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=re.strstart,--re.match_length!=0;);re.strstart++}else re.strstart+=re.match_length,re.match_length=0,re.ins_h=re.window[re.strstart],re.ins_h=(re.ins_h<<re.hash_shift^re.window[re.strstart+1])&re.hash_mask;else _e=y._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++;if(_e&&(pe(re,!1),re.strm.avail_out===0))return z}return re.insert=re.strstart<G-1?re.strstart:G-1,Ye===O?(pe(re,!0),re.strm.avail_out===0?ye:he):re.last_lit&&(pe(re,!1),re.strm.avail_out===0)?z:Z}function Ze(re,Ye){for(var Ue,_e,de;;){if(re.lookahead<Q){if(Le(re),re.lookahead<Q&&Ye===E)return z;if(re.lookahead===0)break}if(Ue=0,re.lookahead>=G&&(re.ins_h=(re.ins_h<<re.hash_shift^re.window[re.strstart+G-1])&re.hash_mask,Ue=re.prev[re.strstart&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=re.strstart),re.prev_length=re.match_length,re.prev_match=re.match_start,re.match_length=G-1,Ue!==0&&re.prev_length<re.max_lazy_match&&re.strstart-Ue<=re.w_size-Q&&(re.match_length=Re(re,Ue),re.match_length<=5&&(re.strategy===1||re.match_length===G&&4096<re.strstart-re.match_start)&&(re.match_length=G-1)),re.prev_length>=G&&re.match_length<=re.prev_length){for(de=re.strstart+re.lookahead-G,_e=y._tr_tally(re,re.strstart-1-re.prev_match,re.prev_length-G),re.lookahead-=re.prev_length-1,re.prev_length-=2;++re.strstart<=de&&(re.ins_h=(re.ins_h<<re.hash_shift^re.window[re.strstart+G-1])&re.hash_mask,Ue=re.prev[re.strstart&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=re.strstart),--re.prev_length!=0;);if(re.match_available=0,re.match_length=G-1,re.strstart++,_e&&(pe(re,!1),re.strm.avail_out===0))return z}else if(re.match_available){if((_e=y._tr_tally(re,0,re.window[re.strstart-1]))&&pe(re,!1),re.strstart++,re.lookahead--,re.strm.avail_out===0)return z}else re.match_available=1,re.strstart++,re.lookahead--}return re.match_available&&(_e=y._tr_tally(re,0,re.window[re.strstart-1]),re.match_available=0),re.insert=re.strstart<G-1?re.strstart:G-1,Ye===O?(pe(re,!0),re.strm.avail_out===0?ye:he):re.last_lit&&(pe(re,!1),re.strm.avail_out===0)?z:Z}function ft(re,Ye,Ue,_e,de){this.good_length=re,this.max_lazy=Ye,this.nice_length=Ue,this.max_chain=_e,this.func=de}function wt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*V),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*Y+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(ne+1),this.heap=new d.Buf16(2*W+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*W+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Mt(re){var Ye;return re&&re.state?(re.total_in=re.total_out=0,re.data_type=F,(Ye=re.state).pending=0,Ye.pending_out=0,Ye.wrap<0&&(Ye.wrap=-Ye.wrap),Ye.status=Ye.wrap?H:ee,re.adler=Ye.wrap===2?0:1,Ye.last_flush=E,y._tr_init(Ye),C):ge(re,R)}function Yt(re){var Ye=Mt(re);return Ye===C&&function(Ue){Ue.window_size=2*Ue.w_size,se(Ue.head),Ue.max_lazy_match=c[Ue.level].max_lazy,Ue.good_match=c[Ue.level].good_length,Ue.nice_match=c[Ue.level].nice_length,Ue.max_chain_length=c[Ue.level].max_chain,Ue.strstart=0,Ue.block_start=0,Ue.lookahead=0,Ue.insert=0,Ue.match_length=Ue.prev_length=G-1,Ue.match_available=0,Ue.ins_h=0}(re.state),Ye}function Tt(re,Ye,Ue,_e,de,Ee){if(!re)return R;var Je=1;if(Ye===N&&(Ye=6),_e<0?(Je=0,_e=-_e):15<_e&&(Je=2,_e-=16),de<1||B<de||Ue!==P||_e<8||15<_e||Ye<0||9<Ye||Ee<0||k<Ee)return ge(re,R);_e===8&&(_e=9);var ke=new wt;return(re.state=ke).strm=re,ke.wrap=Je,ke.gzhead=null,ke.w_bits=_e,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=de+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+G-1)/G),ke.window=new d.Buf8(2*ke.w_size),ke.head=new d.Buf16(ke.hash_size),ke.prev=new d.Buf16(ke.w_size),ke.lit_bufsize=1<<de+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new d.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=Ye,ke.strategy=Ee,ke.method=Ue,Yt(re)}c=[new ft(0,0,0,0,function(re,Ye){var Ue=65535;for(Ue>re.pending_buf_size-5&&(Ue=re.pending_buf_size-5);;){if(re.lookahead<=1){if(Le(re),re.lookahead===0&&Ye===E)return z;if(re.lookahead===0)break}re.strstart+=re.lookahead,re.lookahead=0;var _e=re.block_start+Ue;if((re.strstart===0||re.strstart>=_e)&&(re.lookahead=re.strstart-_e,re.strstart=_e,pe(re,!1),re.strm.avail_out===0)||re.strstart-re.block_start>=re.w_size-Q&&(pe(re,!1),re.strm.avail_out===0))return z}return re.insert=0,Ye===O?(pe(re,!0),re.strm.avail_out===0?ye:he):(re.strstart>re.block_start&&(pe(re,!1),re.strm.avail_out),z)}),new ft(4,4,8,4,gt),new ft(4,5,16,8,gt),new ft(4,6,32,32,gt),new ft(4,4,16,16,Ze),new ft(8,16,32,32,Ze),new ft(8,16,128,128,Ze),new ft(8,32,128,256,Ze),new ft(32,128,258,1024,Ze),new ft(32,258,258,4096,Ze)],l.deflateInit=function(re,Ye){return Tt(re,Ye,P,15,8,0)},l.deflateInit2=Tt,l.deflateReset=Yt,l.deflateResetKeep=Mt,l.deflateSetHeader=function(re,Ye){return re&&re.state?re.state.wrap!==2?R:(re.state.gzhead=Ye,C):R},l.deflate=function(re,Ye){var Ue,_e,de,Ee;if(!re||!re.state||5<Ye||Ye<0)return re?ge(re,R):R;if(_e=re.state,!re.output||!re.input&&re.avail_in!==0||_e.status===666&&Ye!==O)return ge(re,re.avail_out===0?-5:R);if(_e.strm=re,Ue=_e.last_flush,_e.last_flush=Ye,_e.status===H)if(_e.wrap===2)re.adler=0,Ie(_e,31),Ie(_e,139),Ie(_e,8),_e.gzhead?(Ie(_e,(_e.gzhead.text?1:0)+(_e.gzhead.hcrc?2:0)+(_e.gzhead.extra?4:0)+(_e.gzhead.name?8:0)+(_e.gzhead.comment?16:0)),Ie(_e,255&_e.gzhead.time),Ie(_e,_e.gzhead.time>>8&255),Ie(_e,_e.gzhead.time>>16&255),Ie(_e,_e.gzhead.time>>24&255),Ie(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),Ie(_e,255&_e.gzhead.os),_e.gzhead.extra&&_e.gzhead.extra.length&&(Ie(_e,255&_e.gzhead.extra.length),Ie(_e,_e.gzhead.extra.length>>8&255)),_e.gzhead.hcrc&&(re.adler=g(re.adler,_e.pending_buf,_e.pending,0)),_e.gzindex=0,_e.status=69):(Ie(_e,0),Ie(_e,0),Ie(_e,0),Ie(_e,0),Ie(_e,0),Ie(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),Ie(_e,3),_e.status=ee);else{var Je=P+(_e.w_bits-8<<4)<<8;Je|=(2<=_e.strategy||_e.level<2?0:_e.level<6?1:_e.level===6?2:3)<<6,_e.strstart!==0&&(Je|=32),Je+=31-Je%31,_e.status=ee,Ae(_e,Je),_e.strstart!==0&&(Ae(_e,re.adler>>>16),Ae(_e,65535&re.adler)),re.adler=1}if(_e.status===69)if(_e.gzhead.extra){for(de=_e.pending;_e.gzindex<(65535&_e.gzhead.extra.length)&&(_e.pending!==_e.pending_buf_size||(_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),ue(re),de=_e.pending,_e.pending!==_e.pending_buf_size));)Ie(_e,255&_e.gzhead.extra[_e.gzindex]),_e.gzindex++;_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),_e.gzindex===_e.gzhead.extra.length&&(_e.gzindex=0,_e.status=73)}else _e.status=73;if(_e.status===73)if(_e.gzhead.name){de=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),ue(re),de=_e.pending,_e.pending===_e.pending_buf_size)){Ee=1;break}Ee=_e.gzindex<_e.gzhead.name.length?255&_e.gzhead.name.charCodeAt(_e.gzindex++):0,Ie(_e,Ee)}while(Ee!==0);_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),Ee===0&&(_e.gzindex=0,_e.status=91)}else _e.status=91;if(_e.status===91)if(_e.gzhead.comment){de=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),ue(re),de=_e.pending,_e.pending===_e.pending_buf_size)){Ee=1;break}Ee=_e.gzindex<_e.gzhead.comment.length?255&_e.gzhead.comment.charCodeAt(_e.gzindex++):0,Ie(_e,Ee)}while(Ee!==0);_e.gzhead.hcrc&&_e.pending>de&&(re.adler=g(re.adler,_e.pending_buf,_e.pending-de,de)),Ee===0&&(_e.status=103)}else _e.status=103;if(_e.status===103&&(_e.gzhead.hcrc?(_e.pending+2>_e.pending_buf_size&&ue(re),_e.pending+2<=_e.pending_buf_size&&(Ie(_e,255&re.adler),Ie(_e,re.adler>>8&255),re.adler=0,_e.status=ee)):_e.status=ee),_e.pending!==0){if(ue(re),re.avail_out===0)return _e.last_flush=-1,C}else if(re.avail_in===0&&fe(Ye)<=fe(Ue)&&Ye!==O)return ge(re,-5);if(_e.status===666&&re.avail_in!==0)return ge(re,-5);if(re.avail_in!==0||_e.lookahead!==0||Ye!==E&&_e.status!==666){var ke=_e.strategy===2?function(je,ct){for(var lt;;){if(je.lookahead===0&&(Le(je),je.lookahead===0)){if(ct===E)return z;break}if(je.match_length=0,lt=y._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++,lt&&(pe(je,!1),je.strm.avail_out===0))return z}return je.insert=0,ct===O?(pe(je,!0),je.strm.avail_out===0?ye:he):je.last_lit&&(pe(je,!1),je.strm.avail_out===0)?z:Z}(_e,Ye):_e.strategy===3?function(je,ct){for(var lt,ut,yt,dn,It=je.window;;){if(je.lookahead<=J){if(Le(je),je.lookahead<=J&&ct===E)return z;if(je.lookahead===0)break}if(je.match_length=0,je.lookahead>=G&&0<je.strstart&&(ut=It[yt=je.strstart-1])===It[++yt]&&ut===It[++yt]&&ut===It[++yt]){dn=je.strstart+J;do;while(ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&ut===It[++yt]&&yt<dn);je.match_length=J-(dn-yt),je.match_length>je.lookahead&&(je.match_length=je.lookahead)}if(je.match_length>=G?(lt=y._tr_tally(je,1,je.match_length-G),je.lookahead-=je.match_length,je.strstart+=je.match_length,je.match_length=0):(lt=y._tr_tally(je,0,je.window[je.strstart]),je.lookahead--,je.strstart++),lt&&(pe(je,!1),je.strm.avail_out===0))return z}return je.insert=0,ct===O?(pe(je,!0),je.strm.avail_out===0?ye:he):je.last_lit&&(pe(je,!1),je.strm.avail_out===0)?z:Z}(_e,Ye):c[_e.level].func(_e,Ye);if(ke!==ye&&ke!==he||(_e.status=666),ke===z||ke===ye)return re.avail_out===0&&(_e.last_flush=-1),C;if(ke===Z&&(Ye===1?y._tr_align(_e):Ye!==5&&(y._tr_stored_block(_e,0,0,!1),Ye===3&&(se(_e.head),_e.lookahead===0&&(_e.strstart=0,_e.block_start=0,_e.insert=0))),ue(re),re.avail_out===0))return _e.last_flush=-1,C}return Ye!==O?C:_e.wrap<=0?1:(_e.wrap===2?(Ie(_e,255&re.adler),Ie(_e,re.adler>>8&255),Ie(_e,re.adler>>16&255),Ie(_e,re.adler>>24&255),Ie(_e,255&re.total_in),Ie(_e,re.total_in>>8&255),Ie(_e,re.total_in>>16&255),Ie(_e,re.total_in>>24&255)):(Ae(_e,re.adler>>>16),Ae(_e,65535&re.adler)),ue(re),0<_e.wrap&&(_e.wrap=-_e.wrap),_e.pending!==0?C:1)},l.deflateEnd=function(re){var Ye;return re&&re.state?(Ye=re.state.status)!==H&&Ye!==69&&Ye!==73&&Ye!==91&&Ye!==103&&Ye!==ee&&Ye!==666?ge(re,R):(re.state=null,Ye===ee?ge(re,-3):C):R},l.deflateSetDictionary=function(re,Ye){var Ue,_e,de,Ee,Je,ke,je,ct,lt=Ye.length;if(!re||!re.state||(Ee=(Ue=re.state).wrap)===2||Ee===1&&Ue.status!==H||Ue.lookahead)return R;for(Ee===1&&(re.adler=p(re.adler,Ye,lt,0)),Ue.wrap=0,lt>=Ue.w_size&&(Ee===0&&(se(Ue.head),Ue.strstart=0,Ue.block_start=0,Ue.insert=0),ct=new d.Buf8(Ue.w_size),d.arraySet(ct,Ye,lt-Ue.w_size,Ue.w_size,0),Ye=ct,lt=Ue.w_size),Je=re.avail_in,ke=re.next_in,je=re.input,re.avail_in=lt,re.next_in=0,re.input=Ye,Le(Ue);Ue.lookahead>=G;){for(_e=Ue.strstart,de=Ue.lookahead-(G-1);Ue.ins_h=(Ue.ins_h<<Ue.hash_shift^Ue.window[_e+G-1])&Ue.hash_mask,Ue.prev[_e&Ue.w_mask]=Ue.head[Ue.ins_h],Ue.head[Ue.ins_h]=_e,_e++,--de;);Ue.strstart=_e,Ue.lookahead=G-1,Le(Ue)}return Ue.strstart+=Ue.lookahead,Ue.block_start=Ue.strstart,Ue.insert=Ue.lookahead,Ue.lookahead=0,Ue.match_length=Ue.prev_length=G-1,Ue.match_available=0,re.next_in=ke,re.input=je,re.avail_in=Je,Ue.wrap=Ee,C},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,a,l){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,a,l){a.exports=function(c,d){var y,p,g,b,E,O,C,R,N,k,F,P,B,W,q,Y,V,ne,G,J,Q,H,ee,z,Z;y=c.state,p=c.next_in,z=c.input,g=p+(c.avail_in-5),b=c.next_out,Z=c.output,E=b-(d-c.avail_out),O=b+(c.avail_out-257),C=y.dmax,R=y.wsize,N=y.whave,k=y.wnext,F=y.window,P=y.hold,B=y.bits,W=y.lencode,q=y.distcode,Y=(1<<y.lenbits)-1,V=(1<<y.distbits)-1;e:do{B<15&&(P+=z[p++]<<B,B+=8,P+=z[p++]<<B,B+=8),ne=W[P&Y];t:for(;;){if(P>>>=G=ne>>>24,B-=G,(G=ne>>>16&255)===0)Z[b++]=65535&ne;else{if(!(16&G)){if((64&G)==0){ne=W[(65535&ne)+(P&(1<<G)-1)];continue t}if(32&G){y.mode=12;break e}c.msg="invalid literal/length code",y.mode=30;break e}J=65535&ne,(G&=15)&&(B<G&&(P+=z[p++]<<B,B+=8),J+=P&(1<<G)-1,P>>>=G,B-=G),B<15&&(P+=z[p++]<<B,B+=8,P+=z[p++]<<B,B+=8),ne=q[P&V];n:for(;;){if(P>>>=G=ne>>>24,B-=G,!(16&(G=ne>>>16&255))){if((64&G)==0){ne=q[(65535&ne)+(P&(1<<G)-1)];continue n}c.msg="invalid distance code",y.mode=30;break e}if(Q=65535&ne,B<(G&=15)&&(P+=z[p++]<<B,(B+=8)<G&&(P+=z[p++]<<B,B+=8)),C<(Q+=P&(1<<G)-1)){c.msg="invalid distance too far back",y.mode=30;break e}if(P>>>=G,B-=G,(G=b-E)<Q){if(N<(G=Q-G)&&y.sane){c.msg="invalid distance too far back",y.mode=30;break e}if(ee=F,(H=0)===k){if(H+=R-G,G<J){for(J-=G;Z[b++]=F[H++],--G;);H=b-Q,ee=Z}}else if(k<G){if(H+=R+k-G,(G-=k)<J){for(J-=G;Z[b++]=F[H++],--G;);if(H=0,k<J){for(J-=G=k;Z[b++]=F[H++],--G;);H=b-Q,ee=Z}}}else if(H+=k-G,G<J){for(J-=G;Z[b++]=F[H++],--G;);H=b-Q,ee=Z}for(;2<J;)Z[b++]=ee[H++],Z[b++]=ee[H++],Z[b++]=ee[H++],J-=3;J&&(Z[b++]=ee[H++],1<J&&(Z[b++]=ee[H++]))}else{for(H=b-Q;Z[b++]=Z[H++],Z[b++]=Z[H++],Z[b++]=Z[H++],2<(J-=3););J&&(Z[b++]=Z[H++],1<J&&(Z[b++]=Z[H++]))}break}}break}}while(p<g&&b<O);p-=J=B>>3,P&=(1<<(B-=J<<3))-1,c.next_in=p,c.next_out=b,c.avail_in=p<g?g-p+5:5-(p-g),c.avail_out=b<O?O-b+257:257-(b-O),y.hold=P,y.bits=B}},{}],49:[function(n,a,l){var c=n("../utils/common"),d=n("./adler32"),y=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),b=1,E=2,O=0,C=-2,R=1,N=852,k=592;function F(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(H){var ee;return H&&H.state?(ee=H.state,H.total_in=H.total_out=ee.total=0,H.msg="",ee.wrap&&(H.adler=1&ee.wrap),ee.mode=R,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new c.Buf32(N),ee.distcode=ee.distdyn=new c.Buf32(k),ee.sane=1,ee.back=-1,O):C}function W(H){var ee;return H&&H.state?((ee=H.state).wsize=0,ee.whave=0,ee.wnext=0,B(H)):C}function q(H,ee){var z,Z;return H&&H.state?(Z=H.state,ee<0?(z=0,ee=-ee):(z=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?C:(Z.window!==null&&Z.wbits!==ee&&(Z.window=null),Z.wrap=z,Z.wbits=ee,W(H))):C}function Y(H,ee){var z,Z;return H?(Z=new P,(H.state=Z).window=null,(z=q(H,ee))!==O&&(H.state=null),z):C}var V,ne,G=!0;function J(H){if(G){var ee;for(V=new c.Buf32(512),ne=new c.Buf32(32),ee=0;ee<144;)H.lens[ee++]=8;for(;ee<256;)H.lens[ee++]=9;for(;ee<280;)H.lens[ee++]=7;for(;ee<288;)H.lens[ee++]=8;for(g(b,H.lens,0,288,V,0,H.work,{bits:9}),ee=0;ee<32;)H.lens[ee++]=5;g(E,H.lens,0,32,ne,0,H.work,{bits:5}),G=!1}H.lencode=V,H.lenbits=9,H.distcode=ne,H.distbits=5}function Q(H,ee,z,Z){var ye,he=H.state;return he.window===null&&(he.wsize=1<<he.wbits,he.wnext=0,he.whave=0,he.window=new c.Buf8(he.wsize)),Z>=he.wsize?(c.arraySet(he.window,ee,z-he.wsize,he.wsize,0),he.wnext=0,he.whave=he.wsize):(Z<(ye=he.wsize-he.wnext)&&(ye=Z),c.arraySet(he.window,ee,z-Z,ye,he.wnext),(Z-=ye)?(c.arraySet(he.window,ee,z-Z,Z,0),he.wnext=Z,he.whave=he.wsize):(he.wnext+=ye,he.wnext===he.wsize&&(he.wnext=0),he.whave<he.wsize&&(he.whave+=ye))),0}l.inflateReset=W,l.inflateReset2=q,l.inflateResetKeep=B,l.inflateInit=function(H){return Y(H,15)},l.inflateInit2=Y,l.inflate=function(H,ee){var z,Z,ye,he,ge,fe,se,ue,pe,Ie,Ae,Re,Le,gt,Ze,ft,wt,Mt,Yt,Tt,re,Ye,Ue,_e,de=0,Ee=new c.Buf8(4),Je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return C;(z=H.state).mode===12&&(z.mode=13),ge=H.next_out,ye=H.output,se=H.avail_out,he=H.next_in,Z=H.input,fe=H.avail_in,ue=z.hold,pe=z.bits,Ie=fe,Ae=se,Ye=O;e:for(;;)switch(z.mode){case R:if(z.wrap===0){z.mode=13;break}for(;pe<16;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(2&z.wrap&&ue===35615){Ee[z.check=0]=255&ue,Ee[1]=ue>>>8&255,z.check=y(z.check,Ee,2,0),pe=ue=0,z.mode=2;break}if(z.flags=0,z.head&&(z.head.done=!1),!(1&z.wrap)||(((255&ue)<<8)+(ue>>8))%31){H.msg="incorrect header check",z.mode=30;break}if((15&ue)!=8){H.msg="unknown compression method",z.mode=30;break}if(pe-=4,re=8+(15&(ue>>>=4)),z.wbits===0)z.wbits=re;else if(re>z.wbits){H.msg="invalid window size",z.mode=30;break}z.dmax=1<<re,H.adler=z.check=1,z.mode=512&ue?10:12,pe=ue=0;break;case 2:for(;pe<16;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(z.flags=ue,(255&z.flags)!=8){H.msg="unknown compression method",z.mode=30;break}if(57344&z.flags){H.msg="unknown header flags set",z.mode=30;break}z.head&&(z.head.text=ue>>8&1),512&z.flags&&(Ee[0]=255&ue,Ee[1]=ue>>>8&255,z.check=y(z.check,Ee,2,0)),pe=ue=0,z.mode=3;case 3:for(;pe<32;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.head&&(z.head.time=ue),512&z.flags&&(Ee[0]=255&ue,Ee[1]=ue>>>8&255,Ee[2]=ue>>>16&255,Ee[3]=ue>>>24&255,z.check=y(z.check,Ee,4,0)),pe=ue=0,z.mode=4;case 4:for(;pe<16;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.head&&(z.head.xflags=255&ue,z.head.os=ue>>8),512&z.flags&&(Ee[0]=255&ue,Ee[1]=ue>>>8&255,z.check=y(z.check,Ee,2,0)),pe=ue=0,z.mode=5;case 5:if(1024&z.flags){for(;pe<16;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.length=ue,z.head&&(z.head.extra_len=ue),512&z.flags&&(Ee[0]=255&ue,Ee[1]=ue>>>8&255,z.check=y(z.check,Ee,2,0)),pe=ue=0}else z.head&&(z.head.extra=null);z.mode=6;case 6:if(1024&z.flags&&(fe<(Re=z.length)&&(Re=fe),Re&&(z.head&&(re=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),c.arraySet(z.head.extra,Z,he,Re,re)),512&z.flags&&(z.check=y(z.check,Z,Re,he)),fe-=Re,he+=Re,z.length-=Re),z.length))break e;z.length=0,z.mode=7;case 7:if(2048&z.flags){if(fe===0)break e;for(Re=0;re=Z[he+Re++],z.head&&re&&z.length<65536&&(z.head.name+=String.fromCharCode(re)),re&&Re<fe;);if(512&z.flags&&(z.check=y(z.check,Z,Re,he)),fe-=Re,he+=Re,re)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=8;case 8:if(4096&z.flags){if(fe===0)break e;for(Re=0;re=Z[he+Re++],z.head&&re&&z.length<65536&&(z.head.comment+=String.fromCharCode(re)),re&&Re<fe;);if(512&z.flags&&(z.check=y(z.check,Z,Re,he)),fe-=Re,he+=Re,re)break e}else z.head&&(z.head.comment=null);z.mode=9;case 9:if(512&z.flags){for(;pe<16;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(ue!==(65535&z.check)){H.msg="header crc mismatch",z.mode=30;break}pe=ue=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),H.adler=z.check=0,z.mode=12;break;case 10:for(;pe<32;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}H.adler=z.check=F(ue),pe=ue=0,z.mode=11;case 11:if(z.havedict===0)return H.next_out=ge,H.avail_out=se,H.next_in=he,H.avail_in=fe,z.hold=ue,z.bits=pe,2;H.adler=z.check=1,z.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(z.last){ue>>>=7&pe,pe-=7&pe,z.mode=27;break}for(;pe<3;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}switch(z.last=1&ue,pe-=1,3&(ue>>>=1)){case 0:z.mode=14;break;case 1:if(J(z),z.mode=20,ee!==6)break;ue>>>=2,pe-=2;break e;case 2:z.mode=17;break;case 3:H.msg="invalid block type",z.mode=30}ue>>>=2,pe-=2;break;case 14:for(ue>>>=7&pe,pe-=7&pe;pe<32;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if((65535&ue)!=(ue>>>16^65535)){H.msg="invalid stored block lengths",z.mode=30;break}if(z.length=65535&ue,pe=ue=0,z.mode=15,ee===6)break e;case 15:z.mode=16;case 16:if(Re=z.length){if(fe<Re&&(Re=fe),se<Re&&(Re=se),Re===0)break e;c.arraySet(ye,Z,he,Re,ge),fe-=Re,he+=Re,se-=Re,ge+=Re,z.length-=Re;break}z.mode=12;break;case 17:for(;pe<14;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(z.nlen=257+(31&ue),ue>>>=5,pe-=5,z.ndist=1+(31&ue),ue>>>=5,pe-=5,z.ncode=4+(15&ue),ue>>>=4,pe-=4,286<z.nlen||30<z.ndist){H.msg="too many length or distance symbols",z.mode=30;break}z.have=0,z.mode=18;case 18:for(;z.have<z.ncode;){for(;pe<3;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.lens[Je[z.have++]]=7&ue,ue>>>=3,pe-=3}for(;z.have<19;)z.lens[Je[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,Ue={bits:z.lenbits},Ye=g(0,z.lens,0,19,z.lencode,0,z.work,Ue),z.lenbits=Ue.bits,Ye){H.msg="invalid code lengths set",z.mode=30;break}z.have=0,z.mode=19;case 19:for(;z.have<z.nlen+z.ndist;){for(;ft=(de=z.lencode[ue&(1<<z.lenbits)-1])>>>16&255,wt=65535&de,!((Ze=de>>>24)<=pe);){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(wt<16)ue>>>=Ze,pe-=Ze,z.lens[z.have++]=wt;else{if(wt===16){for(_e=Ze+2;pe<_e;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(ue>>>=Ze,pe-=Ze,z.have===0){H.msg="invalid bit length repeat",z.mode=30;break}re=z.lens[z.have-1],Re=3+(3&ue),ue>>>=2,pe-=2}else if(wt===17){for(_e=Ze+3;pe<_e;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}pe-=Ze,re=0,Re=3+(7&(ue>>>=Ze)),ue>>>=3,pe-=3}else{for(_e=Ze+7;pe<_e;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}pe-=Ze,re=0,Re=11+(127&(ue>>>=Ze)),ue>>>=7,pe-=7}if(z.have+Re>z.nlen+z.ndist){H.msg="invalid bit length repeat",z.mode=30;break}for(;Re--;)z.lens[z.have++]=re}}if(z.mode===30)break;if(z.lens[256]===0){H.msg="invalid code -- missing end-of-block",z.mode=30;break}if(z.lenbits=9,Ue={bits:z.lenbits},Ye=g(b,z.lens,0,z.nlen,z.lencode,0,z.work,Ue),z.lenbits=Ue.bits,Ye){H.msg="invalid literal/lengths set",z.mode=30;break}if(z.distbits=6,z.distcode=z.distdyn,Ue={bits:z.distbits},Ye=g(E,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Ue),z.distbits=Ue.bits,Ye){H.msg="invalid distances set",z.mode=30;break}if(z.mode=20,ee===6)break e;case 20:z.mode=21;case 21:if(6<=fe&&258<=se){H.next_out=ge,H.avail_out=se,H.next_in=he,H.avail_in=fe,z.hold=ue,z.bits=pe,p(H,Ae),ge=H.next_out,ye=H.output,se=H.avail_out,he=H.next_in,Z=H.input,fe=H.avail_in,ue=z.hold,pe=z.bits,z.mode===12&&(z.back=-1);break}for(z.back=0;ft=(de=z.lencode[ue&(1<<z.lenbits)-1])>>>16&255,wt=65535&de,!((Ze=de>>>24)<=pe);){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(ft&&(240&ft)==0){for(Mt=Ze,Yt=ft,Tt=wt;ft=(de=z.lencode[Tt+((ue&(1<<Mt+Yt)-1)>>Mt)])>>>16&255,wt=65535&de,!(Mt+(Ze=de>>>24)<=pe);){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}ue>>>=Mt,pe-=Mt,z.back+=Mt}if(ue>>>=Ze,pe-=Ze,z.back+=Ze,z.length=wt,ft===0){z.mode=26;break}if(32&ft){z.back=-1,z.mode=12;break}if(64&ft){H.msg="invalid literal/length code",z.mode=30;break}z.extra=15&ft,z.mode=22;case 22:if(z.extra){for(_e=z.extra;pe<_e;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.length+=ue&(1<<z.extra)-1,ue>>>=z.extra,pe-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=23;case 23:for(;ft=(de=z.distcode[ue&(1<<z.distbits)-1])>>>16&255,wt=65535&de,!((Ze=de>>>24)<=pe);){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if((240&ft)==0){for(Mt=Ze,Yt=ft,Tt=wt;ft=(de=z.distcode[Tt+((ue&(1<<Mt+Yt)-1)>>Mt)])>>>16&255,wt=65535&de,!(Mt+(Ze=de>>>24)<=pe);){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}ue>>>=Mt,pe-=Mt,z.back+=Mt}if(ue>>>=Ze,pe-=Ze,z.back+=Ze,64&ft){H.msg="invalid distance code",z.mode=30;break}z.offset=wt,z.extra=15&ft,z.mode=24;case 24:if(z.extra){for(_e=z.extra;pe<_e;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}z.offset+=ue&(1<<z.extra)-1,ue>>>=z.extra,pe-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){H.msg="invalid distance too far back",z.mode=30;break}z.mode=25;case 25:if(se===0)break e;if(Re=Ae-se,z.offset>Re){if((Re=z.offset-Re)>z.whave&&z.sane){H.msg="invalid distance too far back",z.mode=30;break}Le=Re>z.wnext?(Re-=z.wnext,z.wsize-Re):z.wnext-Re,Re>z.length&&(Re=z.length),gt=z.window}else gt=ye,Le=ge-z.offset,Re=z.length;for(se<Re&&(Re=se),se-=Re,z.length-=Re;ye[ge++]=gt[Le++],--Re;);z.length===0&&(z.mode=21);break;case 26:if(se===0)break e;ye[ge++]=z.length,se--,z.mode=21;break;case 27:if(z.wrap){for(;pe<32;){if(fe===0)break e;fe--,ue|=Z[he++]<<pe,pe+=8}if(Ae-=se,H.total_out+=Ae,z.total+=Ae,Ae&&(H.adler=z.check=z.flags?y(z.check,ye,Ae,ge-Ae):d(z.check,ye,Ae,ge-Ae)),Ae=se,(z.flags?ue:F(ue))!==z.check){H.msg="incorrect data check",z.mode=30;break}pe=ue=0}z.mode=28;case 28:if(z.wrap&&z.flags){for(;pe<32;){if(fe===0)break e;fe--,ue+=Z[he++]<<pe,pe+=8}if(ue!==(4294967295&z.total)){H.msg="incorrect length check",z.mode=30;break}pe=ue=0}z.mode=29;case 29:Ye=1;break e;case 30:Ye=-3;break e;case 31:return-4;case 32:default:return C}return H.next_out=ge,H.avail_out=se,H.next_in=he,H.avail_in=fe,z.hold=ue,z.bits=pe,(z.wsize||Ae!==H.avail_out&&z.mode<30&&(z.mode<27||ee!==4))&&Q(H,H.output,H.next_out,Ae-H.avail_out)?(z.mode=31,-4):(Ie-=H.avail_in,Ae-=H.avail_out,H.total_in+=Ie,H.total_out+=Ae,z.total+=Ae,z.wrap&&Ae&&(H.adler=z.check=z.flags?y(z.check,ye,Ae,H.next_out-Ae):d(z.check,ye,Ae,H.next_out-Ae)),H.data_type=z.bits+(z.last?64:0)+(z.mode===12?128:0)+(z.mode===20||z.mode===15?256:0),(Ie==0&&Ae===0||ee===4)&&Ye===O&&(Ye=-5),Ye)},l.inflateEnd=function(H){if(!H||!H.state)return C;var ee=H.state;return ee.window&&(ee.window=null),H.state=null,O},l.inflateGetHeader=function(H,ee){var z;return H&&H.state?(2&(z=H.state).wrap)==0?C:((z.head=ee).done=!1,O):C},l.inflateSetDictionary=function(H,ee){var z,Z=ee.length;return H&&H.state?(z=H.state).wrap!==0&&z.mode!==11?C:z.mode===11&&d(1,ee,Z,0)!==z.check?-3:Q(H,ee,Z,Z)?(z.mode=31,-4):(z.havedict=1,O):C},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,a,l){var c=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(b,E,O,C,R,N,k,F){var P,B,W,q,Y,V,ne,G,J,Q=F.bits,H=0,ee=0,z=0,Z=0,ye=0,he=0,ge=0,fe=0,se=0,ue=0,pe=null,Ie=0,Ae=new c.Buf16(16),Re=new c.Buf16(16),Le=null,gt=0;for(H=0;H<=15;H++)Ae[H]=0;for(ee=0;ee<C;ee++)Ae[E[O+ee]]++;for(ye=Q,Z=15;1<=Z&&Ae[Z]===0;Z--);if(Z<ye&&(ye=Z),Z===0)return R[N++]=20971520,R[N++]=20971520,F.bits=1,0;for(z=1;z<Z&&Ae[z]===0;z++);for(ye<z&&(ye=z),H=fe=1;H<=15;H++)if(fe<<=1,(fe-=Ae[H])<0)return-1;if(0<fe&&(b===0||Z!==1))return-1;for(Re[1]=0,H=1;H<15;H++)Re[H+1]=Re[H]+Ae[H];for(ee=0;ee<C;ee++)E[O+ee]!==0&&(k[Re[E[O+ee]]++]=ee);if(V=b===0?(pe=Le=k,19):b===1?(pe=d,Ie-=257,Le=y,gt-=257,256):(pe=p,Le=g,-1),H=z,Y=N,ge=ee=ue=0,W=-1,q=(se=1<<(he=ye))-1,b===1&&852<se||b===2&&592<se)return 1;for(;;){for(ne=H-ge,J=k[ee]<V?(G=0,k[ee]):k[ee]>V?(G=Le[gt+k[ee]],pe[Ie+k[ee]]):(G=96,0),P=1<<H-ge,z=B=1<<he;R[Y+(ue>>ge)+(B-=P)]=ne<<24|G<<16|J|0,B!==0;);for(P=1<<H-1;ue&P;)P>>=1;if(P!==0?(ue&=P-1,ue+=P):ue=0,ee++,--Ae[H]==0){if(H===Z)break;H=E[O+k[ee]]}if(ye<H&&(ue&q)!==W){for(ge===0&&(ge=ye),Y+=z,fe=1<<(he=H-ge);he+ge<Z&&!((fe-=Ae[he+ge])<=0);)he++,fe<<=1;if(se+=1<<he,b===1&&852<se||b===2&&592<se)return 1;R[W=ue&q]=ye<<24|he<<16|Y-N|0}}return ue!==0&&(R[Y+ue]=H-ge<<24|64<<16|0),F.bits=ye,0}},{"../utils/common":41}],51:[function(n,a,l){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,a,l){var c=n("../utils/common"),d=0,y=1;function p(de){for(var Ee=de.length;0<=--Ee;)de[Ee]=0}var g=0,b=29,E=256,O=E+1+b,C=30,R=19,N=2*O+1,k=15,F=16,P=7,B=256,W=16,q=17,Y=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(O+2));p(Q);var H=new Array(2*C);p(H);var ee=new Array(512);p(ee);var z=new Array(256);p(z);var Z=new Array(b);p(Z);var ye,he,ge,fe=new Array(C);function se(de,Ee,Je,ke,je){this.static_tree=de,this.extra_bits=Ee,this.extra_base=Je,this.elems=ke,this.max_length=je,this.has_stree=de&&de.length}function ue(de,Ee){this.dyn_tree=de,this.max_code=0,this.stat_desc=Ee}function pe(de){return de<256?ee[de]:ee[256+(de>>>7)]}function Ie(de,Ee){de.pending_buf[de.pending++]=255&Ee,de.pending_buf[de.pending++]=Ee>>>8&255}function Ae(de,Ee,Je){de.bi_valid>F-Je?(de.bi_buf|=Ee<<de.bi_valid&65535,Ie(de,de.bi_buf),de.bi_buf=Ee>>F-de.bi_valid,de.bi_valid+=Je-F):(de.bi_buf|=Ee<<de.bi_valid&65535,de.bi_valid+=Je)}function Re(de,Ee,Je){Ae(de,Je[2*Ee],Je[2*Ee+1])}function Le(de,Ee){for(var Je=0;Je|=1&de,de>>>=1,Je<<=1,0<--Ee;);return Je>>>1}function gt(de,Ee,Je){var ke,je,ct=new Array(k+1),lt=0;for(ke=1;ke<=k;ke++)ct[ke]=lt=lt+Je[ke-1]<<1;for(je=0;je<=Ee;je++){var ut=de[2*je+1];ut!==0&&(de[2*je]=Le(ct[ut]++,ut))}}function Ze(de){var Ee;for(Ee=0;Ee<O;Ee++)de.dyn_ltree[2*Ee]=0;for(Ee=0;Ee<C;Ee++)de.dyn_dtree[2*Ee]=0;for(Ee=0;Ee<R;Ee++)de.bl_tree[2*Ee]=0;de.dyn_ltree[2*B]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function ft(de){8<de.bi_valid?Ie(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function wt(de,Ee,Je,ke){var je=2*Ee,ct=2*Je;return de[je]<de[ct]||de[je]===de[ct]&&ke[Ee]<=ke[Je]}function Mt(de,Ee,Je){for(var ke=de.heap[Je],je=Je<<1;je<=de.heap_len&&(je<de.heap_len&&wt(Ee,de.heap[je+1],de.heap[je],de.depth)&&je++,!wt(Ee,ke,de.heap[je],de.depth));)de.heap[Je]=de.heap[je],Je=je,je<<=1;de.heap[Je]=ke}function Yt(de,Ee,Je){var ke,je,ct,lt,ut=0;if(de.last_lit!==0)for(;ke=de.pending_buf[de.d_buf+2*ut]<<8|de.pending_buf[de.d_buf+2*ut+1],je=de.pending_buf[de.l_buf+ut],ut++,ke===0?Re(de,je,Ee):(Re(de,(ct=z[je])+E+1,Ee),(lt=V[ct])!==0&&Ae(de,je-=Z[ct],lt),Re(de,ct=pe(--ke),Je),(lt=ne[ct])!==0&&Ae(de,ke-=fe[ct],lt)),ut<de.last_lit;);Re(de,B,Ee)}function Tt(de,Ee){var Je,ke,je,ct=Ee.dyn_tree,lt=Ee.stat_desc.static_tree,ut=Ee.stat_desc.has_stree,yt=Ee.stat_desc.elems,dn=-1;for(de.heap_len=0,de.heap_max=N,Je=0;Je<yt;Je++)ct[2*Je]!==0?(de.heap[++de.heap_len]=dn=Je,de.depth[Je]=0):ct[2*Je+1]=0;for(;de.heap_len<2;)ct[2*(je=de.heap[++de.heap_len]=dn<2?++dn:0)]=1,de.depth[je]=0,de.opt_len--,ut&&(de.static_len-=lt[2*je+1]);for(Ee.max_code=dn,Je=de.heap_len>>1;1<=Je;Je--)Mt(de,ct,Je);for(je=yt;Je=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Mt(de,ct,1),ke=de.heap[1],de.heap[--de.heap_max]=Je,de.heap[--de.heap_max]=ke,ct[2*je]=ct[2*Je]+ct[2*ke],de.depth[je]=(de.depth[Je]>=de.depth[ke]?de.depth[Je]:de.depth[ke])+1,ct[2*Je+1]=ct[2*ke+1]=je,de.heap[1]=je++,Mt(de,ct,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(It,nn){var fi,nr,Yi,Nt,rt,Ln,Ft=nn.dyn_tree,Gt=nn.max_code,ki=nn.stat_desc.static_tree,Pi=nn.stat_desc.has_stree,ma=nn.stat_desc.extra_bits,Zt=nn.stat_desc.extra_base,rr=nn.stat_desc.max_length,Fr=0;for(Nt=0;Nt<=k;Nt++)It.bl_count[Nt]=0;for(Ft[2*It.heap[It.heap_max]+1]=0,fi=It.heap_max+1;fi<N;fi++)rr<(Nt=Ft[2*Ft[2*(nr=It.heap[fi])+1]+1]+1)&&(Nt=rr,Fr++),Ft[2*nr+1]=Nt,Gt<nr||(It.bl_count[Nt]++,rt=0,Zt<=nr&&(rt=ma[nr-Zt]),Ln=Ft[2*nr],It.opt_len+=Ln*(Nt+rt),Pi&&(It.static_len+=Ln*(ki[2*nr+1]+rt)));if(Fr!==0){do{for(Nt=rr-1;It.bl_count[Nt]===0;)Nt--;It.bl_count[Nt]--,It.bl_count[Nt+1]+=2,It.bl_count[rr]--,Fr-=2}while(0<Fr);for(Nt=rr;Nt!==0;Nt--)for(nr=It.bl_count[Nt];nr!==0;)Gt<(Yi=It.heap[--fi])||(Ft[2*Yi+1]!==Nt&&(It.opt_len+=(Nt-Ft[2*Yi+1])*Ft[2*Yi],Ft[2*Yi+1]=Nt),nr--)}}(de,Ee),gt(ct,dn,de.bl_count)}function re(de,Ee,Je){var ke,je,ct=-1,lt=Ee[1],ut=0,yt=7,dn=4;for(lt===0&&(yt=138,dn=3),Ee[2*(Je+1)+1]=65535,ke=0;ke<=Je;ke++)je=lt,lt=Ee[2*(ke+1)+1],++ut<yt&&je===lt||(ut<dn?de.bl_tree[2*je]+=ut:je!==0?(je!==ct&&de.bl_tree[2*je]++,de.bl_tree[2*W]++):ut<=10?de.bl_tree[2*q]++:de.bl_tree[2*Y]++,ct=je,dn=(ut=0)===lt?(yt=138,3):je===lt?(yt=6,3):(yt=7,4))}function Ye(de,Ee,Je){var ke,je,ct=-1,lt=Ee[1],ut=0,yt=7,dn=4;for(lt===0&&(yt=138,dn=3),ke=0;ke<=Je;ke++)if(je=lt,lt=Ee[2*(ke+1)+1],!(++ut<yt&&je===lt)){if(ut<dn)for(;Re(de,je,de.bl_tree),--ut!=0;);else je!==0?(je!==ct&&(Re(de,je,de.bl_tree),ut--),Re(de,W,de.bl_tree),Ae(de,ut-3,2)):ut<=10?(Re(de,q,de.bl_tree),Ae(de,ut-3,3)):(Re(de,Y,de.bl_tree),Ae(de,ut-11,7));ct=je,dn=(ut=0)===lt?(yt=138,3):je===lt?(yt=6,3):(yt=7,4)}}p(fe);var Ue=!1;function _e(de,Ee,Je,ke){Ae(de,(g<<1)+(ke?1:0),3),function(je,ct,lt,ut){ft(je),Ie(je,lt),Ie(je,~lt),c.arraySet(je.pending_buf,je.window,ct,lt,je.pending),je.pending+=lt}(de,Ee,Je)}l._tr_init=function(de){Ue||(function(){var Ee,Je,ke,je,ct,lt=new Array(k+1);for(je=ke=0;je<b-1;je++)for(Z[je]=ke,Ee=0;Ee<1<<V[je];Ee++)z[ke++]=je;for(z[ke-1]=je,je=ct=0;je<16;je++)for(fe[je]=ct,Ee=0;Ee<1<<ne[je];Ee++)ee[ct++]=je;for(ct>>=7;je<C;je++)for(fe[je]=ct<<7,Ee=0;Ee<1<<ne[je]-7;Ee++)ee[256+ct++]=je;for(Je=0;Je<=k;Je++)lt[Je]=0;for(Ee=0;Ee<=143;)Q[2*Ee+1]=8,Ee++,lt[8]++;for(;Ee<=255;)Q[2*Ee+1]=9,Ee++,lt[9]++;for(;Ee<=279;)Q[2*Ee+1]=7,Ee++,lt[7]++;for(;Ee<=287;)Q[2*Ee+1]=8,Ee++,lt[8]++;for(gt(Q,O+1,lt),Ee=0;Ee<C;Ee++)H[2*Ee+1]=5,H[2*Ee]=Le(Ee,5);ye=new se(Q,V,E+1,O,k),he=new se(H,ne,0,C,k),ge=new se(new Array(0),G,0,R,P)}(),Ue=!0),de.l_desc=new ue(de.dyn_ltree,ye),de.d_desc=new ue(de.dyn_dtree,he),de.bl_desc=new ue(de.bl_tree,ge),de.bi_buf=0,de.bi_valid=0,Ze(de)},l._tr_stored_block=_e,l._tr_flush_block=function(de,Ee,Je,ke){var je,ct,lt=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(ut){var yt,dn=4093624447;for(yt=0;yt<=31;yt++,dn>>>=1)if(1&dn&&ut.dyn_ltree[2*yt]!==0)return d;if(ut.dyn_ltree[18]!==0||ut.dyn_ltree[20]!==0||ut.dyn_ltree[26]!==0)return y;for(yt=32;yt<E;yt++)if(ut.dyn_ltree[2*yt]!==0)return y;return d}(de)),Tt(de,de.l_desc),Tt(de,de.d_desc),lt=function(ut){var yt;for(re(ut,ut.dyn_ltree,ut.l_desc.max_code),re(ut,ut.dyn_dtree,ut.d_desc.max_code),Tt(ut,ut.bl_desc),yt=R-1;3<=yt&&ut.bl_tree[2*J[yt]+1]===0;yt--);return ut.opt_len+=3*(yt+1)+5+5+4,yt}(de),je=de.opt_len+3+7>>>3,(ct=de.static_len+3+7>>>3)<=je&&(je=ct)):je=ct=Je+5,Je+4<=je&&Ee!==-1?_e(de,Ee,Je,ke):de.strategy===4||ct===je?(Ae(de,2+(ke?1:0),3),Yt(de,Q,H)):(Ae(de,4+(ke?1:0),3),function(ut,yt,dn,It){var nn;for(Ae(ut,yt-257,5),Ae(ut,dn-1,5),Ae(ut,It-4,4),nn=0;nn<It;nn++)Ae(ut,ut.bl_tree[2*J[nn]+1],3);Ye(ut,ut.dyn_ltree,yt-1),Ye(ut,ut.dyn_dtree,dn-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,lt+1),Yt(de,de.dyn_ltree,de.dyn_dtree)),Ze(de),ke&&ft(de)},l._tr_tally=function(de,Ee,Je){return de.pending_buf[de.d_buf+2*de.last_lit]=Ee>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&Ee,de.pending_buf[de.l_buf+de.last_lit]=255&Je,de.last_lit++,Ee===0?de.dyn_ltree[2*Je]++:(de.matches++,Ee--,de.dyn_ltree[2*(z[Je]+E+1)]++,de.dyn_dtree[2*pe(Ee)]++),de.last_lit===de.lit_bufsize-1},l._tr_align=function(de){Ae(de,2,3),Re(de,B,Q),function(Ee){Ee.bi_valid===16?(Ie(Ee,Ee.bi_buf),Ee.bi_buf=0,Ee.bi_valid=0):8<=Ee.bi_valid&&(Ee.pending_buf[Ee.pending++]=255&Ee.bi_buf,Ee.bi_buf>>=8,Ee.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(n,a,l){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,a,l){(function(c){(function(d,y){if(!d.setImmediate){var p,g,b,E,O=1,C={},R=!1,N=d.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(d);k=k&&k.setTimeout?k:d,p={}.toString.call(d.process)==="[object process]"?function(W){process.nextTick(function(){P(W)})}:function(){if(d.postMessage&&!d.importScripts){var W=!0,q=d.onmessage;return d.onmessage=function(){W=!1},d.postMessage("","*"),d.onmessage=q,W}}()?(E="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",B,!1):d.attachEvent("onmessage",B),function(W){d.postMessage(E+W,"*")}):d.MessageChannel?((b=new MessageChannel).port1.onmessage=function(W){P(W.data)},function(W){b.port2.postMessage(W)}):N&&"onreadystatechange"in N.createElement("script")?(g=N.documentElement,function(W){var q=N.createElement("script");q.onreadystatechange=function(){P(W),q.onreadystatechange=null,g.removeChild(q),q=null},g.appendChild(q)}):function(W){setTimeout(P,0,W)},k.setImmediate=function(W){typeof W!="function"&&(W=new Function(""+W));for(var q=new Array(arguments.length-1),Y=0;Y<q.length;Y++)q[Y]=arguments[Y+1];var V={callback:W,args:q};return C[O]=V,p(O),O++},k.clearImmediate=F}function F(W){delete C[W]}function P(W){if(R)setTimeout(P,0,W);else{var q=C[W];if(q){R=!0;try{(function(Y){var V=Y.callback,ne=Y.args;switch(ne.length){case 0:V();break;case 1:V(ne[0]);break;case 2:V(ne[0],ne[1]);break;case 3:V(ne[0],ne[1],ne[2]);break;default:V.apply(y,ne)}})(q)}finally{F(W),R=!1}}}}function B(W){W.source===d&&typeof W.data=="string"&&W.data.indexOf(E)===0&&P(+W.data.slice(E.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Mi<"u"?Mi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(vm)),vm.exports}IM();var NM=Object.defineProperty,nd=Object.getOwnPropertySymbols,qE=Object.prototype.hasOwnProperty,WE=Object.prototype.propertyIsEnumerable,ow=(e,t,n)=>t in e?NM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tp=(e,t)=>{for(var n in t||(t={}))qE.call(t,n)&&ow(e,n,t[n]);if(nd)for(var n of nd(t))WE.call(t,n)&&ow(e,n,t[n]);return e},np=(e,t)=>{var n={};for(var a in e)qE.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&nd)for(var a of nd(e))t.indexOf(a)<0&&WE.call(e,a)&&(n[a]=e[a]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ml;(e=>{const t=class bn{constructor(p,g,b,E){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<bn.MIN_VERSION||p>bn.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let O=[];for(let R=0;R<this.size;R++)O.push(!1);for(let R=0;R<this.size;R++)this.modules.push(O.slice()),this.isFunction.push(O.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(b);if(this.drawCodewords(C),E==-1){let R=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const k=this.getPenaltyScore();k<R&&(E=N,R=k),this.applyMask(N)}}l(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,g){const b=e.QrSegment.makeSegments(p);return bn.encodeSegments(b,g)}static encodeBinary(p,g){const b=e.QrSegment.makeBytes(p);return bn.encodeSegments([b],g)}static encodeSegments(p,g,b=1,E=40,O=-1,C=!0){if(!(bn.MIN_VERSION<=b&&b<=E&&E<=bn.MAX_VERSION)||O<-1||O>7)throw new RangeError("Invalid value");let R,N;for(R=b;;R++){const B=bn.getNumDataCodewords(R,g)*8,W=d.getTotalBits(p,R);if(W<=B){N=W;break}if(R>=E)throw new RangeError("Data too long")}for(const B of[bn.Ecc.MEDIUM,bn.Ecc.QUARTILE,bn.Ecc.HIGH])C&&N<=bn.getNumDataCodewords(R,B)*8&&(g=B);let k=[];for(const B of p){n(B.mode.modeBits,4,k),n(B.numChars,B.mode.numCharCountBits(R),k);for(const W of B.getData())k.push(W)}l(k.length==N);const F=bn.getNumDataCodewords(R,g)*8;l(k.length<=F),n(0,Math.min(4,F-k.length),k),n(0,(8-k.length%8)%8,k),l(k.length%8==0);for(let B=236;k.length<F;B^=253)n(B,8,k);let P=[];for(;P.length*8<k.length;)P.push(0);return k.forEach((B,W)=>P[W>>>3]|=B<<7-(W&7)),new bn(R,g,P,O)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let b=0;b<g;b++)for(let E=0;E<g;E++)b==0&&E==0||b==0&&E==g-1||b==g-1&&E==0||this.drawAlignmentPattern(p[b],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let b=g;for(let O=0;O<10;O++)b=b<<1^(b>>>9)*1335;const E=(g<<10|b)^21522;l(E>>>15==0);for(let O=0;O<=5;O++)this.setFunctionModule(8,O,a(E,O));this.setFunctionModule(8,7,a(E,6)),this.setFunctionModule(8,8,a(E,7)),this.setFunctionModule(7,8,a(E,8));for(let O=9;O<15;O++)this.setFunctionModule(14-O,8,a(E,O));for(let O=0;O<8;O++)this.setFunctionModule(this.size-1-O,8,a(E,O));for(let O=8;O<15;O++)this.setFunctionModule(8,this.size-15+O,a(E,O));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let b=0;b<12;b++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;l(g>>>18==0);for(let b=0;b<18;b++){const E=a(g,b),O=this.size-11+b%3,C=Math.floor(b/3);this.setFunctionModule(O,C,E),this.setFunctionModule(C,O,E)}}drawFinderPattern(p,g){for(let b=-4;b<=4;b++)for(let E=-4;E<=4;E++){const O=Math.max(Math.abs(E),Math.abs(b)),C=p+E,R=g+b;0<=C&&C<this.size&&0<=R&&R<this.size&&this.setFunctionModule(C,R,O!=2&&O!=4)}}drawAlignmentPattern(p,g){for(let b=-2;b<=2;b++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,g+b,Math.max(Math.abs(E),Math.abs(b))!=1)}setFunctionModule(p,g,b){this.modules[g][p]=b,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,b=this.errorCorrectionLevel;if(p.length!=bn.getNumDataCodewords(g,b))throw new RangeError("Invalid argument");const E=bn.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][g],O=bn.ECC_CODEWORDS_PER_BLOCK[b.ordinal][g],C=Math.floor(bn.getNumRawDataModules(g)/8),R=E-C%E,N=Math.floor(C/E);let k=[];const F=bn.reedSolomonComputeDivisor(O);for(let B=0,W=0;B<E;B++){let q=p.slice(W,W+N-O+(B<R?0:1));W+=q.length;const Y=bn.reedSolomonComputeRemainder(q,F);B<R&&q.push(0),k.push(q.concat(Y))}let P=[];for(let B=0;B<k[0].length;B++)k.forEach((W,q)=>{(B!=N-O||q>=R)&&P.push(W[B])});return l(P.length==C),P}drawCodewords(p){if(p.length!=Math.floor(bn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let E=0;E<this.size;E++)for(let O=0;O<2;O++){const C=b-O,N=(b+1&2)==0?this.size-1-E:E;!this.isFunction[N][C]&&g<p.length*8&&(this.modules[N][C]=a(p[g>>>3],7-(g&7)),g++)}}l(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let b=0;b<this.size;b++){let E;switch(p){case 0:E=(b+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=b%3==0;break;case 3:E=(b+g)%3==0;break;case 4:E=(Math.floor(b/3)+Math.floor(g/2))%2==0;break;case 5:E=b*g%2+b*g%3==0;break;case 6:E=(b*g%2+b*g%3)%2==0;break;case 7:E=((b+g)%2+b*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][b]&&E&&(this.modules[g][b]=!this.modules[g][b])}}getPenaltyScore(){let p=0;for(let O=0;O<this.size;O++){let C=!1,R=0,N=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[O][k]==C?(R++,R==5?p+=bn.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,N),C||(p+=this.finderPenaltyCountPatterns(N)*bn.PENALTY_N3),C=this.modules[O][k],R=1);p+=this.finderPenaltyTerminateAndCount(C,R,N)*bn.PENALTY_N3}for(let O=0;O<this.size;O++){let C=!1,R=0,N=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][O]==C?(R++,R==5?p+=bn.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,N),C||(p+=this.finderPenaltyCountPatterns(N)*bn.PENALTY_N3),C=this.modules[k][O],R=1);p+=this.finderPenaltyTerminateAndCount(C,R,N)*bn.PENALTY_N3}for(let O=0;O<this.size-1;O++)for(let C=0;C<this.size-1;C++){const R=this.modules[O][C];R==this.modules[O][C+1]&&R==this.modules[O+1][C]&&R==this.modules[O+1][C+1]&&(p+=bn.PENALTY_N2)}let g=0;for(const O of this.modules)g=O.reduce((C,R)=>C+(R?1:0),g);const b=this.size*this.size,E=Math.ceil(Math.abs(g*20-b*10)/b)-1;return l(0<=E&&E<=9),p+=E*bn.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let b=[6];for(let E=this.size-7;b.length<p;E-=g)b.splice(1,0,E);return b}}static getNumRawDataModules(p){if(p<bn.MIN_VERSION||p>bn.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const b=Math.floor(p/7)+2;g-=(25*b-10)*b-55,p>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(bn.getNumRawDataModules(p)/8)-bn.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*bn.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<p-1;E++)g.push(0);g.push(1);let b=1;for(let E=0;E<p;E++){for(let O=0;O<g.length;O++)g[O]=bn.reedSolomonMultiply(g[O],b),O+1<g.length&&(g[O]^=g[O+1]);b=bn.reedSolomonMultiply(b,2)}return g}static reedSolomonComputeRemainder(p,g){let b=g.map(E=>0);for(const E of p){const O=E^b.shift();b.push(0),g.forEach((C,R)=>b[R]^=bn.reedSolomonMultiply(C,O))}return b}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let b=0;for(let E=7;E>=0;E--)b=b<<1^(b>>>7)*285,b^=(g>>>E&1)*p;return l(b>>>8==0),b}finderPenaltyCountPatterns(p){const g=p[1];l(g<=this.size*3);const b=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(b&&p[0]>=g*4&&p[6]>=g?1:0)+(b&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,b){return p&&(this.finderPenaltyAddHistory(g,b),g=0),g+=this.size,this.finderPenaltyAddHistory(g,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(y,p,g){if(p<0||p>31||y>>>p)throw new RangeError("Value out of range");for(let b=p-1;b>=0;b--)g.push(y>>>b&1)}function a(y,p){return(y>>>p&1)!=0}function l(y){if(!y)throw new Error("Assertion error")}const c=class wr{constructor(p,g,b){if(this.mode=p,this.numChars=g,this.bitData=b,g<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(p){let g=[];for(const b of p)n(b,8,g);return new wr(wr.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!wr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let b=0;b<p.length;){const E=Math.min(p.length-b,3);n(parseInt(p.substring(b,b+E),10),E*3+1,g),b+=E}return new wr(wr.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!wr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],b;for(b=0;b+2<=p.length;b+=2){let E=wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(b))*45;E+=wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(b+1)),n(E,11,g)}return b<p.length&&n(wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(b)),6,g),new wr(wr.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:wr.isNumeric(p)?[wr.makeNumeric(p)]:wr.isAlphanumeric(p)?[wr.makeAlphanumeric(p)]:[wr.makeBytes(wr.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)n(p,8,g);else if(p<16384)n(2,2,g),n(p,14,g);else if(p<1e6)n(6,3,g),n(p,21,g);else throw new RangeError("ECI assignment value out of range");return new wr(wr.Mode.ECI,0,g)}static isNumeric(p){return wr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return wr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let b=0;for(const E of p){const O=E.mode.numCharCountBits(g);if(E.numChars>=1<<O)return 1/0;b+=4+O+E.bitData.length}return b}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let b=0;b<p.length;b++)p.charAt(b)!="%"?g.push(p.charCodeAt(b)):(g.push(parseInt(p.substring(b+1,b+3),16)),b+=2);return g}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=c;e.QrSegment=c})(Ml||(Ml={}));(e=>{(t=>{const n=class{constructor(l,c){this.ordinal=l,this.formatBits=c}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ml||(Ml={}));(e=>{(t=>{const n=class{constructor(l,c){this.modeBits=l,this.numBitsCharCount=c}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ml||(Ml={}));var Ru=Ml;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var RM={L:Ru.QrCode.Ecc.LOW,M:Ru.QrCode.Ecc.MEDIUM,Q:Ru.QrCode.Ecc.QUARTILE,H:Ru.QrCode.Ecc.HIGH},GE=128,ZE="L",YE="#FFFFFF",XE="#000000",$E=!1,KE=1,MM=4,DM=0,LM=.1;function QE(e,t=0){const n=[];return e.forEach(function(a,l){let c=null;a.forEach(function(d,y){if(!d&&c!==null){n.push(`M${c+t} ${l+t}h${y-c}v1H${c+t}z`),c=null;return}if(y===a.length-1){if(!d)return;c===null?n.push(`M${y+t},${l+t} h1v1H${y+t}z`):n.push(`M${c+t},${l+t} h${y+1-c}v1H${c+t}z`);return}d&&c===null&&(c=y)})}),n.join("")}function JE(e,t){return e.slice().map((n,a)=>a<t.y||a>=t.y+t.h?n:n.map((l,c)=>c<t.x||c>=t.x+t.w?l:!1))}function kM(e,t,n,a){if(a==null)return null;const l=e.length+n*2,c=Math.floor(t*LM),d=l/t,y=(a.width||c)*d,p=(a.height||c)*d,g=a.x==null?e.length/2-y/2:a.x*d,b=a.y==null?e.length/2-p/2:a.y*d,E=a.opacity==null?1:a.opacity;let O=null;if(a.excavate){let R=Math.floor(g),N=Math.floor(b),k=Math.ceil(y+g-R),F=Math.ceil(p+b-N);O={x:R,y:N,w:k,h:F}}const C=a.crossOrigin;return{x:g,y:b,h:p,w:y,excavation:O,opacity:E,crossOrigin:C}}function PM(e,t){return t!=null?Math.max(Math.floor(t),0):e?MM:DM}function eS({value:e,level:t,minVersion:n,includeMargin:a,marginSize:l,imageSettings:c,size:d,boostLevel:y}){let p=Ct.useMemo(()=>{const R=(Array.isArray(e)?e:[e]).reduce((N,k)=>(N.push(...Ru.QrSegment.makeSegments(k)),N),[]);return Ru.QrCode.encodeSegments(R,RM[t],n,void 0,void 0,y)},[e,t,n,y]);const{cells:g,margin:b,numCells:E,calculatedImageSettings:O}=Ct.useMemo(()=>{let C=p.getModules();const R=PM(a,l),N=C.length+R*2,k=kM(C,d,R,c);return{cells:C,margin:R,numCells:N,calculatedImageSettings:k}},[p,d,c,a,l]);return{qrcode:p,margin:b,cells:g,numCells:E,calculatedImageSettings:O}}var BM=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),jM=Ct.forwardRef(function(t,n){const a=t,{value:l,size:c=GE,level:d=ZE,bgColor:y=YE,fgColor:p=XE,includeMargin:g=$E,minVersion:b=KE,boostLevel:E,marginSize:O,imageSettings:C}=a,N=np(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=N,F=np(N,["style"]),P=C==null?void 0:C.src,B=Ct.useRef(null),W=Ct.useRef(null),q=Ct.useCallback(z=>{B.current=z,typeof n=="function"?n(z):n&&(n.current=z)},[n]),[Y,V]=Ct.useState(!1),{margin:ne,cells:G,numCells:J,calculatedImageSettings:Q}=eS({value:l,level:d,minVersion:b,boostLevel:E,includeMargin:g,marginSize:O,imageSettings:C,size:c});Ct.useEffect(()=>{if(B.current!=null){const z=B.current,Z=z.getContext("2d");if(!Z)return;let ye=G;const he=W.current,ge=Q!=null&&he!==null&&he.complete&&he.naturalHeight!==0&&he.naturalWidth!==0;ge&&Q.excavation!=null&&(ye=JE(G,Q.excavation));const fe=window.devicePixelRatio||1;z.height=z.width=c*fe;const se=c/J*fe;Z.scale(se,se),Z.fillStyle=y,Z.fillRect(0,0,J,J),Z.fillStyle=p,BM?Z.fill(new Path2D(QE(ye,ne))):G.forEach(function(ue,pe){ue.forEach(function(Ie,Ae){Ie&&Z.fillRect(Ae+ne,pe+ne,1,1)})}),Q&&(Z.globalAlpha=Q.opacity),ge&&Z.drawImage(he,Q.x+ne,Q.y+ne,Q.w,Q.h)}}),Ct.useEffect(()=>{V(!1)},[P]);const H=tp({height:c,width:c},k);let ee=null;return P!=null&&(ee=Ct.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{V(!0)},ref:W,crossOrigin:Q==null?void 0:Q.crossOrigin})),Ct.createElement(Ct.Fragment,null,Ct.createElement("canvas",tp({style:H,height:c,width:c,ref:q,role:"img"},F)),ee)});jM.displayName="QRCodeCanvas";var zM=Ct.forwardRef(function(t,n){const a=t,{value:l,size:c=GE,level:d=ZE,bgColor:y=YE,fgColor:p=XE,includeMargin:g=$E,minVersion:b=KE,boostLevel:E,title:O,marginSize:C,imageSettings:R}=a,N=np(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:F,numCells:P,calculatedImageSettings:B}=eS({value:l,level:d,minVersion:b,boostLevel:E,includeMargin:g,marginSize:C,imageSettings:R,size:c});let W=F,q=null;R!=null&&B!=null&&(B.excavation!=null&&(W=JE(F,B.excavation)),q=Ct.createElement("image",{href:R.src,height:B.h,width:B.w,x:B.x+k,y:B.y+k,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const Y=QE(W,k);return Ct.createElement("svg",tp({height:c,width:c,viewBox:`0 0 ${P} ${P}`,ref:n,role:"img"},N),!!O&&Ct.createElement("title",null,O),Ct.createElement("path",{fill:y,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),Ct.createElement("path",{fill:p,d:Y,shapeRendering:"crispEdges"}),q)});zM.displayName="QRCodeSVG";const Ph=["","","","","","","","","","","",""],UM=({event:e,onCardClick:t,opacity:n})=>D.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-slate-200 cursor-pointer group overflow-hidden",style:{opacity:n,transitionProperty:"opacity, transform, box-shadow"},onClick:()=>t(e),children:[D.jsxs("div",{className:"relative overflow-hidden",children:[D.jsx("img",{src:e.image,alt:e.title,className:"w-full h-56 object-cover object-center transition-transform duration-500 group-hover:scale-110"}),D.jsxs("span",{className:"absolute top-4 right-4 bg-white/90 text-sky-800 text-xs font-semibold rounded-full px-3 py-1.5 backdrop-blur-sm shadow-sm flex items-center gap-1.5 border border-slate-200",children:[D.jsx(Bl,{className:"text-sky-600"}),new Date(e.date).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})]})]}),D.jsxs("div",{className:"p-6",children:[D.jsx("h3",{className:"text-lg font-bold text-slate-800 line-clamp-2 mb-2 h-14",children:e.title}),D.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 leading-relaxed mb-4 h-[4.5rem]",children:e.shortDescription}),D.jsxs("div",{className:"inline-flex items-center gap-1.5 text-sm font-semibold text-sky-600 hover:text-sky-500 transition-colors duration-200 group/button",children:["",D.jsx(cE,{className:"transform transition-transform duration-200 group-hover/button:translate-x-1"})]})]})]}),FM=({event:e,onClose:t})=>e?D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[100] animate-fade-in",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-auto my-8 relative max-h-[90vh] flex flex-col transform scale-95 animate-scale-in border border-slate-200",children:[D.jsxs("div",{className:"relative",children:[D.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover object-center rounded-t-2xl"}),D.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-600 bg-white/80 hover:bg-white transition duration-200 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","aria-label":"Close",children:D.jsx(mE,{size:20})})]}),D.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-grow",children:[D.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:e.title}),D.jsxs("p",{className:"text-sm text-slate-500 mb-6 flex items-center gap-2",children:[D.jsx(Bl,{className:"text-sky-500"}),D.jsx("span",{className:"font-medium",children:":"})," ",new Date(e.date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})]}),D.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 leading-relaxed whitespace-pre-wrap",children:e.fullDescription})]})]})}):null,HM=()=>{const[e,t]=K.useState([]),[n,a]=K.useState(!0),[l,c]=K.useState(null),[d,y]=K.useState(""),[p,g]=K.useState(0),[b,E]=K.useState(!1),[O,C]=K.useState(!1),[R,N]=K.useState(null);K.useEffect(()=>{(async()=>{a(!0),c(null);try{const{data:V,error:ne}=await da.from("events").select("id, title, description, short_description, image_url, event_date").order("event_date",{ascending:!1});if(ne)throw ne;const G=V.map(J=>{const H=new Date(J.event_date).toLocaleDateString("th-TH",{month:"long"}),ee=J.short_description||(J.description?J.description.substring(0,120)+"...":"");return{id:J.id,title:J.title,date:J.event_date,month:H,image:J.image_url,fullDescription:J.description,shortDescription:ee}});if(t(G),G.length>0&&!d)y(G[0].month);else if(G.length===0&&!d){const J=new Date().toLocaleDateString("th-TH",{month:"long"});y(Ph.includes(J)?J:Ph[0])}}catch(V){console.error("Error fetching events:",V),c(V.message||" Event ")}a(!1)})()},[]);const k=K.useMemo(()=>e.length?e.reduce((Y,V)=>((Y[V.month]=Y[V.month]||[]).push(V),Y),{}):{},[e]),F=K.useMemo(()=>k[d]||[],[d,k]),P=K.useMemo(()=>{const Y=new Set(e.map(V=>V.month));return Ph.filter(V=>Y.has(V))},[e]),B=K.useCallback(Y=>{g(0),setTimeout(()=>y(Y),150),E(!1)},[]),W=K.useCallback(Y=>{N(Y),C(!0),document.body.style.overflow="hidden"},[]),q=K.useCallback(()=>{C(!1),N(null),document.body.style.overflow="auto"},[]);return K.useEffect(()=>{const Y=setTimeout(()=>g(1),50);return()=>clearTimeout(Y)},[d,F]),K.useEffect(()=>{const Y=V=>{b&&!V.target.closest(".month-selector-wrapper")&&E(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[b]),n?D.jsx("div",{className:"bg-white min-h-screen flex items-center justify-center",children:D.jsx("p",{className:"text-xl text-slate-600",children:"..."})}):l?D.jsxs("div",{className:"bg-white min-h-screen flex flex-col items-center justify-center p-4",children:[D.jsx("p",{className:"text-xl text-red-500 mb-4",children:""}),D.jsx("p",{className:"text-md text-slate-700 text-center",children:l}),D.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 bg-sky-600 hover:bg-sky-700 text-white font-medium py-2 px-5 rounded-lg transition-colors",children:""})]}):D.jsx("div",{className:"bg-white min-h-screen py-16 sm:py-24 transition-colors duration-300",children:D.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-12 sm:mb-16",children:[D.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight text-slate-900 mb-6 sm:mb-0",children:""}),D.jsxs("div",{className:"relative month-selector-wrapper",children:[D.jsxs("button",{type:"button",className:"inline-flex items-center justify-between w-48 bg-slate-50 text-slate-700 border border-slate-300 rounded-lg px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-slate-100 hover:border-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200",onClick:()=>E(!b),children:[D.jsx("span",{className:"font-semibold",children:d||""}),D.jsx(fE,{className:`text-xs text-slate-500 ml-1 transition-transform duration-200 ${b?"rotate-180":""}`})]}),b&&D.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-20 border border-slate-200 max-h-72 overflow-y-auto custom-scrollbar animate-fade-in-short",children:(P.length>0?P:Ph).map(Y=>D.jsx("button",{type:"button",className:`block px-4 py-2.5 text-slate-700 hover:bg-slate-100 text-sm w-full text-left transition-colors duration-150 ${d===Y?"bg-sky-50 font-semibold text-sky-700":""}`,onClick:()=>B(Y),children:Y},Y))})]})]}),F.length>0?D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:F.map(Y=>D.jsx(UM,{event:Y,onCardClick:W,opacity:p},Y.id))}):D.jsxs("div",{className:"col-span-full text-center py-20 text-slate-500 transition-opacity duration-500 ease-in-out",style:{opacity:p},children:[D.jsx("div",{className:"inline-block p-5 bg-slate-100 rounded-full",children:D.jsx(Bl,{className:"mx-auto text-4xl text-slate-400"})}),D.jsxs("p",{className:"text-xl font-medium mt-6 mb-2 text-slate-700",children:[" ",d||""]}),D.jsx("p",{className:"text-sm",children:" "})]}),O&&R&&D.jsx(FM,{event:R,onClose:q})]})})},VM=()=>{const[e,t]=K.useState(!1),[n,a]=K.useState({success:!1,message:""}),[l,c]=K.useState(null),d=K.useRef(),y="6LfTxV8rAAAAAIL8kp_sqm6KAUzrpo2UFgW-BcPC",[p,g]=K.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),b=O=>{const{name:C,value:R}=O.target;g(N=>({...N,[C]:R}))},E=async O=>{if(O.preventDefault(),!l){a({success:!1,message:""});return}t(!0),a({success:!1,message:""});try{const{error:C}=await da.from("contacts").insert([{firstName:p.firstName,lastName:p.lastName,email:p.email,subject:p.subject,message:p.message}]);if(C)throw C;a({success:!0,message:"! "}),g({firstName:"",lastName:"",email:"",subject:"",message:""}),d.current.reset()}catch(C){console.error("Error submitting form:",C.message),a({success:!1,message:" "})}finally{t(!1)}};return D.jsx("div",{className:"bg-white min-h-screen",children:D.jsxs("div",{className:"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8",children:[D.jsxs("div",{className:"text-center mb-16",children:[D.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 tracking-tight",children:""}),D.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500",children:" "})]}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[D.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[D.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:""}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"flex items-start",children:[D.jsx(dE,{className:"flex-shrink-0 h-6 w-6 text-blue-600 mt-1"}),D.jsxs("div",{className:"ml-4",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:""}),D.jsxs("p",{className:"text-gray-600",children:["444 .   Subdistrict   ",D.jsx("br",{}),"  10330  ."]})]})]}),D.jsxs("div",{className:"flex items-start",children:[D.jsx(EI,{className:"flex-shrink-0 h-6 w-6 text-blue-600 mt-1"}),D.jsxs("div",{className:"ml-4",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:""}),D.jsx("p",{className:"text-gray-600",children:"064 232 8899"})]})]}),D.jsxs("div",{className:"flex items-start",children:[D.jsx(hE,{className:"flex-shrink-0 h-6 w-6 text-blue-600 mt-1"}),D.jsxs("div",{className:"ml-4",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:""}),D.jsx("p",{className:"text-gray-600",children:"Boruyasushi.mbk@gmail.com"})]})]})]}),D.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:""}),D.jsxs("div",{className:"flex space-x-4 mt-4",children:[D.jsx("a",{href:"https://www.facebook.com/Boruyasushi",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-700 transition-colors duration-300",children:D.jsx(_I,{size:32})}),D.jsx("a",{href:"https://www.instagram.com/boruyasushi/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-500 transition-colors duration-300",children:D.jsx(uE,{size:32})})]})]})]}),D.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[D.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:""}),D.jsxs("form",{onSubmit:E,className:"space-y-6",children:[D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:""}),D.jsx("input",{type:"text",name:"firstName",id:"firstName",value:p.firstName,onChange:b,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:""}),D.jsx("input",{type:"text",name:"lastName",id:"lastName",value:p.lastName,onChange:b,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:""}),D.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:b,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:""}),D.jsx("input",{type:"text",name:"subject",id:"subject",value:p.subject,onChange:b,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:""}),D.jsx("textarea",{name:"message",id:"message",rows:"5",value:p.message,onChange:b,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),D.jsx("div",{className:"flex justify-center",children:D.jsx(EE,{ref:d,sitekey:y,onChange:O=>c(O)})}),D.jsx("div",{children:D.jsx("button",{type:"submit",disabled:e,className:"w-full inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-300 disabled:bg-gray-400 disabled:cursor-not-allowed",children:e?"...":""})}),n.message&&D.jsx("p",{className:`text-center font-medium ${n.success?"text-green-600":"text-red-600"}`,children:n.message})]})]})]}),D.jsxs("div",{className:"mt-20",children:[D.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:""}),D.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-lg border border-gray-200",children:D.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3875.551825866164!2d100.5612140758178!3d13.745672897217036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x30e29ee109dab6e1%3A0xfd1898c1a32a2203!2sTerminal%2021%20Asok!5e0!3m2!1sen!2sth!4v1726220087134!5m2!1sen!2sth",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})})},tS="/assets/MENU1-BJd9zLox.png",qM="/assets/MENU2-B1cjwKHx.png",WM="/assets/MENU3-DdJ-kjF1.png",nS="/assets/Set_menu-BSTwGbRH.jpg",ym={buffet:[tS,qM,WM],setMenu:[nS]},GM=()=>{const[e,t]=K.useState(null),[n,a]=K.useState(0),[l,c]=K.useState(null),d=H=>{t(H),a(0)},y=()=>{t(null)},p=()=>ym[e]||[],g=()=>{const H=p();a(n===H.length-1?0:n+1)},b=()=>{const H=p();a(n===0?H.length-1:n-1)},E={backgroundColor:"#ffffff",padding:"80px 0",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",transition:"filter 0.3s ease-in-out",filter:e?"blur(5px)":"none"},O={display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",width:"100%",maxWidth:"1500px",alignItems:"stretch"},C={flex:1,minWidth:"320px",padding:"0 20px",display:"flex"},R={width:"100%",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",overflow:"hidden",cursor:"pointer",margin:"20px 0",transition:"transform 0.3s ease, box-shadow 0.3s ease",position:"relative",display:"flex",flexDirection:"column"},N={width:"100%",height:"auto",display:"block",flexGrow:1,objectFit:"cover"},k={position:"absolute",bottom:0,left:0,width:"100%",background:"linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 100%)",padding:"25px",textAlign:"left",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",zIndex:2},F={fontSize:"1.8rem",fontWeight:"bold",color:"#ffffff",margin:"0 0 5px 0",textShadow:"1px 1px 3px rgba(0,0,0,0.4)"},P={fontSize:"1rem",color:"#e0e0e0",margin:0,textShadow:"1px 1px 3px rgba(0,0,0,0.4)"},B={transform:"translateY(-8px)",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.15)"},W={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,opacity:e?1:0,pointerEvents:e?"auto":"none",transition:"opacity 0.3s ease"},q={position:"relative",width:"90%",maxWidth:"1000px",maxHeight:"90vh",borderRadius:"8px",overflow:"hidden",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.3)",transform:e?"scale(1)":"scale(0.95)",transition:"transform 0.3s ease",backgroundColor:"#000"},Y={position:"absolute",top:"10px",right:"10px",zIndex:10,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"#ffffff",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.6rem",lineHeight:"1",transition:"background-color 0.2s ease"},V={display:"flex",transform:`translateX(-${n*100}%)`,transition:"transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)"},ne={width:"100%",flexShrink:0,display:"block",maxHeight:"90vh",objectFit:"contain"},G=H=>({position:"absolute",top:"50%",transform:"translateY(-50%)",...H==="left"?{left:"15px"}:{right:"15px"},backgroundColor:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"50%",width:"45px",height:"45px",fontSize:"1.8rem",color:"#333",cursor:"pointer",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"}),J={position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px",zIndex:2},Q=H=>({width:"12px",height:"12px",borderRadius:"50%",backgroundColor:H?"#ffffff":"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(0,0,0,0.1)",cursor:"pointer"});return D.jsxs("div",{style:{width:"100%"},children:[D.jsx("div",{style:E,children:D.jsxs("div",{style:O,children:[D.jsx("div",{style:C,children:D.jsxs("div",{style:{...R,...l==="buffet"?B:{}},onMouseEnter:()=>c("buffet"),onMouseLeave:()=>c(null),onClick:()=>d("buffet"),children:[D.jsx("img",{src:tS,alt:"Buffet",style:N}),D.jsxs("div",{style:k,children:[D.jsx("h3",{style:F,children:""}),D.jsxs("p",{style:P,children:[" (",ym.buffet.length," )"]})]})]})}),D.jsx("div",{style:C,children:D.jsxs("div",{style:{...R,...l==="setMenu"?B:{}},onMouseEnter:()=>c("setMenu"),onMouseLeave:()=>c(null),onClick:()=>d("setMenu"),children:[D.jsx("img",{src:nS,alt:"Set Menu",style:{...N,height:"100%",objectFit:"cover"}}),D.jsxs("div",{style:k,children:[D.jsx("h3",{style:F,children:""}),D.jsxs("p",{style:P,children:[" (",ym.setMenu.length," )"]})]})]})})]})}),e&&D.jsx("div",{style:W,onClick:y,children:D.jsxs("div",{style:q,onClick:H=>H.stopPropagation(),children:[D.jsx("button",{style:Y,onClick:y,"aria-label":"Close menu",children:""}),D.jsx("div",{style:V,children:p().map((H,ee)=>D.jsx("img",{src:H,alt:`Menu ${ee+1}`,style:ne},ee))}),p().length>1&&D.jsxs(D.Fragment,{children:[D.jsx("button",{style:G("left"),onClick:b,children:""}),D.jsx("button",{style:G("right"),onClick:g,children:""}),D.jsx("div",{style:J,children:p().map((H,ee)=>D.jsx("div",{style:Q(ee===n),onClick:()=>a(ee)},ee))})]})]})})]})};function ZM(e){return fn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1"},child:[]}]})(e)}function YM(e){return fn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"},child:[]}]})(e)}const XM=()=>{const[e,t]=K.useState(!1);K.useEffect(()=>{const E=setTimeout(()=>{t(!0)},300);return()=>clearTimeout(E)},[]);const n={opacity:e?1:0,transition:"opacity 0.7s ease-in-out",padding:"50px 40px",maxWidth:"960px",margin:"60px auto",lineHeight:"1.8",fontSize:"1rem",color:"#34495e",backgroundColor:"#fafafa",borderRadius:"8px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.08)",fontFamily:"'Noto Sans Thai', 'Helvetica', 'Arial', sans-serif",borderTop:"5px solid #16a085"},a={display:"flex",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid #e0e0e0",paddingBottom:"25px"},l={fontSize:"2.8rem",marginRight:"20px",color:"#16a085"},c={color:"#2c3e50",fontWeight:"600",fontFamily:"'Noto Sans Thai', sans-serif"},d={...c,fontSize:"2.4rem",margin:"0"},y={...c,fontSize:"1.75rem",marginTop:"45px",marginBottom:"20px",paddingBottom:"10px"},p={marginBottom:"20px"},g={fontStyle:"italic",color:"#7f8c8d",marginBottom:"30px",textAlign:"right",fontSize:"0.9rem"},b={color:"#16a085",fontWeight:"700"};return D.jsxs("div",{style:n,children:[D.jsxs("div",{style:a,children:[D.jsx(ZM,{style:l}),D.jsx("h1",{style:d,children:""})]}),D.jsx("p",{style:g,children:": 14  2568"}),D.jsxs("p",{style:p,children:[" ",D.jsx("strong",{style:b,children:"Boruyasushi.com"}),'  ("")   ("")    ']}),D.jsx("h2",{style:y,children:"1. "}),D.jsx("p",{style:p,children:"     "}),D.jsx("h2",{style:y,children:"2. "}),D.jsxs("p",{style:p,children:["  , , , ,   ",D.jsx("strong",{style:b,children:"Boruyasushi.com"}),"   , , ,  "]}),D.jsx("h2",{style:y,children:"3. "}),D.jsx("p",{style:p,children:"      "}),D.jsx("h2",{style:y,children:"4. "}),D.jsxs("p",{style:p,children:[' "" ',D.jsx("strong",{style:b,children:"Boruyasushi.com"}),"   "]}),D.jsx("h2",{style:y,children:"5. "}),D.jsx("p",{style:p,children:"   "}),D.jsx("h2",{style:y,children:"6. "}),D.jsx("p",{style:p,children:" :"}),D.jsxs("p",{style:p,children:[D.jsx("strong",{style:b,children:":"})," contact@boruyasushi.com"]}),D.jsx("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"40px 0"}}),D.jsx("p",{style:{...p,textAlign:"center",fontSize:"0.9rem",color:"#7f8c8d"}})]})},$M=()=>{const[e,t]=K.useState(!1);K.useEffect(()=>{const C=setTimeout(()=>{t(!0)},300);return()=>clearTimeout(C)},[]);const n={opacity:e?1:0,transition:"opacity 0.7s ease-in-out",padding:"50px 40px",maxWidth:"960px",margin:"60px auto",lineHeight:"1.8",fontSize:"1rem",color:"#34495e",backgroundColor:"#fafafa",borderRadius:"8px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.08)",fontFamily:"'Noto Sans Thai', 'Helvetica', 'Arial', sans-serif",borderTop:"5px solid #16a085"},a={display:"flex",alignItems:"center",marginBottom:"30px",borderBottom:"1px solid #e0e0e0",paddingBottom:"25px"},l={fontSize:"2.8rem",marginRight:"20px",color:"#16a085"},c={color:"#2c3e50",fontWeight:"600",fontFamily:"'Noto Sans Thai', sans-serif"},d={...c,fontSize:"2.4rem",margin:"0"},y={...c,fontSize:"1.75rem",marginTop:"45px",marginBottom:"20px",paddingBottom:"10px"},p={listStyleType:"disc",paddingLeft:"25px",marginBottom:"20px"},g={marginBottom:"12px"},b={marginBottom:"20px"},E={fontStyle:"italic",color:"#7f8c8d",marginBottom:"30px",textAlign:"right",fontSize:"0.9rem"},O={color:"#16a085",fontWeight:"700"};return D.jsxs("div",{style:n,children:[D.jsxs("div",{style:a,children:[D.jsx(YM,{style:l}),D.jsx("h1",{style:d,children:""})]}),D.jsx("p",{style:E,children:": 14  2568"}),D.jsxs("p",{style:b,children:[" ",D.jsx("strong",{style:O,children:"Boruyasushi.com"}),' (""  "")   ("") , , ']}),D.jsx("h2",{style:y,children:"1. "}),D.jsx("p",{style:b,children:" (Cookies)   :"}),D.jsxs("ul",{style:p,children:[D.jsxs("li",{style:g,children:[D.jsx("strong",{style:O,children:" (Usage Data):"}),"   , , , "]}),D.jsxs("li",{style:g,children:[D.jsx("strong",{style:O,children:" (Device Data):"}),"    (IP Address), "]})]}),D.jsx("h2",{style:y,children:"2. "}),D.jsx("p",{style:b,children:":"}),D.jsxs("ul",{style:p,children:[D.jsx("li",{style:g,children:" , , "}),D.jsx("li",{style:g,children:""}),D.jsx("li",{style:g,children:""})]}),D.jsx("p",{style:b,children:"  "}),D.jsx("h2",{style:y,children:"3. "}),D.jsx("p",{style:b,children:" , ,    "}),D.jsx("h2",{style:y,children:"4. "}),D.jsx("p",{style:b,children:" :"}),D.jsxs("p",{style:b,children:[D.jsx("strong",{style:O,children:":"})," contact@boruyasushi.com"]})]})},KM="/assets/%E0%B8%84%E0%B9%88%E0%B8%B2%E0%B8%9B%E0%B8%A3%E0%B8%B1%E0%B8%9A%E0%B8%95%E0%B9%88%E0%B8%B2%E0%B8%87%E0%B9%86-1-BSca_2RZ.png",QM=()=>{const e={backgroundColor:"#f9f9f9",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},t={width:"90%",maxWidth:"800px",height:"auto",display:"block",marginBottom:"25px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"};return D.jsx("div",{style:e,children:D.jsx("img",{src:KM,alt:"Menu 1",style:t})})},JM=()=>D.jsx(lN,{children:D.jsx(H4,{})}),e7=$4([{element:D.jsx(JM,{}),children:[{path:"/",element:D.jsx(xN,{})},{path:"/register",element:D.jsx(GN,{})},{path:"/game",element:D.jsx(wR,{})},{path:"/Voucher",element:D.jsx(oM,{})},{path:"/NewsAndEvent",element:D.jsx(HM,{})},{path:"/Contact",element:D.jsx(VM,{})},{path:"Menu",element:D.jsx(GM,{})},{path:"TermsOfService",element:D.jsx(XM,{})},{path:"PrivacyPolicy",element:D.jsx($M,{})},{path:"TermOfService",element:D.jsx(QM,{})}]}]),t7=()=>D.jsx(aC,{router:e7});C3.createRoot(document.getElementById("root")).render(D.jsx(K.StrictMode,{children:D.jsx(t7,{})}));export{Xr as _,_d as a,BI as b,Vo as g,ui as r};
